import{j as e}from"./spline-DN92G9fQ.js";import{r as t,u as i}from"./react-vendor-C5CBPnGl.js";import{s}from"./index-BCXc__lR.js";import"./supabase-CAOwvaCC.js";function r(){const[r,l]=t.useState(null),[o,a]=t.useState(!1),[n,c]=t.useState(null),[h,d]=t.useState(!1),[x,p]=t.useState(window.innerWidth<640),u=i();t.useEffect(()=>{const e=setTimeout(()=>{d(!0)},100);return()=>clearTimeout(e)},[]),t.useEffect(()=>{const e=()=>p(window.innerWidth<640);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const w=t=>{switch(t){case"artist":return e.jsxs("div",{className:"music-icon group w-16 h-16 flex-shrink-0",children:[e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),e.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"white",opacity:"0.3"}),e.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"white",opacity:"0.3"})]}),e.jsx("div",{className:"note note-1",children:e.jsxs("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})}),e.jsx("div",{className:"note note-2",children:e.jsxs("svg",{width:"8",height:"12",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})}),e.jsx("div",{className:"note note-3",children:e.jsxs("svg",{width:"6",height:"10",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})})]});case"creator":return e.jsx("div",{className:"creators-icon group w-16 h-16 flex-shrink-0",children:e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"white",opacity:"0.4"}),e.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"white",opacity:"0.4"}),e.jsxs("g",{className:"app app-1",children:[e.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"white",opacity:"0.2"}),e.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"white",opacity:"0.8"})]}),e.jsxs("g",{className:"app app-2",children:[e.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"white",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"white",strokeWidth:"1",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"white",opacity:"0.6"})]}),e.jsxs("g",{className:"app app-3",children:[e.jsx("rect",{x:"16",y:"26",width:"10",height:"8",rx:"2",fill:"white",opacity:"0.2"}),e.jsx("path",{d:"M19 32V28L23 27V31",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"19",cy:"32",r:"1.2",fill:"white",opacity:"0.8"})]}),e.jsxs("g",{className:"app app-4",children:[e.jsx("rect",{x:"26",y:"26",width:"8",height:"8",rx:"2",fill:"white",opacity:"0.2"}),e.jsx("rect",{x:"27.5",y:"27.5",width:"2",height:"2",rx:"0.5",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"30.5",y:"27.5",width:"2",height:"2",rx:"0.5",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"27.5",y:"30.5",width:"2",height:"2",rx:"0.5",fill:"white",opacity:"0.8"}),e.jsx("rect",{x:"30.5",y:"30.5",width:"2",height:"2",rx:"0.5",fill:"white",opacity:"0.8"})]})]})});case"business":return e.jsx("div",{className:"businesses-icon group w-16 h-16 flex-shrink-0",children:e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"white",strokeWidth:"2",fill:"none"}),e.jsx("rect",{className:"lid",x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"white",strokeWidth:"2",fill:"black"}),e.jsx("rect",{className:"clasp",x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"white"}),e.jsxs("g",{className:"documents",children:[e.jsx("rect",{x:"12",y:"22",width:"10",height:"14",rx:"1",fill:"white",opacity:"0.2"}),e.jsx("line",{x1:"14",y1:"25",x2:"20",y2:"25",stroke:"white",strokeWidth:"1",opacity:"0.6"}),e.jsx("line",{x1:"14",y1:"28",x2:"18",y2:"28",stroke:"white",strokeWidth:"1",opacity:"0.6"}),e.jsx("line",{x1:"14",y1:"31",x2:"20",y2:"31",stroke:"white",strokeWidth:"1",opacity:"0.6"}),e.jsx("rect",{x:"26",y:"22",width:"10",height:"14",rx:"1",fill:"white",opacity:"0.2"}),e.jsx("path",{d:"M28 33L31 28L33 30L36 25",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8"})]})]})});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center relative overflow-hidden py-8 sm:py-12 px-6",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E\")"},children:[e.jsxs("button",{onClick:()=>u("/tell-us-about-yourself"),className:"fixed top-6 left-6 z-50 flex items-center gap-1.5 text-gray-400 hover:text-white transition-colors group",children:[e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-xs font-medium",children:"Back"})]}),!x&&e.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none transition-opacity duration-700 ease-out overflow-hidden",style:{opacity:h?1:0,transform:"translateX(30%) scale(1.035)"},children:e.jsx("spline-viewer",{url:"https://prod.spline.design/hxB6DGH8u6Rcpq21/scene.splinecode","mouse-controls":"false",className:"spline-viewer-no-watermark"})}),e.jsxs("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:"#F2F4F7"},children:"What are you?"}),e.jsx("p",{className:"text-sm",style:{color:"#9CA3AF"},children:"Select the option that best describes you"})]}),e.jsx("div",{className:"w-full space-y-3 mb-6",children:[{id:"artist",title:"Artist",description:"Musicians and Artists."},{id:"creator",title:"Creator",description:"Content Creators, Youtubers, Influencers"},{id:"business",title:"Brand",description:"Companies and Businesses"}].map(t=>e.jsxs("button",{onClick:()=>{return e=t.id,void l(e);var e},className:"relative w-full p-5 rounded-lg transition-all duration-300 flex items-center gap-4 hover:scale-[1.01]",style:r===t.id?{background:"rgba(10, 10, 15, 0.65)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.03)"}:{background:"rgba(10, 10, 15, 0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(75, 85, 99, 1)"},children:[w(t.id),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"#F2F4F7"},children:t.title}),e.jsx("p",{className:"text-sm",style:{color:"#9CA3AF"},children:t.description})]}),r===t.id&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:"#E8E8E8"},children:e.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})})]},t.id))}),n&&e.jsx("div",{className:"mb-4 text-center text-red-500 text-xs",children:n}),e.jsx("button",{onClick:async()=>{if(r){a(!0),c(null);try{const{data:{user:e}}=await s.auth.getUser(),t=localStorage.getItem("verifiedUserId"),i=(localStorage.getItem("verifiedEmail"),(null==e?void 0:e.id)||t);if(!i)return localStorage.setItem("selectedUserType",r),void c("Please complete sign-up first");{const e=localStorage.getItem("tempProfile"),t=e?JSON.parse(e):{},s=t.profilePicture&&!t.profilePicture.startsWith("blob:")?t.profilePicture:null,l="https://hlcpoqxzqgbghsadouef.supabase.co/functions/v1/save-profile",o=await fetch(l,{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhsY3BvcXh6cWdiZ2hzYWRvdWVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMzI2MTUsImV4cCI6MjA4MTcwODYxNX0.Qhbzj0g5FbpW0wgtGsJBF2AV0HqL-9X2S2nGL64KCYA","Content-Type":"application/json"},body:JSON.stringify({userId:i,userType:r,firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",profilePictureUrl:s,location:t.location||"",primaryLanguage:t.primaryLanguage||""})}),n=await o.json();if(!n.success)return c(n.message||"Failed to save profile"),void a(!1);localStorage.removeItem("tempProfile")}switch(r){case"artist":u("/dashboard/artist",{state:{fromOnboarding:!0}});break;case"creator":u("/dashboard/creator",{state:{fromOnboarding:!0}});break;case"business":u("/dashboard/business",{state:{fromOnboarding:!0}});break;default:u("/")}}catch(e){switch(localStorage.setItem("selectedUserType",r),r){case"artist":u("/dashboard/artist",{state:{fromOnboarding:!0}});break;case"creator":u("/dashboard/creator",{state:{fromOnboarding:!0}});break;case"business":u("/dashboard/business",{state:{fromOnboarding:!0}});break;default:u("/")}}finally{a(!1)}}},disabled:!r||o,className:`\n            w-full h-11 rounded-lg font-semibold transition-all duration-300\n            ${r&&!o?"hover:opacity-95":"opacity-50 cursor-not-allowed"}\n          `,style:{background:r&&!o?"#E8E8E8":"rgba(75, 85, 99, 1)",color:r&&!o?"#000000":"#9CA3AF"},children:o?"Saving...":"Continue"})]})]})}export{r as UserTypeSelectionPage};
