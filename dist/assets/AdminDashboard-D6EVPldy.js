const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BeWpAAxC.js","assets/spline-OfIZ-5GP.js","assets/react-vendor-ClpDbY_3.js","assets/supabase-Dq2D-Wrk.js","assets/index-B1TvAsWV.css"])))=>i.map(i=>d[i]);
import{j as e,_ as r}from"./spline-OfIZ-5GP.js";import{r as s,u as t}from"./react-vendor-ClpDbY_3.js";import{e as a,a as l,S as o,b as i,s as n,A as c}from"./index-BeWpAAxC.js";import{j as d,k as x,d as m,e as p,f as u,h,U as y,M as v,C as b,E as g,b as f,S as j,T as N,l as k}from"./ToggleSwitch-DHZiuePx.js";import"./supabase-Dq2D-Wrk.js";import"./x-9eSzjIWe.js";import"./createLucideIcon-DkpiXdJH.js";import"./alert-circle-BC14ilB7.js";import"./loader-2-CQySOwBf.js";import"./trash-2-CTJu5OiJ.js";function w({userType:r,size:s=14}){const t=s;return"artist"===r?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t,flexShrink:0},children:[e.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),e.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"}),e.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}):"creator"===r?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t,flexShrink:0},children:[e.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"currentColor",opacity:"0.8"}),e.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"currentColor",strokeWidth:"1",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"currentColor",opacity:"0.6"})]}):"freelancer"===r?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t,flexShrink:0},children:[e.jsx("rect",{x:"12",y:"10",width:"24",height:"10",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("rect",{x:"21",y:"20",width:"6",height:"24",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("line",{x1:"22",y1:"32",x2:"26",y2:"32",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("line",{x1:"22",y1:"37",x2:"26",y2:"37",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}):"business"===r?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t,flexShrink:0},children:[e.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"black"}),e.jsx("rect",{x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"currentColor"})]}):null}function C({currentAdminId:r}){const{tokens:t,theme:a}=i(),{conversations:l,loading:o}=d(r),[c,v]=s.useState(""),[b,g]=s.useState(""),[f,j]=s.useState(null),[N,k]=s.useState(!0),[C,_]=s.useState(!0),[L,S]=s.useState("primary"),[M,B]=s.useState("all"),{profile:A}=x(r);m(r);const T=s.useMemo(()=>p(e=>g(e),300),[]);s.useEffect(()=>{T(c)},[c,T]);const W=s.useRef(!1);s.useEffect(()=>{if(o||!r)return;if(W.current)return void _(!1);(async()=>{const e=window.innerWidth<1024;if(l.length>0){const s=localStorage.getItem(`lastConversation_${r}`);if(s){const e=l.find(e=>e.id===s);if(e){if(j(e),e.unread_count_admin>0){const{error:r}=await n.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}return W.current=!0,void _(!1)}}if(!e){const e=l[0];if(j(e),e.unread_count_admin>0){const{error:r}=await n.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}}}W.current=!0,_(!1)})()},[r,o,l]);const F=s.useMemo(()=>l.filter(e=>{if(!e.customer)return!1;const r=e.customer.name.toLowerCase().includes(b.toLowerCase()),s="all"===M||e.customer.user_type===M;return r&&s}),[l,b,M]),E=s.useCallback(e=>{var s;return e===r?(null==A?void 0:A.name)||"You":(null==(s=null==f?void 0:f.customer)?void 0:s.name)||"Customer"},[A,f,r]),P=async(e,r)=>{try{const{error:s}=await n.from("conversations").update({is_pinned:r}).eq("id",e);if(s)throw s}catch(s){}},U="undefined"!=typeof window&&window.innerWidth<1024,$=o&&0===l.length;return U&&f?e.jsx("div",{className:"flex flex-col w-full",style:{backgroundColor:"var(--bg-primary)",height:"100%",maxHeight:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:e.jsx("div",{className:"flex-1 min-h-0",children:f.customer&&e.jsx(u,{conversation:f,otherUser:f.customer,currentUserId:f.admin_id||r,getSenderName:E,backgroundTheme:a,onBack:()=>k(!0),showBackButton:!0,enableSpellCheck:!0},f.id)})}):e.jsxs("div",{className:"flex overflow-hidden rounded-2xl w-full shadow-2xl h-full",style:{backgroundColor:t.bg.primary,border:`1px solid ${t.border.default}`},children:[e.jsxs("div",{className:(N?"flex":"hidden lg:flex")+" flex-col w-full lg:w-80 xl:w-96 min-h-0 flex-shrink-0 overflow-hidden",style:{borderRight:`1px solid ${t.border.default}`,backgroundColor:t.bg.primary},children:[e.jsxs("div",{className:"p-5 pb-4",style:{borderBottom:`1px solid ${t.border.default}`,backgroundColor:t.bg.primary},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",style:{color:t.text.primary},children:"Messages"}),e.jsx("p",{className:"text-sm",style:{color:t.text.primary,opacity:.6},children:"Manage customer conversations"})]}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("div",{className:"flex gap-0 flex-1",style:{borderBottom:`1px solid ${t.border.subtle}`},children:["primary","general","requests"].map(r=>e.jsxs("button",{onClick:()=>S(r),className:"flex-1 px-2 py-2 text-xs font-medium transition-all relative whitespace-nowrap",style:{color:"var(--text-primary)",opacity:L===r?1:.4,background:"none",border:"none"},children:["primary"===r?"Primary":"general"===r?"General":"Requests",L===r&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5",style:{backgroundColor:"var(--text-primary)"}})]},r))})}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:["all","artist","creator","freelancer","business"].map(r=>{const s=M===r;return e.jsxs("button",{onClick:()=>B(r),className:"flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium transition-all flex-shrink-0",style:{backgroundColor:s?"var(--bg-elevated)":"transparent",border:s?"1px solid var(--text-primary)":`1px solid ${t.border.subtle}`,color:"var(--text-primary)",opacity:s?1:.65},children:["all"!==r&&e.jsx(w,{userType:r,size:9}),{all:"All",artist:"Artists",creator:"Creators",freelancer:"Freelancers",business:"Brands"}[r]]},r)})}),e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{color:t.text.primary,opacity:.5},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:c,onChange:e=>v(e.target.value),placeholder:"Search customers...","aria-label":"Search customers",className:"w-full pl-10 pr-4 py-3 rounded-xl text-sm focus:outline-none transition-all",style:{backgroundColor:t.bg.input,border:`1px solid ${t.border.default}`,color:t.text.primary},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor=t.border.default})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent"},children:$?e.jsx(h,{count:4,backgroundTheme:a}):0===F.length?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:t.text.primary,opacity:.35},children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),e.jsx("p",{className:"text-sm font-medium",style:{color:t.text.primary},children:"No conversations found"}),e.jsx("p",{className:"text-xs mt-1",style:{color:t.text.primary,opacity:.5},children:"Customer conversations will appear here"})]}):F.map(s=>s.customer&&e.jsx(y,{user:s.customer,conversation:s,isActive:(null==f?void 0:f.id)===s.id,onClick:()=>(async e=>{if(j(e),k(!1),localStorage.setItem(`lastConversation_${r}`,e.id),e.unread_count_admin>0)try{await n.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}catch(s){}})(s),onPin:P,unreadCount:s.unread_count_admin,currentUserId:r},s.id))})]}),e.jsx("div",{className:(N?"hidden lg:flex":"flex")+" flex-col flex-1 min-h-0 min-w-0 overflow-hidden",style:{backgroundColor:t.bg.primary},children:f&&f.customer?e.jsx(u,{conversation:f,otherUser:f.customer,currentUserId:f.admin_id||r,getSenderName:E,backgroundTheme:a,enableSpellCheck:!0},f.id):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-2xl flex items-center justify-center",style:{backgroundColor:t.bg.elevated,border:`1px solid ${t.border.default}`},children:e.jsx("svg",{className:"w-10 h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:t.text.primary,opacity:.35},children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:t.text.primary},children:"Select a conversation"}),e.jsx("p",{className:"text-sm",style:{color:t.text.primary,opacity:.6},children:"Choose a customer from the list to start chatting"})]})})})]})}function _({adminId:r,onClose:t}){const{tokens:a}=i(),[l,o]=s.useState(!0),[c,d]=s.useState(""),[x,m]=s.useState(""),[u,h]=s.useState(""),[y,v]=s.useState("normal"),[b,g]=s.useState("all"),[f,j]=s.useState(!1),[N,k]=s.useState(null),[w,C]=s.useState(!1),[_,L]=s.useState([]),[S,M]=s.useState(!1),[B,A]=s.useState(!1),[T,W]=s.useState([]),[F,E]=s.useState(!0),[P,U]=s.useState(null),$=s.useRef(null),R=s.useRef(null),I=s.useCallback(async()=>{E(!0);try{const{data:e,error:r}=await n.from("admin_announcements").select("id, title, message, announcement_type, target_audience, status, sent_at, created_at").order("created_at",{ascending:!1}).limit(50);r||W(e||[])}catch(e){}finally{E(!1)}},[]);s.useEffect(()=>{I()},[I]);const D=s.useCallback(p(async e=>{if(e.trim().length<2)return L([]),M(!1),void A(!1);A(!0);try{const{data:r,error:s}=await n.from("users").select("id, username, email, full_name").ilike("username",`%${e}%`).limit(5);if(s)throw s;L(r||[]),M(!0)}catch(r){L([])}finally{A(!1)}},300),[]);s.useEffect(()=>{const e=e=>{R.current&&!R.current.contains(e.target)&&$.current&&!$.current.contains(e.target)&&M(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Announcement Type"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>v("normal"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("normal"===y?"":"hover:brightness-110"),style:{backgroundColor:"normal"===y?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"normal"===y?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),"Normal"]}),e.jsxs("button",{onClick:()=>v("serious"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("serious"===y?"":"hover:brightness-110"),style:{backgroundColor:"serious"===y?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"serious"===y?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Serious"]})]})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Recipients"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{o(!0),d(""),L([]),M(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(l?"":"hover:brightness-110"),style:{backgroundColor:l?a.bg.elevated:"transparent",color:"var(--text-primary)",border:l?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),"Broadcast"]}),e.jsxs("button",{onClick:()=>{o(!1),L([]),M(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(l?"hover:brightness-110":""),style:{backgroundColor:l?"transparent":a.bg.elevated,color:"var(--text-primary)",border:l?`1px solid ${a.border.subtle}`:"1px solid var(--text-primary)"},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Specific User"]})]})]}),l&&e.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Target Audience"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("button",{onClick:()=>g("all"),className:"w-full px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("all"===b?"":"hover:brightness-110"),style:{backgroundColor:"all"===b?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"all"===b?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),"All Users"]}),e.jsxs("button",{onClick:()=>g("creators"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("creators"===b?"":"hover:brightness-110"),style:{backgroundColor:"creators"===b?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"creators"===b?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"14",y:"6",width:"8",height:"12",rx:"2"}),e.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v8a2 2 0 002 2h4"}),e.jsx("path",{d:"M14 12H10"})]}),"Creators"]}),e.jsxs("button",{onClick:()=>g("artists"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("artists"===b?"":"hover:brightness-110"),style:{backgroundColor:"artists"===b?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"artists"===b?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),"Artists"]}),e.jsxs("button",{onClick:()=>g("businesses"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("businesses"===b?"":"hover:brightness-110"),style:{backgroundColor:"businesses"===b?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"businesses"===b?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),e.jsx("path",{d:"M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2"})]}),"Business"]}),e.jsxs("button",{onClick:()=>g("freelancers"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("freelancers"===b?"":"hover:brightness-110"),style:{backgroundColor:"freelancers"===b?a.bg.elevated:"transparent",color:"var(--text-primary)",border:"freelancers"===b?"1px solid var(--text-primary)":`1px solid ${a.border.subtle}`},children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),e.jsx("path",{d:"M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2"}),e.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"16"}),e.jsx("line",{x1:"10",y1:"14",x2:"14",y2:"14"})]}),"Freelancers"]})]})]}),!l&&e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl relative",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{color:a.text.primary,opacity:.5},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),e.jsx("input",{ref:$,type:"text",value:c,onChange:e=>{return r=e.target.value,d(r),void D(r);var r},onFocus:e=>{_.length>0&&M(!0),e.currentTarget.style.borderColor="var(--text-primary)"},onBlur:e=>e.currentTarget.style.borderColor=a.border.default,placeholder:"Type username to search...",className:"w-full h-12 pl-10 pr-4 rounded-xl text-sm focus:outline-none transition-all",style:{color:a.text.primary,background:a.bg.input,border:`1px solid ${a.border.default}`},disabled:f}),B&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,style:{color:a.text.primary,opacity:.5},children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})})})]}),S&&_.length>0&&e.jsx("div",{ref:R,className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border z-50 max-h-64 overflow-y-auto",style:{backgroundColor:a.bg.card,borderColor:a.border.default},children:_.map(r=>e.jsx("button",{type:"button",onClick:()=>(e=>{d(e.username),M(!1),L([])})(r),className:"w-full px-4 py-3 text-left hover:brightness-110 transition-all flex items-center gap-3 border-b last:border-b-0",style:{backgroundColor:"transparent",borderColor:"rgba(75, 85, 99, 0.1)"},children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-semibold truncate",style:{color:a.text.primary},children:["@",r.username]}),r.full_name&&e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:a.text.primary,opacity:.6},children:r.full_name}),e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:a.text.primary,opacity:.4},children:r.email})]})},r.id))}),S&&c.trim().length>=2&&!B&&0===_.length&&e.jsx("div",{className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border p-4 text-center",style:{backgroundColor:a.bg.card,borderColor:a.border.default},children:e.jsx("p",{className:"text-sm",style:{color:a.text.primary,opacity:.5},children:"No users found"})})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Title"}),e.jsx("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Notification title",className:"w-full h-12 px-4 rounded-xl text-sm focus:outline-none transition-all",style:{color:"var(--text-primary)",background:a.bg.input,border:`1px solid ${a.border.default}`},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor=a.border.default,disabled:f})]}),e.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:a.bg.card},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:a.text.primary,opacity:.6},children:"Content"}),e.jsx("textarea",{value:u,onChange:e=>h(e.target.value),placeholder:"Notification content",rows:8,className:"w-full px-4 py-3 rounded-xl text-sm focus:outline-none transition-all resize-none",style:{color:"var(--text-primary)",background:a.bg.input,border:`1px solid ${a.border.default}`},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor=a.border.default,disabled:f})]}),N&&e.jsx("div",{className:"rounded-2xl p-4 border",style:{backgroundColor:a.bg.card,borderColor:a.border.default},children:e.jsxs("div",{className:"flex items-start gap-3",children:[N.success?e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{color:a.text.primary},children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}):e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",style:{color:a.text.primary},children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",style:{color:a.text.primary},children:N.message})})]})}),e.jsxs("div",{className:"flex gap-3",children:[t&&e.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:a.bg.card,color:a.text.primary,border:`1px solid ${a.border.default}`},disabled:f,children:"Cancel"}),e.jsx("button",{onClick:async()=>{await(async()=>{if(x.trim()&&u.trim())if(l||c.trim()){j(!0),k(null),C(!0);try{let e=null;if(!l&&c.trim()){const{data:r,error:s}=await n.from("users").select("id").eq("username",c.trim()).single();if(s||!r)throw new Error(`User with username "${c.trim()}" not found`);const{data:t,error:a}=await n.from("profiles").select("id").eq("id",r.id).single();if(a||!t)throw new Error(`Profile not found for user "${c.trim()}"`);e=t.id}C(!1);const s={created_by:r,title:x.trim(),message:u.trim(),announcement_type:y,target_audience:l?b:"all",status:"sent",sent_at:(new Date).toISOString()},{error:t}=await n.from("admin_announcements").insert(s);if(t)throw t;if(l){const{error:e}=await n.from("announcements").insert({admin_id:r,user_id:null,title:x.trim(),content:u.trim(),announcement_type:y,target_audience:b,is_read:!1});if(e)throw e}else if(!l&&e){const{error:s}=await n.from("announcements").insert({admin_id:r,user_id:e,title:x.trim(),content:u.trim(),announcement_type:y,target_audience:"all",is_read:!1});if(s)throw s}k({success:!0,message:l?`${"serious"===y?"ðŸš¨ Serious":"ðŸ“¢ Normal"} announcement sent to ${"all"===b?"all users":"businesses"===b?"business users":`${b}s`} successfully`:`Announcement sent to user @${c.trim()} successfully`}),m(""),h(""),d(""),L([]),M(!1),o(!0),v("normal"),g("all")}catch(e){C(!1),k({success:!1,message:e.message||"Failed to send announcement"})}finally{j(!1)}}else k({success:!1,message:'Please enter a username or select "Send to all users"'});else k({success:!1,message:"Please fill in both title and content"})})(),I()},disabled:f||!x.trim()||!u.trim()||!l&&!c.trim(),className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:f?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}),w?"Looking up user...":"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 2L11 13"}),e.jsx("path",{d:"M22 2L15 22 11 13 2 9l20-7z"})]}),"Send Announcement"]})})]}),e.jsxs("div",{className:"mt-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:a.text.primary},children:"Sent Announcements"}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:a.bg.active,color:a.text.primary},children:T.length})]}),e.jsx("div",{className:"h-px mb-6",style:{backgroundColor:a.border.subtle}}),F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("svg",{className:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,style:{color:a.text.primary,opacity:.5},children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})})}):0===T.length?e.jsx("p",{className:"text-sm text-center py-8",style:{color:a.text.primary,opacity:.4},children:"No announcements sent yet"}):e.jsx("div",{className:"space-y-3",children:T.map(r=>{const s="serious"===r.announcement_type;return e.jsxs("div",{className:"rounded-xl p-4 border flex items-start gap-4",style:{backgroundColor:a.bg.card,borderColor:a.border.default},children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s&&e.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:a.text.primary},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsx("span",{className:"text-sm font-semibold truncate",style:{color:a.text.primary},children:r.title}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full flex-shrink-0",style:{backgroundColor:a.bg.active,color:a.text.primary},children:{all:"All Users",creators:"Creators",artists:"Artists",businesses:"Business",freelancers:"Freelancers"}[r.target_audience]||r.target_audience})]}),e.jsx("p",{className:"text-xs leading-relaxed line-clamp-2",style:{color:a.text.primary,opacity:.6},children:r.message}),e.jsx("p",{className:"text-xs mt-1.5",style:{color:a.text.primary,opacity:.4},children:new Date(r.sent_at||r.created_at).toLocaleString()})]}),e.jsx("button",{onClick:()=>(async e=>{U(e);try{await n.from("admin_announcements").delete().eq("id",e),W(r=>r.filter(r=>r.id!==e))}catch(r){}finally{U(null)}})(r.id),disabled:P===r.id,className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:brightness-110 disabled:opacity-40",style:{backgroundColor:a.bg.card,border:`1px solid ${a.border.subtle}`,color:a.text.primary},title:"Delete announcement",children:P===r.id?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsxs("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6l-1 14H6L5 6"}),e.jsx("path",{d:"M10 11v6M14 11v6"}),e.jsx("path",{d:"M9 6V4h6v2"})]})})]},r.id)})})]})]})})}function L(){const[d,x]=s.useState("home"),[m,p]=s.useState(!1),[u,h]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("newMessageSound")??"true")}catch{return!0}}),y=()=>{h(e=>{const r=!e;return localStorage.setItem("newMessageSound",JSON.stringify(r)),r})},[w,L]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("admin_messageNotifications")??"true")}catch{return!0}}),S=()=>{L(e=>{const r=!e;return localStorage.setItem("admin_messageNotifications",JSON.stringify(r)),r})},[M,B]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("admin_unreadMessageBadge")??"true")}catch{return!0}}),A=()=>{B(e=>{const r=!e;return localStorage.setItem("admin_unreadMessageBadge",JSON.stringify(r)),r})},[T,W]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("admin_emailNewFeatures")??"true")}catch{return!0}}),F=()=>{W(e=>{const r=!e;return localStorage.setItem("admin_emailNewFeatures",JSON.stringify(r)),r})},[E,P]=s.useState(()=>{try{return JSON.parse(localStorage.getItem("admin_emailPlatformUpdates")??"true")}catch{return!0}}),U=()=>{P(e=>{const r=!e;return localStorage.setItem("admin_emailPlatformUpdates",JSON.stringify(r)),r})},{theme:$,setTheme:R,flatBackground:I,setFlatBackground:D}=i(),[z,V]=s.useState([]),[H,O]=s.useState(!1),[q,Y]=s.useState(null),[G,J]=s.useState(null),[K,X]=s.useState("personal"),[Z,Q]=s.useState([]),[ee,re]=s.useState(!1),[se,te]=s.useState("idle"),[ae,le]=s.useState("idle"),[oe,ie]=s.useState(""),[ne,ce]=s.useState(null),de=function(){const[e,r]=s.useState(0),t=s.useCallback(async()=>{const{data:e,error:s}=await n.from("conversations").select("unread_count_admin").gt("unread_count_admin",0);if(!s&&e){const s=e.reduce((e,r)=>e+(r.unread_count_admin||0),0);r(s)}},[]);return s.useEffect(()=>{t()},[t]),s.useEffect(()=>{const e=n.channel("admin-unread-count").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},()=>{t()}).subscribe();return()=>{e.unsubscribe()}},[t]),e}(),[xe,me]=s.useState(""),[pe,ue]=s.useState([]),[he,ye]=s.useState(!1),[ve,be]=s.useState("pending"),[ge,fe]=s.useState(null),[je,Ne]=s.useState(null),[ke,we]=s.useState(""),[Ce,_e]=s.useState(null),[Le,Se]=s.useState([]),[Me,Be]=s.useState(!1),[Ae,Te]=s.useState("submitted"),[We,Fe]=s.useState(null),[Ee,Pe]=s.useState(null),[Ue,$e]=s.useState(""),[Re,Ie]=s.useState(null),[De,ze]=s.useState({}),[Ve,He]=s.useState(!1),[Oe,qe]=s.useState([]),Ye=s.useRef(null),Ge=s.useCallback(async()=>{Be(!0);try{const{data:e,error:r}=await n.from("release_drafts").select("*").in("status",["submitted","approved","inactive"]).order("updated_at",{ascending:!1});if(r)return void Be(!1);if(!e||0===e.length)return Se([]),void Be(!1);const s=[...new Set(e.map(e=>e.user_id).filter(Boolean))];let t={};if(s.length>0){const{data:e}=await n.from("users").select("id, full_name, username, email, first_name, last_name").in("id",s);(e||[]).forEach(e=>{t[e.id]=e})}Se(e.map(e=>({...e,user:t[e.user_id]||null})))}catch(e){}finally{Be(!1)}},[]),Je=async(e,r,s)=>{Fe(e);try{const{error:s}=await n.from("release_drafts").update({status:r}).eq("id",e);s||Se(s=>s.map(s=>s.id===e?{...s,status:r}:s))}catch(t){}finally{Fe(null),Pe(null),$e("")}},Ke={name:"",bio:"",description:"",rules:"",how_it_works:"",songs:[{title:"",artist:"",url:""}],language:"English",platforms:[],pay_type:"Per view",payout:"",ends_at:"",assign_to:"all",assigned_user_ids:[]},[Xe,Ze]=s.useState([]),[Qe,er]=s.useState(""),[rr,sr]=s.useState(!1),[tr,ar]=s.useState(new Set),[lr,or]=s.useState(!1),[ir,nr]=s.useState(!1),[cr,dr]=s.useState(Ke),[xr,mr]=s.useState(!1),[pr,ur]=s.useState(null),[hr,yr]=s.useState(null),[vr,br]=s.useState(!1),[gr,fr]=s.useState(null),[jr,Nr]=s.useState(null),[kr,wr]=s.useState(null),[Cr,_r]=s.useState(""),Lr=s.useRef(null),[Sr,Mr]=s.useState("all"),[Br,Ar]=s.useState([]),[Tr,Wr]=s.useState([]),[Fr,Er]=s.useState(!1),[Pr,Ur]=s.useState("all"),[$r,Rr]=s.useState("all"),[Ir,Dr]=s.useState(null),[zr,Vr]=s.useState(null),[Hr,Or]=s.useState([]),[qr,Yr]=s.useState(!1),[Gr,Jr]=s.useState(""),[Kr,Xr]=s.useState(""),[Zr,Qr]=s.useState(""),[es,rs]=s.useState(!1),[ss,ts]=s.useState(null),[as,ls]=s.useState(null),os=t(),is=s.useRef(!1),ns=s.useRef(null),{admin:cs,sessionToken:ds,verifySession:xs,isAuthenticated:ms,isLoading:ps}=a(),{adminFetch:us}=function(){const{admin:e,isAuthenticated:r,hasPermission:t,sessionToken:i}=a();return{admin:e,isAuthenticated:r,can:(e,r)=>t(e,r),getAuthHeaders:()=>{const e={Authorization:`Bearer ${l}`,"Content-Type":"application/json"};return i&&(e["X-Session-Token"]=i),e},adminFetch:s.useCallback(async(e,r={})=>{const s=`${o}/functions/v1/${e}`,t={Authorization:`Bearer ${l}`,"Content-Type":"application/json",...r.headers};i&&(t["X-Session-Token"]=i);const a=await fetch(s,{...r,headers:t});if(!a.ok){const e=await a.json().catch(()=>({message:"Request failed"}));throw new Error(e.message||`HTTP ${a.status}`)}return a.json()},[i]),role:null==e?void 0:e.role,permissions:null==e?void 0:e.permissions}}(),hs=s.useMemo(()=>{if(!xe.trim())return z;const e=xe.toLowerCase();return z.filter(r=>{var s,t,a,l;return(null==(s=r.email)?void 0:s.toLowerCase().includes(e))||(null==(t=r.full_name)?void 0:t.toLowerCase().includes(e))||(null==(a=r.username)?void 0:a.toLowerCase().includes(e))||(null==(l=r.user_type)?void 0:l.toLowerCase().includes(e))})},[z,xe]);s.useEffect(()=>{const e=setInterval(()=>{},3e5);return()=>clearInterval(e)},[]),s.useEffect(()=>(document.body.style.overflow=G?"hidden":"",()=>{document.body.style.overflow=""}),[G]),s.useEffect(()=>{(async()=>{if(!cs)return;const e=await k();if(e)ce(e);else try{const{data:{user:e}}=await n.auth.getUser();(null==e?void 0:e.id)&&ce(e.id)}catch{}})()},[cs]);const ys=s.useCallback(async()=>{Yr(!0);try{const{data:e,error:r}=await n.from("whitelisted_channels").select("*").order("created_at",{ascending:!1});r||Or(e||[])}catch(e){}finally{Yr(!1)}},[]),vs=s.useCallback(async()=>{or(!0);try{const{data:e,error:r}=await n.from("campaigns").select("*").order("created_at",{ascending:!1});r||Ze(e||[])}catch(e){}finally{or(!1)}},[]),bs=s.useCallback(async e=>{re(!0),Q([]);try{const{SUPABASE_URL:s,SUPABASE_ANON_KEY:t}=await r(async()=>{const{SUPABASE_URL:e,SUPABASE_ANON_KEY:r}=await import("./index-BeWpAAxC.js").then(e=>e.j);return{SUPABASE_URL:e,SUPABASE_ANON_KEY:r}},__vite__mapDeps([0,1,2,3,4])),a=await fetch(`${s}/functions/v1/social-links?userId=${encodeURIComponent(e)}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,apikey:t}}),l=await a.json();l.success&&Q(l.links||[])}catch(s){}finally{re(!1)}},[]),gs=s.useCallback(e=>{J(e),X("personal"),Q([]),te("idle"),le("idle"),ie(""),bs(e.id)},[bs]),fs=async()=>{var e;const r=Gr.trim();if(r){rs(!0),ts(null);try{const{data:e,error:s}=await n.from("whitelisted_channels").insert({url_pattern:r,platform:Kr.trim()||null,note:Zr.trim()||null}).select().single();if(s)throw s;Or(r=>[e,...r]),Jr(""),Xr(""),Qr("")}catch(s){ts((null==(e=null==s?void 0:s.message)?void 0:e.includes("unique"))?"This pattern is already whitelisted.":"Failed to add. Try again.")}finally{rs(!1)}}},js=s.useCallback(async()=>{ye(!0);try{const{data:e,error:r}=await n.from("applications").select("*, users(full_name, username, email, first_name, last_name)").order("created_at",{ascending:!1});if(!r){const r=(e||[]).map(e=>{const r=e.users;return{...e,full_name:e.full_name||r&&(`${r.first_name||""} ${r.last_name||""}`.trim()||r.full_name)||null,username:e.username||(null==r?void 0:r.username)||null,email:e.email||(null==r?void 0:r.email)||null}});ue(r)}}catch(e){}finally{ye(!1)}},[]);s.useEffect(()=>{if("applications"===d){js(),Ge();const e=n.channel("applications-realtime").on("postgres_changes",{event:"*",schema:"public",table:"applications"},()=>{js()}).on("postgres_changes",{event:"*",schema:"public",table:"release_drafts"},()=>{Ge()}).subscribe();return()=>{n.removeChannel(e)}}},[d,js,Ge]);const Ns=s.useCallback(async()=>{Er(!0);try{const{data:e,error:r}=await n.from("feedback").select("*").order("created_at",{ascending:!1});if(r);else if(e){const r=[...new Set(e.map(e=>e.user_id))];let s={};if(r.length>0){const{data:e}=await n.from("users").select("id, email, username").in("id",r);e&&e.forEach(e=>{s[e.id]={email:e.email,username:e.username}})}Wr(e.map(e=>{var r,t;return{...e,user_email:null==(r=s[e.user_id])?void 0:r.email,username:null==(t=s[e.user_id])?void 0:t.username}}))}}catch(e){}finally{Er(!1)}},[]);s.useEffect(()=>{"data"===d&&Ns()},[d,Ns]);const ks=()=>{const r={suggestion:"Suggestion",bug:"Bug Report",feature:"Feature Request",other:"Other"},s=Tr.filter(e=>("all"===Pr||e.category===Pr)&&("all"===$r||e.status===$r)),t={total:Tr.length,pending:Tr.filter(e=>"pending"===e.status).length,bug:Tr.filter(e=>"bug"===e.category).length,feature:Tr.filter(e=>"feature"===e.category).length,suggestion:Tr.filter(e=>"suggestion"===e.category).length};return e.jsxs("div",{className:"scroll-mt-6",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3 mb-7",children:[{label:"Total",value:t.total,filter:"all"},{label:"Pending",value:t.pending,filter:"pending"},{label:"Bug Reports",value:t.bug,filter:null},{label:"Features",value:t.feature,filter:null},{label:"Suggestions",value:t.suggestion,filter:null}].map(r=>e.jsxs("button",{onClick:()=>null!==r.filter?Rr(r.filter):void 0,className:"rounded-xl p-4 border text-left transition-all",style:{backgroundColor:"var(--bg-elevated)",borderColor:null!==r.filter&&$r===r.filter?"var(--border-default)":"var(--border-subtle)",cursor:null!==r.filter?"pointer":"default"},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--border-default)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=null!==r.filter&&$r===r.filter?"var(--border-default)":"var(--border-subtle)"},onMouseDown:e=>{e.currentTarget.style.borderColor="var(--text-primary)"},onMouseUp:e=>{e.currentTarget.style.borderColor="var(--border-default)"},children:[e.jsx("p",{className:"text-2xl font-bold mb-0.5",style:{color:"var(--text-primary)"},children:r.value}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.6},children:r.label})]},r.label))}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-5",children:[e.jsx("div",{className:"flex gap-1 p-1 rounded-xl flex-shrink-0",style:{backgroundColor:"var(--bg-input)"},children:["pending","reviewed","resolved","closed","all"].map(r=>e.jsxs("button",{onClick:()=>Rr(r),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:$r===r?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:$r===r?"1px solid var(--text-primary)":"1px solid transparent"},children:["all"===r?"All":r.charAt(0).toUpperCase()+r.slice(1),e.jsx("span",{className:"ml-1.5 text-xs",style:{opacity:.5},children:"all"===r?Tr.length:Tr.filter(e=>e.status===r).length})]},r))}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:["all","suggestion","bug","feature","other"].map(s=>e.jsx("button",{onClick:()=>Ur(s),className:"px-2.5 py-1 rounded-full text-xs font-medium transition-all",style:{backgroundColor:Pr===s?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:"1px solid "+(Pr===s?"var(--text-primary)":"var(--border-subtle)")},children:"all"===s?"All Types":r[s]},s))})]}),Fr?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(c,{text:"Loading feedback..."})}):0===s.length?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-4",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:e.jsx("svg",{className:"w-6 h-6",style:{color:"var(--text-primary)",opacity:.35},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),e.jsxs("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:["No ","all"!==$r?$r:""," feedback"]}),e.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)",opacity:.5},children:"pending"===$r?"All caught up â€” no pending items.":"Try adjusting your filters"})]}):e.jsx("div",{className:"space-y-3",children:s.map(s=>e.jsx("div",{className:"rounded-2xl border overflow-hidden",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-subtle)"},children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2.5",children:[e.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs font-semibold",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:r[s.category]||s.category}),e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)",opacity:.6},children:s.username?`@${s.username}`:s.user_email||s.user_id.slice(0,8)}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.35},children:new Date(s.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-primary)"},children:s.content}),s.media_url&&e.jsx("div",{className:"mt-3",children:s.media_url.match(/\.(mp4|mov|webm|ogg)$/i)?e.jsx("video",{src:s.media_url,controls:!0,className:"max-h-52 rounded-xl",style:{border:"1px solid var(--border-subtle)"}}):e.jsx("a",{href:s.media_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:s.media_url,alt:"Attached media",className:"max-h-52 rounded-xl object-cover transition-all hover:brightness-110",style:{border:"1px solid var(--border-subtle)"}})})})]}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-1.5",children:[e.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-semibold text-center",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),["pending","reviewed","resolved","closed"].filter(e=>e!==s.status).map(r=>e.jsxs("button",{onClick:()=>(async(e,r)=>{Dr(e);try{const{error:s}=await n.from("feedback").update({status:r}).eq("id",e);s||Wr(s=>s.map(s=>s.id===e?{...s,status:r}:s))}finally{Dr(null)}})(s.id,r),disabled:Ir===s.id,className:"px-2.5 py-1 rounded-lg text-xs font-medium transition-all hover:brightness-110 text-left",style:{backgroundColor:"transparent",border:"1px solid var(--border-subtle)",color:"var(--text-primary)",opacity:Ir===s.id?.4:.7},children:["â†’ ",r.charAt(0).toUpperCase()+r.slice(1)]},r))]})]})})},s.id))})]})};s.useEffect(()=>{"home"===d&&(ys(),vs(),Ns())},[d,ys,vs,Ns]),s.useEffect(()=>{"settings"===d&&Ns()},[d,Ns]);const ws=async(e,r,s)=>{fe(e);try{const t=await us("admin-application-action",{method:"POST",body:JSON.stringify({applicationId:e,action:r,declineReason:s})});(null==t?void 0:t.success)&&ue(t=>t.map(t=>t.id===e?{...t,status:r,decline_reason:s||null}:t))}catch(t){}finally{fe(null),Ne(null),we("")}};s.useEffect(()=>{const e=e=>{Ye.current&&!Ye.current.contains(e.target)&&He(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),s.useEffect(()=>{if(!Ve||!ne)return;(async()=>{const{data:e}=await n.from("profiles").select("id").eq("is_admin",!0),r=(e||[]).map(e=>e.id);0===r.length&&ne&&r.push(ne);const{data:s}=await n.from("conversations").select("id, customer_id, unread_count_admin, last_message_at").in("admin_id",r).gt("unread_count_admin",0).order("last_message_at",{ascending:!1}).limit(10);if(!s||0===s.length)return void qe([]);const t=[...new Set(s.map(e=>e.customer_id))],{data:a}=await n.from("profiles").select("id, name, avatar_url").in("id",t),l=new Map((a||[]).map(e=>[e.id,e]));qe(s.map(e=>({...e,customer:l.get(e.customer_id)||null})))})()},[Ve,ne]),s.useEffect(()=>{if("users"!==d&&"applications"!==d&&"home"!==d)return is.current=!1,void(ns.current=null);if("users"===ns.current)return;if(is.current)return;return(async()=>{if(!ds)return Y("Session expired. Please log in again."),O(!1),void setTimeout(()=>{os("/admin/login")},2e3);if(!(await xs())||!ms)return Y("Session expired. Redirecting to login..."),O(!1),void setTimeout(()=>{os("/admin/login")},2e3);if(!us)return Y("Admin authentication not available. Please log in again."),void O(!1);is.current=!0,ns.current="users";(async()=>{O(!0),Y(null),V([]);const e=setTimeout(()=>{Y("Request timeout. Please check your connection and try again."),O(!1),is.current=!1},3e4);try{const r=await us("admin-users",{method:"GET"});if(clearTimeout(e),!r||!1===r.success){const e=(null==r?void 0:r.message)||"Failed to fetch users";throw new Error(e)}{const e=r.users||r.data||[];if(!Array.isArray(e))throw new Error("Invalid response format: users is not an array.");V(e),Y(null),O(!1),ns.current="users"}}catch(r){clearTimeout(e);let s="Failed to load users.";"AbortError"===(null==r?void 0:r.name)?s="Request timeout. The Edge Function may not be responding.":(null==r?void 0:r.message)&&(s=r.message,r.message.includes("404")||r.message.includes("Not Found")?s="Edge Function not found. Please deploy the admin-users Edge Function.":r.message.includes("401")||r.message.includes("Unauthorized")?s="Unauthorized. Please check your admin session and log in again.":r.message.includes("403")||r.message.includes("Permission")?s="Permission denied. You do not have access to view users.":r.message.includes("Failed to fetch")&&(s="Network error: Unable to connect.")),Y(s),V([]),O(!1),ns.current=null}finally{is.current=!1}})()})(),()=>{is.current=!1}},[d,us,ds,xs,ms,os]),s.useEffect(()=>{(async()=>{try{const{SUPABASE_URL:e,SUPABASE_ANON_KEY:s}=await r(async()=>{const{SUPABASE_URL:e,SUPABASE_ANON_KEY:r}=await import("./index-BeWpAAxC.js").then(e=>e.j);return{SUPABASE_URL:e,SUPABASE_ANON_KEY:r}},__vite__mapDeps([0,1,2,3,4])),t=await fetch(`${e}/functions/v1/social-links?platform=YouTube`,{headers:{Authorization:`Bearer ${s}`,apikey:s}}),a=await t.json();a.success&&Array.isArray(a.links)&&ar(new Set(a.links.map(e=>e.user_id)))}catch(e){}})()},[]);const Cs=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return ps&&!cs?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)"},children:e.jsx(c,{text:"Loading dashboard..."})}):cs?e.jsxs(e.Fragment,{children:[e.jsx(v,{userId:ne,activeSection:d,onNavigateToMessages:()=>x("messages"),theme:$,enabled:w,playSound:u,showFaviconBadge:M,unreadCount:de}),e.jsxs("div",{className:"min-h-screen text-theme-primary flex transition-colors duration-300",style:{backgroundColor:"var(--bg-primary)"},children:[e.jsx(b,{activeSection:d,setActiveSection:x,userProfile:null,unreadCount:de,cachedProfilePic:g,isCollapsed:m,onCollapsedChange:p,permanentlyCollapsed:!1,userType:"admin"}),e.jsx(f,{activeSection:d,setActiveSection:x,unreadCount:de,profilePicture:g,backgroundTheme:$,userType:"admin"}),e.jsxs("main",{className:"flex-1 min-h-screen pb-20 lg:pb-0 transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] "+(m?"lg:ml-[80px]":"lg:ml-[240px]"),style:{backgroundColor:"var(--bg-primary)"},children:["messages"===d&&e.jsx("div",{className:"animate-fade-in flex-1 flex flex-col min-h-0 overflow-hidden h-[calc(100vh-80px)] lg:h-screen",children:ne&&e.jsx(C,{currentAdminId:ne})}),"messages"!==d&&e.jsxs("div",{className:"px-4 sm:px-8 pb-6 sm:pb-12 pt-0 lg:pt-8",children:["home"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight",style:{color:"var(--text-primary)"},children:"Welcome back, Super Admin"}),e.jsxs("div",{ref:Ye,className:"relative",children:[e.jsxs("button",{onClick:()=>He(e=>!e),className:"relative flex items-center justify-center w-10 h-10 rounded-full transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),de>0&&e.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center rounded-full text-[10px] font-bold px-1",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:de>99?"99+":de})]}),Ve&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-2xl shadow-2xl overflow-hidden animate-fade-in z-50",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)"},children:[e.jsxs("div",{className:"px-4 py-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-subtle)"},children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Notifications"}),de>0&&e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)"},children:[de," unread"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",style:{scrollbarWidth:"thin"},children:0===Oe.length?e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4 gap-2",children:[e.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.3},children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"No new notifications"}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"You're all caught up!"})]}):Oe.map(r=>{var s,t,a,l;return e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-left transition-all hover:brightness-110",style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--bg-card)"},onClick:()=>{He(!1),x("messages")},children:[e.jsx("div",{className:"w-9 h-9 rounded-full overflow-hidden flex-shrink-0 flex items-center justify-center text-sm font-semibold",style:{backgroundColor:"var(--bg-elevated)"},children:(null==(s=r.customer)?void 0:s.avatar_url)?e.jsx("img",{src:r.customer.avatar_url,alt:(null==(t=r.customer)?void 0:t.name)||"",className:"w-full h-full object-cover"}):e.jsx("span",{style:{color:"var(--text-primary)"},children:((null==(a=r.customer)?void 0:a.name)||"?").charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:(null==(l=r.customer)?void 0:l.name)||"Unknown user"}),e.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:[r.unread_count_admin," unread message",1!==r.unread_count_admin?"s":""]})]}),e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:"var(--text-primary)"}})]},r.id)})}),Oe.length>0&&e.jsx("div",{className:"px-4 py-3 border-t",style:{borderColor:"var(--border-subtle)"},children:e.jsx("button",{className:"w-full text-center text-sm font-medium transition-all hover:opacity-80",style:{color:"var(--text-primary)"},onClick:()=>{He(!1),x("messages")},children:"View all messages"})})]})]})]}),e.jsx("p",{className:"text-base",style:{color:"var(--text-primary)"},children:"Manage your platform from here"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-10",children:[e.jsx("button",{onClick:()=>x("applications"),className:"rounded-xl p-5 text-left transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)",opacity:1,transform:"none",animation:"adminCardIn 0.45s ease both"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:"Applications"}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:pe.filter(e=>"pending"===e.status).length+Le.filter(e=>"submitted"===e.status).length})]}),e.jsx("p",{className:"text-sm mt-0.5",style:{color:"var(--text-primary)",opacity:.55},children:"Pending applications"})]})]})}),e.jsx("button",{onClick:()=>x("users"),className:"rounded-xl p-5 text-left transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)",animation:"adminCardIn 0.45s ease 0.08s both"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:"Users"}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:z.length})]}),e.jsx("p",{className:"text-sm mt-0.5",style:{color:"var(--text-primary)",opacity:.55},children:"Registered platform users"})]})]})})]}),e.jsx("style",{children:"@keyframes adminCardIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: none; } }"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest mb-4",style:{color:"var(--text-primary)",opacity:.4,letterSpacing:"0.12em"},children:"Platform Tools"}),e.jsxs("div",{className:"rounded-xl overflow-hidden",style:{border:"whitelist"===zr?"1px solid var(--text-primary)":"1px solid var(--border-subtle)",animation:"adminCardIn 0.45s ease 0.16s both"},children:[e.jsxs("button",{onClick:()=>Vr("whitelist"===zr?null:"whitelist"),className:"w-full flex items-center justify-between px-5 py-4 transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-card)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),e.jsx("path",{d:"M9 12l2 2 4-4"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Channel Link Whitelist"}),e.jsxs("p",{className:"text-xs mt-0.5",style:{color:"var(--text-primary)",opacity:.5},children:[Hr.length," pattern",1!==Hr.length?"s":""," configured"]})]})]}),e.jsx("svg",{className:"w-4 h-4 transition-transform duration-200 "+("whitelist"===zr?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.5},children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),"whitelist"===zr&&e.jsxs("div",{className:"px-5 pb-5 pt-1",style:{backgroundColor:"var(--bg-elevated)",borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"text-xs mb-4 mt-3",style:{color:"var(--text-primary)",opacity:.55},children:"Social links matching a whitelisted pattern are automatically verified â€” no verification prompt shown to the user."}),e.jsxs("div",{className:"rounded-lg p-4 mb-6",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-primary)"},children:"Add Pattern"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-2",children:[e.jsx("input",{type:"text",value:Gr,onChange:e=>{Jr(e.target.value),ts(null)},onKeyDown:e=>"Enter"===e.key&&fs(),placeholder:"e.g. youtube.com/c/ or @handle",className:"flex-1 h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),e.jsx("input",{type:"text",value:Kr,onChange:e=>Xr(e.target.value),placeholder:"Platform (optional)",className:"w-full sm:w-36 h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),e.jsx("input",{type:"text",value:Zr,onChange:e=>Qr(e.target.value),placeholder:"Note (optional)",className:"w-full sm:w-40 h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),e.jsxs("button",{onClick:fs,disabled:es||!Gr.trim(),className:"flex items-center gap-1.5 px-4 h-9 rounded-lg text-sm font-semibold transition-all hover:brightness-110 disabled:opacity-50 flex-shrink-0",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[es?e.jsx("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Add"]})]}),ss&&e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-primary)",opacity:.7},children:ss})]}),qr?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(c,{text:"Loading..."})}):0===Hr.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("svg",{className:"w-10 h-10 mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),e.jsx("path",{d:"M9 12l2 2 4-4"})]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"No whitelisted patterns yet. Add one above."})]}):e.jsx("div",{className:"space-y-2",children:Hr.map(r=>e.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3 rounded-lg",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsxs("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:r.url_pattern}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.platform&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)"},children:r.platform}),r.note&&e.jsx("span",{className:"text-xs truncate",style:{color:"var(--text-primary)"},children:r.note})]})]})]}),e.jsx("button",{onClick:()=>(async e=>{ls(e);try{await n.from("whitelisted_channels").delete().eq("id",e),Or(r=>r.filter(r=>r.id!==e))}catch(r){}finally{ls(null)}})(r.id),disabled:as===r.id,className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:as===r.id?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsxs("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6l-1 14H6L5 6"}),e.jsx("path",{d:"M10 11v6M14 11v6"}),e.jsx("path",{d:"M9 6V4h6v2"})]})})]},r.id))})]})]}),e.jsxs("div",{className:"rounded-xl overflow-hidden",style:{border:"campaigns"===zr?"1px solid var(--text-primary)":"1px solid var(--border-subtle)",animation:"adminCardIn 0.45s ease 0.24s both"},children:[e.jsxs("button",{onClick:()=>Vr("campaigns"===zr?null:"campaigns"),className:"w-full flex items-center justify-between px-5 py-4 transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-card)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M3 11l19-9-9 19-2-8-8-2z"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Campaign Manager"}),e.jsxs("p",{className:"text-xs mt-0.5",style:{color:"var(--text-primary)",opacity:.5},children:[Xe.length," campaign",1!==Xe.length?"s":""," active"]})]})]}),e.jsx("svg",{className:"w-4 h-4 transition-transform duration-200 "+("campaigns"===zr?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.5},children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),"campaigns"===zr&&e.jsxs("div",{className:"px-5 pb-5 pt-1",style:{backgroundColor:"var(--bg-elevated)",borderTop:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between mt-3 mb-4",children:[e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.55},children:"Create campaigns and assign them to users. Assigned campaigns appear in the user's dashboard."}),e.jsx("button",{onClick:e=>{e.stopPropagation(),nr(e=>!e),ur(null)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 flex-shrink-0 ml-4",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:ir?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})," Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M12 5v14M5 12h14"})})," New Campaign"]})})]}),ir&&e.jsxs("div",{className:"rounded-xl mb-6 overflow-hidden",style:{border:"1px solid var(--border-default)"},children:[e.jsx("div",{className:"px-5 py-3.5",style:{backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--border-subtle)"},children:e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest",style:{color:"var(--text-primary)"},children:"New Campaign"})}),e.jsxs("div",{className:"p-5 space-y-5",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:["Campaign Name ",e.jsx("span",{style:{color:"var(--text-primary)"},children:"*"})]}),e.jsx("input",{type:"text",value:cr.name,onChange:e=>dr(r=>({...r,name:e.target.value})),placeholder:"e.g. Electronic Vibes",className:"w-full h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Language"}),e.jsx("input",{type:"text",value:cr.language,onChange:e=>dr(r=>({...r,language:e.target.value})),placeholder:"English",className:"w-full h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:["Bio ",e.jsx("span",{className:"normal-case font-normal",style:{color:"var(--text-primary)"},children:"(short tagline shown on the card)"})]}),e.jsx("input",{type:"text",value:cr.bio,onChange:e=>dr(r=>({...r,bio:e.target.value})),placeholder:"e.g. Earn per view promoting Neon Afterhours",className:"w-full h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Description"}),e.jsx("textarea",{value:cr.description,onChange:e=>dr(r=>({...r,description:e.target.value})),placeholder:"Describe the campaign...",rows:3,className:"w-full px-3 py-2.5 rounded-lg text-sm resize-none focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)"},children:"Platforms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Instagram","TikTok","YouTube","Twitter","Twitch"].map(r=>e.jsx("button",{type:"button",onClick:()=>dr(e=>({...e,platforms:e.platforms.includes(r)?e.platforms.filter(e=>e!==r):[...e.platforms,r]})),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:cr.platforms.includes(r)?"var(--bg-active)":"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid "+(cr.platforms.includes(r)?"var(--text-primary)":"var(--border-subtle)")},children:r},r))})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 "+("Varied"===cr.pay_type?"sm:grid-cols-2":"sm:grid-cols-3"),children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Pay Type"}),e.jsxs("button",{type:"button",onClick:()=>br(e=>!e),className:"w-full h-9 px-3 rounded-lg text-sm flex items-center justify-between focus:outline-none transition-all",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor="var(--border-default)",children:[e.jsx("span",{children:cr.pay_type}),e.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 transition-transform duration-200 "+(vr?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),vr&&e.jsx("div",{className:"absolute z-20 w-full mt-1 rounded-lg overflow-hidden shadow-xl",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-default)"},children:["Per view","Varied"].map(r=>e.jsx("button",{type:"button",onClick:()=>{dr(e=>({...e,pay_type:r})),br(!1)},className:"w-full text-left px-3 py-2 text-sm transition-all hover:brightness-110",style:{backgroundColor:cr.pay_type===r?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:r},r))})]}),"Varied"!==cr.pay_type&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Payout"}),e.jsx("input",{type:"text",value:cr.payout,onChange:e=>dr(r=>({...r,payout:e.target.value})),placeholder:"e.g. $1.50 cpm",className:"w-full h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Ends At"}),e.jsx("input",{type:"date",value:cr.ends_at,onChange:e=>dr(r=>({...r,ends_at:e.target.value})),className:"w-full h-9 px-3 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:["How It Works ",e.jsx("span",{className:"normal-case font-normal",style:{color:"var(--text-primary)"},children:"(one step per line)"})]}),e.jsx("textarea",{value:cr.how_it_works,onChange:e=>dr(r=>({...r,how_it_works:e.target.value})),placeholder:"Join the campaign\nCreate a video using the provided track\nPost on your platforms\nEarn per view",rows:4,className:"w-full px-3 py-2.5 rounded-lg text-sm resize-none focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:["Rules ",e.jsx("span",{className:"normal-case font-normal",style:{color:"var(--text-primary)"},children:"(one rule per line)"})]}),e.jsx("textarea",{value:cr.rules,onChange:e=>dr(r=>({...r,rules:e.target.value})),placeholder:"Minimum video length: 15 seconds\nMust include audio from the official track\nNo explicit content",rows:4,className:"w-full px-3 py-2.5 rounded-lg text-sm resize-none focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)"},children:"Songs to Use"}),e.jsxs("button",{type:"button",onClick:()=>dr(e=>({...e,songs:[...e.songs,{title:"",artist:"",url:""}]})),className:"text-xs flex items-center gap-1 hover:opacity-80 transition-opacity font-medium",style:{color:"var(--text-primary)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M12 5v14M5 12h14"})})," Add song"]})]}),e.jsx("div",{className:"space-y-2",children:cr.songs.map((r,s)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"text",value:r.title,onChange:e=>dr(r=>{const t=[...r.songs];return t[s]={...t[s],title:e.target.value},{...r,songs:t}}),placeholder:"Song title",className:"flex-1 h-8 px-2.5 rounded-lg text-xs focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),e.jsx("input",{type:"text",value:r.artist,onChange:e=>dr(r=>{const t=[...r.songs];return t[s]={...t[s],artist:e.target.value},{...r,songs:t}}),placeholder:"Artist",className:"flex-1 h-8 px-2.5 rounded-lg text-xs focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),e.jsx("input",{type:"text",value:r.url,onChange:e=>dr(r=>{const t=[...r.songs];return t[s]={...t[s],url:e.target.value},{...r,songs:t}}),placeholder:"Link (optional)",className:"flex-1 h-8 px-2.5 rounded-lg text-xs focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"}),cr.songs.length>1&&e.jsx("button",{type:"button",onClick:()=>dr(e=>({...e,songs:e.songs.filter((e,r)=>r!==s)})),className:"w-7 h-7 flex items-center justify-center rounded-lg flex-shrink-0 hover:brightness-110",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)"},children:e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]},s))})]}),e.jsxs("div",{className:"pt-1",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-primary)"},children:"Assign To"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("button",{type:"button",onClick:()=>dr(e=>({...e,assign_to:"all",assigned_user_ids:[]})),className:"flex-1 py-2 rounded-lg text-sm font-semibold transition-all",style:{backgroundColor:"all"===cr.assign_to?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:"all"===cr.assign_to?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:"All Creators"}),e.jsx("button",{type:"button",onClick:()=>dr(e=>({...e,assign_to:"specific"})),className:"flex-1 py-2 rounded-lg text-sm font-semibold transition-all",style:{backgroundColor:"specific"===cr.assign_to?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:"specific"===cr.assign_to?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:"Specific Users"})]}),"all"===cr.assign_to&&(()=>{const r=z.filter(e=>"creator"===e.user_type).length;return e.jsx("div",{className:"rounded-lg px-4 py-3",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:e.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:["This campaign will be assigned to ",e.jsxs("span",{className:"font-semibold",style:{color:"var(--text-primary)"},children:[r," creator",1!==r?"s":""]})," on the platform."]})})})(),"specific"===cr.assign_to&&(()=>{const r=z.filter(e=>"creator"===e.user_type),s=Qe.toLowerCase().trim(),t=r.filter(e=>{var r,t,a;const l=!s||(null==(r=e.full_name)?void 0:r.toLowerCase().includes(s))||(null==(t=e.username)?void 0:t.toLowerCase().includes(s))||(null==(a=e.email)?void 0:a.toLowerCase().includes(s)),o=!rr||tr.has(e.id);return l&&o});return e.jsxs("div",{className:"rounded-lg overflow-hidden",style:{border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",style:{backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--border-subtle)"},children:[e.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{color:"var(--text-primary)"},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:Qe,onChange:e=>er(e.target.value),placeholder:"Search creators...",className:"flex-1 text-xs bg-transparent focus:outline-none",style:{color:"var(--text-primary)"},onFocus:e=>{var r;return null==(r=e.target.closest(".flex.items-center.gap-2"))?void 0:r.style.setProperty("border-color","var(--text-primary)")},onBlur:e=>{var r;return null==(r=e.target.closest(".flex.items-center.gap-2"))?void 0:r.style.setProperty("border-color","var(--border-subtle)")}}),e.jsx("button",{type:"button",onClick:()=>sr(e=>!e),className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-medium flex-shrink-0 transition-all",style:{backgroundColor:rr?"var(--bg-active)":"transparent",color:"var(--text-primary)",border:"1px solid "+(rr?"var(--border-default)":"var(--border-subtle)")},children:"YT only"})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:0===t.length?e.jsx("div",{className:"px-3 py-4 text-center",children:e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:0===r.length?"No creator accounts found":"No creators match your search"})}):t.map(r=>e.jsxs("label",{className:"flex items-center gap-3 px-3 py-2.5 cursor-pointer hover:brightness-105 transition-all",style:{backgroundColor:"var(--bg-elevated)",borderBottom:"1px solid var(--border-subtle)"},onClick:()=>dr(e=>({...e,assigned_user_ids:e.assigned_user_ids.includes(r.id)?e.assigned_user_ids.filter(e=>e!==r.id):[...e.assigned_user_ids,r.id]})),children:[e.jsx("div",{className:"w-3.5 h-3.5 rounded flex items-center justify-center flex-shrink-0 transition-all",style:{backgroundColor:cr.assigned_user_ids.includes(r.id)?"var(--text-primary)":"transparent",border:"1px solid "+(cr.assigned_user_ids.includes(r.id)?"var(--text-primary)":"var(--border-default)")},children:cr.assigned_user_ids.includes(r.id)&&e.jsx("svg",{className:"w-2 h-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--bg-primary)"},children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium truncate",style:{color:"var(--text-primary)"},children:r.full_name||r.username||r.email}),e.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-primary)"},children:r.email})]}),tr.has(r.id)&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded flex-shrink-0",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:"YT"})]},r.id))}),cr.assigned_user_ids.length>0&&e.jsx("div",{className:"px-3 py-2",style:{backgroundColor:"var(--bg-primary)",borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("p",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:[cr.assigned_user_ids.length," creator",1!==cr.assigned_user_ids.length?"s":""," selected"]})})]})})()]}),pr&&e.jsx("p",{className:"text-xs pt-1",style:{color:"var(--text-primary)",opacity:.7},children:pr}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",style:{borderTop:"1px solid var(--border-subtle)"},children:[e.jsx("button",{onClick:()=>{nr(!1),dr(Ke),ur(null)},className:"px-4 h-9 rounded-lg text-sm font-medium transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),e.jsxs("button",{onClick:async()=>{if(cr.name.trim()){mr(!0),ur(null);try{const r=cr.rules.split("\n").map(e=>e.trim()).filter(Boolean),s=cr.how_it_works.split("\n").map(e=>e.trim()).filter(Boolean),t=cr.songs.filter(e=>e.title.trim()||e.artist.trim()),a={name:cr.name.trim(),bio:cr.bio.trim()||null,description:cr.description.trim()||null,rules:r.length?r:null,how_it_works:s.length?s:null,songs_to_use:t.length?t:null,language:cr.language,platforms:cr.platforms,pay_type:cr.pay_type,payout:cr.payout.trim(),ends_at:cr.ends_at?new Date(cr.ends_at).toISOString():null,assign_to:cr.assign_to,assigned_user_ids:cr.assigned_user_ids},{data:l,error:o}=await n.from("campaigns").insert(a).select().single();if(o)throw o;if("specific"===cr.assign_to&&cr.assigned_user_ids.length>0){const e=cr.assigned_user_ids.map(e=>({campaign_id:l.id,user_id:e})),{error:r}=await n.from("user_campaigns").insert(e)}else if("all"===cr.assign_to){let r=z.filter(e=>"creator"===e.user_type).map(e=>e.id);if(0===r.length)try{const e=await us("admin-users",{method:"GET"});(null==e?void 0:e.users)&&(r=e.users.filter(e=>"creator"===e.user_type).map(e=>e.id))}catch(e){}if(r.length>0){const e=r.map(e=>({campaign_id:l.id,user_id:e})),{error:s}=await n.from("user_campaigns").insert(e)}}Ze(e=>[l,...e]),dr(Ke),nr(!1)}catch(e){ur((null==e?void 0:e.message)||"Failed to save campaign.")}finally{mr(!1)}}else ur("Campaign name is required.")},disabled:xr,className:"flex items-center gap-1.5 px-5 h-9 rounded-lg text-sm font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[xr?e.jsx("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Save Campaign"]})]})]})]}),lr?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(c,{text:"Loading..."})}):0===Xe.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M3 11l19-9-9 19-2-8-8-2z"})}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"No campaigns yet. Create one above."})]}):e.jsx("div",{className:"space-y-3",children:Xe.map(r=>{var s;return e.jsxs("div",{className:"rounded-lg overflow-hidden",style:{border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3 cursor-pointer hover:brightness-105 transition-all",style:{backgroundColor:"var(--bg-primary)"},onClick:()=>Nr(jr===r.id?null:r.id),children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M3 11l19-9-9 19-2-8-8-2z"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold truncate",style:{color:"var(--text-primary)"},children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:r.status}),r.payout&&e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.payout}),(null==(s=r.platforms)?void 0:s.length)>0&&e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.platforms.join(", ")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"relative",ref:kr===r.id?Lr:null,children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),kr===r.id?wr(null):(wr(r.id),_r(""),Mr("all"),Ar([]))},disabled:gr===r.id,title:"Assign campaign",className:"flex items-center gap-1 px-2 h-7 rounded-lg text-xs font-medium transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:gr===r.id?e.jsx("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsxs(e.Fragment,{children:["Assign",e.jsx("svg",{className:"w-3 h-3 transition-transform duration-150 "+(kr===r.id?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})}),kr===r.id&&e.jsxs("div",{className:"absolute right-0 top-9 z-50 rounded-2xl shadow-2xl animate-fade-in",style:{width:"300px",backgroundColor:"var(--bg-card)",border:"1px solid var(--border-default)"},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Assign Campaign"}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--text-primary)",opacity:.5},children:r.name})]}),e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)"},children:"Assign To"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("button",{type:"button",onClick:()=>{Mr("all"),Ar([])},className:"flex-1 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:"all"===Sr?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:"all"===Sr?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:"All Creators"}),e.jsx("button",{type:"button",onClick:()=>Mr("specific"),className:"flex-1 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:"specific"===Sr?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:"specific"===Sr?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:"Specific Users"})]}),"all"===Sr&&(()=>{const r=z.filter(e=>"creator"===e.user_type).length;return e.jsx("div",{className:"rounded-lg px-3 py-2.5 mb-3",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:e.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:["This campaign will be assigned to ",e.jsxs("span",{className:"font-semibold",children:[r," creator",1!==r?"s":""]})," on the platform."]})})})(),"specific"===Sr&&(()=>{const r=z.filter(e=>"creator"===e.user_type),s=Cr.toLowerCase().trim(),t=r.filter(e=>{var r,t,a;return!s||(null==(r=e.full_name)?void 0:r.toLowerCase().includes(s))||(null==(t=e.username)?void 0:t.toLowerCase().includes(s))||(null==(a=e.email)?void 0:a.toLowerCase().includes(s))});return e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsxs("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",style:{color:"var(--text-primary)",opacity:.45},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",value:Cr,onChange:e=>_r(e.target.value),placeholder:"Search creators...",className:"w-full pl-7 pr-2 py-1.5 rounded-lg text-xs focus:outline-none",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"}})]}),e.jsx("div",{className:"max-h-36 overflow-y-auto rounded-lg",style:{border:"1px solid var(--border-subtle)",scrollbarWidth:"thin"},children:0===t.length?e.jsx("p",{className:"px-3 py-2 text-xs",style:{color:"var(--text-primary)",opacity:.4},children:"No creators found"}):t.slice(0,20).map(r=>{const s=Br.includes(r.id);return e.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-left text-xs transition-all hover:brightness-110",style:{color:"var(--text-primary)",backgroundColor:s?"var(--bg-elevated)":"transparent",borderBottom:"1px solid var(--border-subtle)"},onClick:()=>Ar(e=>s?e.filter(e=>e!==r.id):[...e,r.id]),children:[e.jsx("div",{className:"w-5 h-5 rounded-full flex-shrink-0 flex items-center justify-center text-[9px] font-bold",style:{backgroundColor:"var(--bg-active)"},children:(r.full_name||r.username||r.email||"?").charAt(0).toUpperCase()}),e.jsx("span",{className:"flex-1 truncate",children:r.full_name||r.username||r.email}),s&&e.jsx("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})]},r.id)})}),Br.length>0&&e.jsxs("p",{className:"text-xs mt-1.5",style:{color:"var(--text-primary)",opacity:.55},children:[Br.length," selected"]})]})})(),e.jsx("button",{className:"w-full py-2 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-40",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},disabled:"specific"===Sr&&0===Br.length,onClick:()=>{"all"===Sr?(async e=>{fr(e.id);try{await n.from("user_campaigns").delete().eq("campaign_id",e.id);let r=z.filter(e=>"creator"===e.user_type).map(e=>e.id);if(0===r.length){const e=await us("admin-users",{method:"GET"});(null==e?void 0:e.users)&&(r=e.users.filter(e=>"creator"===e.user_type).map(e=>e.id))}if(r.length>0){const s=r.map(r=>({campaign_id:e.id,user_id:r})),{error:t}=await n.from("user_campaigns").insert(s);if(t)throw t}}catch(r){}finally{fr(null)}})(r):Br.forEach(e=>(async(e,r)=>{fr(e.id),wr(null);try{const{data:s}=await n.from("user_campaigns").select("id").eq("campaign_id",e.id).eq("user_id",r).maybeSingle();if(!s){const{error:s}=await n.from("user_campaigns").insert({campaign_id:e.id,user_id:r});if(s)throw s}}catch(s){}finally{fr(null)}})(r,e)),wr(null)},children:"Confirm Assignment"})]})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),(async r=>{yr(r);try{await n.from("campaigns").delete().eq("id",r),Ze(e=>e.filter(e=>e.id!==r))}catch(e){}finally{yr(null)}})(r.id)},disabled:hr===r.id,className:"w-7 h-7 rounded-lg flex items-center justify-center transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:hr===r.id?e.jsx("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6l-1 14H6L5 6"}),e.jsx("path",{d:"M10 11v6M14 11v6"}),e.jsx("path",{d:"M9 6V4h6v2"})]})}),e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 transition-transform duration-200 "+(jr===r.id?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),jr===r.id&&e.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-3",style:{backgroundColor:"var(--bg-elevated)"},children:[r.description&&e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.description}),r.how_it_works&&r.how_it_works.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"How It Works"}),e.jsx("ol",{className:"space-y-1",children:r.how_it_works.map((r,s)=>e.jsxs("li",{className:"text-xs flex gap-2",style:{color:"var(--text-primary)"},children:[e.jsxs("span",{className:"font-semibold flex-shrink-0",style:{color:"var(--text-primary)"},children:[s+1,"."]}),r]},s))})]}),r.rules&&r.rules.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Rules"}),e.jsx("ul",{className:"space-y-1",children:r.rules.map((r,s)=>e.jsxs("li",{className:"text-xs",style:{color:"var(--text-primary)"},children:["â€¢ ",r]},s))})]}),r.songs_to_use&&r.songs_to_use.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)"},children:"Songs to Use"}),e.jsx("div",{className:"space-y-1",children:r.songs_to_use.map((r,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:r.title}),r.artist&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:["â€” ",r.artist]}),r.url&&e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:e.jsxs("svg",{className:"w-3 h-3 inline",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("polyline",{points:"15 3 21 3 21 9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})]},s))})]})]})]},r.id)})})]})]}),e.jsxs("div",{className:"rounded-xl overflow-hidden",style:{border:"alerts"===zr?"1px solid var(--text-primary)":"1px solid var(--border-subtle)",animation:"adminCardIn 0.45s ease 0.32s both"},children:[e.jsxs("button",{onClick:()=>Vr("alerts"===zr?null:"alerts"),className:"w-full flex items-center justify-between px-5 py-4 transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-card)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{className:"w-4 h-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Alerts"}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--text-primary)",opacity:.5},children:"Send announcements to users"})]})]}),e.jsx("svg",{className:"w-4 h-4 transition-transform duration-200 "+("alerts"===zr?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.5},children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),"alerts"===zr&&e.jsx("div",{className:"px-5 pb-5 pt-3",style:{backgroundColor:"var(--bg-elevated)",borderTop:"1px solid var(--border-subtle)"},children:ne&&e.jsx(_,{adminId:ne})})]})]})]}),"applications"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6 flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight mb-1",style:{color:"var(--text-primary)"},children:"Applications"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--text-primary)",opacity:.6},children:"Freelancer onboarding, creator verification, and artist account requests"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:js,disabled:he,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("svg",{className:"w-3.5 h-3.5 "+(he?"animate-spin":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M23 4v6h-6"}),e.jsx("path",{d:"M1 20v-6h6"}),e.jsx("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})]}),"Refresh"]}),["pending","approved","denied"].map(r=>e.jsxs("button",{onClick:()=>be(r),className:"px-3 py-1.5 rounded-lg text-xs font-semibold capitalize transition-all",style:{backgroundColor:ve===r?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:ve===r?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:[r,e.jsx("span",{className:"ml-1.5 opacity-60",children:pe.filter(e=>e.status===r).length})]},r))]})]}),he?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(c,{text:"Loading..."})}):(()=>{const r=pe.filter(e=>e.status===ve);return 0===r.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),e.jsx("path",{d:"M22 4L12 14.01l-3-3"})]})}),e.jsxs("h3",{className:"text-xl font-bold mb-2",style:{color:"var(--text-primary)"},children:["No ",ve," applications"]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"Applications will appear here once submitted"})]})}):e.jsx("div",{className:"space-y-8",children:[{type:"artist_account",label:"Artist Accounts",color:"#f9a8d4"},{type:"freelancer_onboarding",label:"Freelancer Onboarding",color:"#60a5fa"},{type:"creator_verification",label:"Creator Verification",color:"#a78bfa"}].map(({type:s,label:t,color:a})=>{const l=r.filter(e=>e.application_type===s);return 0===l.length?null:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:t}),e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-active)",color:a},children:l.length})]}),e.jsx("div",{className:"h-px mb-4",style:{backgroundColor:"var(--border-subtle)"}}),e.jsx("div",{className:"space-y-3",children:l.map(r=>e.jsxs("div",{className:"rounded-xl p-5 border",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-default)"},children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:r.full_name||r.username||"Unknown"}),r.username&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:["@",r.username]}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:r.status})]}),r.email&&e.jsx("p",{className:"text-xs mb-2",style:{color:"var(--text-primary)",opacity:.5},children:r.email}),"artist_account"===r.application_type&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("button",{onClick:()=>_e(Ce===r.id?null:r.id),className:"flex items-center gap-1.5 text-xs font-medium mb-3 transition-all hover:opacity-80",style:{color:"var(--text-primary)",opacity:.6},children:[e.jsx("svg",{className:"w-3.5 h-3.5 transition-transform duration-200 "+(Ce===r.id?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})}),Ce===r.id?"Hide details":"View full application"]}),e.jsxs("div",{className:"space-y-1.5",children:[r.category&&e.jsxs("div",{className:"flex items-center gap-3",children:[r.image_url&&e.jsx("img",{src:r.image_url,alt:r.category,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0",style:{border:"1px solid var(--border-subtle)"}}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Artist Name: "}),e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--text-primary)"},children:r.category})]}),r.artist_type&&e.jsxs("div",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:[r.artist_type,r.artist_role?` Â· ${r.artist_role}`:"",r.artist_genre?` Â· ${r.artist_genre}`:""]})]})]}),r.country&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Country: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.country})]}),r.bio&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Bio: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.bio})]})]}),Ce===r.id&&e.jsxs("div",{className:"mt-4 rounded-xl p-4 space-y-4",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Artist Info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Artist Name: "}),e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--text-primary)"},children:r.category||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Type: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.artist_type||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Role: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.artist_role||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Genre: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.artist_genre||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Country: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.country||"-"})]})]}),r.bio&&e.jsxs("div",{className:"mt-1.5",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Bio: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.bio})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Platform IDs"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Spotify: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.spotify_id||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Apple Music: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.apple_music_id||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"SoundCloud: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.soundcloud_id||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Deezer: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.deezer_id||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Audiomack: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.audiomack_id||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Amazon: "}),e.jsx("span",{className:"text-xs font-mono",style:{color:"var(--text-primary)"},children:r.amazon_id||"-"})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Social Links"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Instagram: "}),r.instagram_handle?e.jsxs("a",{href:`https://instagram.com/${r.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:["@",r.instagram_handle]}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"YouTube: "}),r.youtube_channel?e.jsx("a",{href:`https://youtube.com/${r.youtube_channel.startsWith("@")?r.youtube_channel:"@"+r.youtube_channel}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:r.youtube_channel}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"TikTok: "}),r.tiktok_username?e.jsxs("a",{href:`https://tiktok.com/@${r.tiktok_username}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:["@",r.tiktok_username]}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"X: "}),r.x_handle?e.jsxs("a",{href:`https://x.com/${r.x_handle}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:["@",r.x_handle]}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Facebook: "}),r.facebook_url?e.jsx("a",{href:r.facebook_url.startsWith("http")?r.facebook_url:`https://facebook.com/${r.facebook_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:r.facebook_url}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Website: "}),r.website_url?e.jsx("a",{href:r.website_url.startsWith("http")?r.website_url:`https://${r.website_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"var(--text-primary)"},children:r.website_url}):e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:"-"})]})]})]})]})]}),"freelancer_onboarding"===r.application_type&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-6 gap-y-1 mt-2",children:[r.professional_title&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Title: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.professional_title})]}),r.category&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Category: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.category})]}),null!=r.hourly_rate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Rate: "}),e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:["$",r.hourly_rate,"/hr"]})]}),(r.city||r.country)&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Location: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:[r.city,r.country].filter(Boolean).join(", ")})]}),r.skills&&r.skills.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Skills: "}),e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:[r.skills.slice(0,5).join(", "),r.skills.length>5?" +"+(r.skills.length-5):""]})]})]}),"creator_verification"===r.application_type&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 mt-2",children:[r.platform&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Platform: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.platform})]}),r.channel_type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Type: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.channel_type})]}),r.social_url&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"URL: "}),e.jsxs("a",{href:r.social_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs inline-flex items-center gap-1 hover:underline",style:{color:"var(--text-primary)"},children:[r.social_url.replace(/^https?:\/\//i,"").slice(0,50),e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("polyline",{points:"15 3 21 3 21 9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]}),r.channel_description&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Description: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.channel_description})]})]}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--text-primary)",opacity:.4},children:["Submitted ",Cs(r.created_at)]})]}),"pending"===r.status&&e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>ws(r.id,"approved"),disabled:ge===r.id,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[ge===r.id&&je!==r.id?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Verify"]}),e.jsxs("button",{onClick:()=>{Ne(je===r.id?null:r.id),we("")},disabled:ge===r.id,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:je===r.id?"var(--text-primary)":"var(--bg-elevated)",color:je===r.id?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Decline"]})]}),"denied"===r.status&&r.decline_reason&&e.jsxs("div",{className:"flex-shrink-0 max-w-[200px]",children:[e.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:"var(--text-primary)",opacity:.5},children:"Decline reason:"}),e.jsx("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-primary)"},children:r.decline_reason})]})]}),je===r.id&&e.jsxs("div",{className:"mt-3 rounded-xl p-4 animate-modal-in",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"text-xs mb-3",style:{color:"var(--text-primary)",opacity:.65},children:"Provide a reason for declining â€” this will be shown to the applicant."}),e.jsx("textarea",{autoFocus:!0,value:ke,onChange:e=>we(e.target.value),placeholder:"e.g. Incomplete information, duplicate account, policy violation...",rows:3,className:"w-full px-3 py-2.5 rounded-lg text-xs focus:outline-none transition-all resize-none mb-3",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-default)",color:"var(--text-primary)"},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor="var(--border-default)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ne(null),we("")},className:"flex-1 px-3 py-2 rounded-lg text-xs font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),e.jsxs("button",{onClick:()=>ws(r.id,"denied",ke.trim()||void 0),disabled:ge===r.id,className:"flex-1 px-3 py-2 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50 flex items-center justify-center gap-1.5",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:[ge===r.id?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):null,"Confirm Decline"]})]})]})]},r.id))})]},s)})})})(),e.jsxs("div",{className:"mt-12",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6 flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight mb-1",style:{color:"var(--text-primary)"},children:"Release Submissions"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"Music distribution requests from artist accounts"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:Ge,disabled:Me,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("svg",{className:"w-3.5 h-3.5 "+(Me?"animate-spin":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M23 4v6h-6"}),e.jsx("path",{d:"M1 20v-6h6"}),e.jsx("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})]}),"Refresh"]}),["submitted","approved","inactive"].map(r=>e.jsxs("button",{onClick:()=>Te(r),className:"px-3 py-1.5 rounded-lg text-xs font-semibold capitalize transition-all",style:{backgroundColor:Ae===r?"var(--bg-elevated)":"transparent",color:"var(--text-primary)",border:Ae===r?"1px solid var(--text-primary)":"1px solid var(--border-subtle)"},children:["submitted"===r?"Pending":r.charAt(0).toUpperCase()+r.slice(1),e.jsx("span",{className:"ml-1.5 opacity-60",children:Le.filter(e=>e.status===r).length})]},r))]})]}),e.jsx("div",{className:"h-px mb-6",style:{backgroundColor:"var(--border-subtle)"}}),Me?e.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:e.jsx(c,{text:"Loading..."})}):(()=>{const r=Le.filter(e=>e.status===Ae);return 0===r.length?e.jsx("div",{className:"flex items-center justify-center min-h-[180px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]})}),e.jsxs("h3",{className:"text-base font-bold mb-1",style:{color:"var(--text-primary)"},children:["No ","submitted"===Ae?"pending":Ae," releases"]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.5},children:"Release submissions will appear here once artists submit."})]})}):e.jsx("div",{className:"space-y-3",children:r.map(r=>{var s;const t=r.user||r.users,a=t&&(`${t.first_name||""} ${t.last_name||""}`.trim()||t.full_name||t.username)||"Unknown",l=null==t?void 0:t.username,o=null==t?void 0:t.email,i=Re===r.id,c=We===r.id,d=Ee===r.id;return e.jsx("div",{className:"rounded-xl border overflow-hidden",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-default)"},children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex-shrink-0 overflow-hidden",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)"},children:r.artwork_url?e.jsx("img",{src:r.artwork_url,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.3},children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("span",{className:"text-sm font-bold truncate",style:{color:"var(--text-primary)"},children:r.title||"Untitled Release"}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:"submitted"===r.status?"Pending":r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),t&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--text-primary)"},children:a}),l&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:["@",l]}),o&&e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.4},children:o})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[(()=>{var s;const t=(null==(s=r.tracks)?void 0:s.length)??0;return e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)",opacity:.6},children:t>=7?"Album":t>=4?"EP":"Single"})})(),r.genre&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:[r.genre,r.secondary_genre?` Â· ${r.secondary_genre}`:""]}),r.release_artists&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:["by ",r.release_artists]}),(null==(s=r.tracks)?void 0:s.length)>0&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.4},children:[r.tracks.length," track",1!==r.tracks.length?"s":""]})]}),e.jsxs("p",{className:"text-xs mt-1.5",style:{color:"var(--text-primary)",opacity:.4},children:["Submitted ",Cs(r.updated_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>Ie(i?null:r.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all hover:brightness-110",style:{backgroundColor:"transparent",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsx("svg",{className:"w-3.5 h-3.5 transition-transform duration-200 "+(i?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})}),i?"Hide":"Details"]}),"submitted"===r.status&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Je(r.id,"approved"),disabled:c,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[c&&!d?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),"Accept"]}),e.jsxs("button",{onClick:()=>{Pe(d?null:r.id),$e("")},disabled:c,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:d?"var(--text-primary)":"var(--bg-elevated)",color:d?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Decline"]})]})]})]}),d&&e.jsxs("div",{className:"mt-4 p-4 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsx("p",{className:"text-xs font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Decline reason (optional)"}),e.jsx("textarea",{value:Ue,onChange:e=>$e(e.target.value),placeholder:"Reason for declining this release...",rows:2,className:"w-full px-3 py-2 rounded-lg text-xs resize-none focus:outline-none mb-3",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor="var(--border-default)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Pe(null),$e("")},className:"flex-1 px-3 py-2 rounded-lg text-xs font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Cancel"}),e.jsxs("button",{onClick:()=>Je(r.id,"inactive",Ue.trim()),disabled:c,className:"flex-1 px-3 py-2 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50 flex items-center justify-center gap-1.5",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:[c?e.jsx("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56",strokeLinecap:"round"})}):null,"Confirm Decline"]})]})]}),i&&(()=>{var s,t,a;const l=(null==(s=r.tracks)?void 0:s.length)??0,o=l>=7?"Album":l>=4?"EP":"Single";return e.jsxs("div",{className:"mt-4 rounded-xl p-4 space-y-5",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:r.artwork_url?e.jsx("img",{src:r.artwork_url,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.3},children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),r.artwork_url&&e.jsxs("a",{href:r.artwork_url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"mt-1.5 flex items-center justify-center gap-1 w-full px-2 py-1 rounded-lg text-[10px] font-medium transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Release Info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Type: "}),e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--text-primary)"},children:o})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Title: "}),e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--text-primary)"},children:r.title||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Artists: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.release_artists||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Label: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.record_label||"Independent"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Primary Genre: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.genre||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Secondary Genre: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.secondary_genre||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Language: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.language||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Release Date: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.release_date||"-"})]}),r.released_before&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Original Release Date: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.original_release_date||"-"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Copyright & Production"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-4 gap-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Â© Holder: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.copyright_holder||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"Â© Year: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.copyright_year||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"â„— Holder: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.production_holder||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:"â„— Year: "}),e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)"},children:r.production_year||"-"})]})]})]}),l>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:["Tracks (",l,")"]}),e.jsx("div",{className:"space-y-1.5",children:r.tracks.map((s,t)=>{var a,l;const o=(De[r.id]||[]).includes(t),i=s.credits||{},c=i.composer||i.songwriter||i.engineer||i.performer||(null==(a=s.extraCredits)?void 0:a.length)>0,d=s.addLyrics&&(s.lyricsText||s.lyricsDocName),x=s.fileName||s.isrcCode||null!=s.previewStart||c||d,m=s.audioUrl||(()=>{if(s.fileName&&r.user_id&&r.id){const e=`${r.user_id}/${r.id}/${s.fileName}`,{data:t}=n.storage.from("release-audio").getPublicUrl(e);return(null==t?void 0:t.publicUrl)||""}return""})();return e.jsxs("div",{className:"rounded-lg overflow-hidden",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[e.jsx("span",{className:"text-xs w-5 text-right flex-shrink-0",style:{color:"var(--text-primary)",opacity:.4},children:t+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-primary)"},children:s.title||"Untitled"}),s.featuring&&e.jsxs("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.5},children:["ft. ",s.featuring]}),s.explicit&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:"E"})]}),s.fileName&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsxs("svg",{className:"w-2.5 h-2.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.4},children:[e.jsx("path",{d:"M9 18V5l12-2v13"}),e.jsx("circle",{cx:"6",cy:"18",r:"3"}),e.jsx("circle",{cx:"18",cy:"16",r:"3"})]}),e.jsx("span",{className:"text-[10px] truncate",style:{color:"var(--text-primary)",opacity:.45},children:s.fileName})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[m&&e.jsx("button",{className:"flex items-center gap-1 px-2 py-1 rounded text-[10px] font-medium transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},onClick:async e=>{e.stopPropagation();try{const e=await fetch(m),r=await e.blob(),t=URL.createObjectURL(r),a=document.createElement("a");a.href=t,a.download=s.fileName||`${s.title||"track"}.mp3`,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(t),1e4)}catch{window.open(m,"_blank")}},children:e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),x&&e.jsxs("button",{onClick:()=>ze(e=>{const s=e[r.id]||[];return{...e,[r.id]:o?s.filter(e=>e!==t):[...s,t]}}),className:"flex items-center gap-1 px-2 py-1 rounded text-[10px] font-medium transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:[e.jsx("svg",{className:"w-3 h-3 transition-transform duration-200 "+(o?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})}),o?"Less":"Details"]})]})]}),o&&e.jsxs("div",{className:"px-3 pb-3 pt-0 space-y-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1.5 pt-2.5",children:["manual"===s.isrcMode&&s.isrcCode&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",style:{color:"var(--text-primary)",opacity:.5},children:"ISRC: "}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:s.isrcCode})]}),"auto"===s.isrcMode&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",style:{color:"var(--text-primary)",opacity:.5},children:"ISRC: "}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:"Auto-assigned"})]}),null!=s.previewStart&&""!==s.previewStart&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",style:{color:"var(--text-primary)",opacity:.5},children:"Preview Start: "}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:"number"==typeof s.previewStart?`${Math.floor(s.previewStart/60)}:${String(Math.floor(s.previewStart%60)).padStart(2,"0")}`:s.previewStart})]}),s.duration>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px]",style:{color:"var(--text-primary)",opacity:.5},children:"Duration: "}),e.jsxs("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:[Math.floor(s.duration/60),":",String(Math.floor(s.duration%60)).padStart(2,"0")]})]})]}),c&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)",opacity:.4},children:"Credits"}),e.jsxs("div",{className:"space-y-1",children:[i.composer&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] w-20 flex-shrink-0",style:{color:"var(--text-primary)",opacity:.5},children:"Composer"}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:i.composer})]}),i.songwriter&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] w-20 flex-shrink-0",style:{color:"var(--text-primary)",opacity:.5},children:i.songwriterRole||"Songwriter"}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:i.songwriter})]}),i.engineer&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] w-20 flex-shrink-0",style:{color:"var(--text-primary)",opacity:.5},children:i.engineerRole||"Engineer"}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:i.engineer})]}),i.performer&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] w-20 flex-shrink-0",style:{color:"var(--text-primary)",opacity:.5},children:i.performerRole||"Performer"}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:i.performer})]}),null==(l=s.extraCredits)?void 0:l.map((r,s)=>r.name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] w-20 flex-shrink-0",style:{color:"var(--text-primary)",opacity:.5},children:r.role||"Credit"}),e.jsx("span",{className:"text-[10px] font-medium",style:{color:"var(--text-primary)"},children:r.name})]},s))]})]}),d&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)",opacity:.4},children:"Lyrics"}),s.lyricsText&&e.jsx("pre",{className:"text-[10px] leading-relaxed whitespace-pre-wrap rounded-lg px-3 py-2 max-h-40 overflow-y-auto",style:{color:"var(--text-primary)",opacity:.8,backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-subtle)",fontFamily:"inherit"},children:s.lyricsText}),s.lyricsDocName&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsxs("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.5},children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"})]}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--text-primary)",opacity:.6},children:s.lyricsDocName})]})]})]})]},t)})})]}),(null==(t=r.copyright_doc_urls)?void 0:t.length)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:"Copyright Documentation"}),e.jsx("div",{className:"space-y-1",children:r.copyright_doc_urls.map((r,s)=>e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.5},children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"})]}),e.jsxs("span",{className:"text-xs truncate flex-1",style:{color:"var(--text-primary)"},children:["Copyright Document ",s+1]}),e.jsxs("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.4},children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("polyline",{points:"15 3 21 3 21 9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]},s))})]}),(null==(a=r.stores)?void 0:a.length)>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"var(--text-primary)",opacity:.4},children:["Distribution Stores (",r.stores.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:r.stores.map(r=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:r},r))})]})]})})()]})},r.id)})})})()]})]}),"alerts"===d&&e.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in",children:ne?e.jsx(_,{adminId:ne}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:e.jsx(c,{text:"Loading..."})})}),"users"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",style:{color:"var(--text-primary)"},children:"All Users"}),z.length>0&&e.jsxs("span",{className:"text-sm font-medium px-3 py-1 rounded-lg",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)"},children:[hs.length,hs.length!==z.length?` / ${z.length}`:""," ",1===z.length?"user":"users"]})]}),e.jsx("p",{className:"text-sm sm:text-base mb-4",style:{color:"var(--text-primary)",opacity:.6},children:"View and manage all registered users (Creators, Artists, Business)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{color:"var(--text-primary)",opacity:.5},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),e.jsx("input",{type:"text",value:xe,onChange:e=>me(e.target.value),placeholder:"Search by name, email, username, or type...",className:"w-full h-10 pl-9 pr-4 rounded-xl text-sm focus:outline-none transition-all",style:{color:"var(--text-primary)",background:"var(--bg-elevated)",border:"1px solid var(--border-default)"},onFocus:e=>e.currentTarget.style.borderColor="var(--text-primary)",onBlur:e=>e.currentTarget.style.borderColor="var(--border-default)"}),xe&&e.jsx("button",{onClick:()=>me(""),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:opacity-70 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",style:{color:"var(--text-primary)",opacity:.5},children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]}),H?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(c,{text:"Loading users..."})}):q?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:"var(--text-primary)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:"var(--text-primary)"},children:"Error Loading Users"}),e.jsx("p",{className:"text-sm sm:text-base mb-4",style:{color:"var(--text-primary)",opacity:.6},children:q}),e.jsx("button",{onClick:()=>{is.current=!1,ns.current=null,Y(null),x("home"),setTimeout(()=>x("users"),100)},className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:"Retry"})]})}):0===z.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:"var(--text-primary)",opacity:.35},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:"var(--text-primary)"},children:"No users found"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--text-primary)",opacity:.5},children:"User data will appear here"})]})}):0===hs.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsxs("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{color:"var(--text-primary)",opacity:.35},children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]})}),e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:"var(--text-primary)"},children:['No results for "',xe,'"']}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--text-primary)",opacity:.5},children:"Try searching by name, email, username, or account type"})]})}):e.jsx("div",{className:"rounded-xl sm:rounded-2xl overflow-hidden",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Email"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Name"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Username"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Type"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Status"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-primary)",opacity:.5},children:"Created"})]})}),e.jsx("tbody",{children:hs.map((r,s)=>e.jsxs("tr",{onClick:()=>gs(r),className:"border-b transition-colors hover:brightness-105 cursor-pointer",style:{borderColor:s===hs.length-1?"transparent":"var(--border-default)"},children:[e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:r.email})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)",opacity:r.full_name?1:.4},children:r.full_name||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)",opacity:r.username?1:.4},children:r.username||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)",opacity:r.user_type?1:.4},children:r.user_type?r.user_type.charAt(0).toUpperCase()+r.user_type.slice(1):"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[r.verified&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:"Verified"}),r.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:"Complete"}),!r.verified&&!r.profile_completed&&e.jsx("span",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.4},children:"Pending"})]})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.5},children:Cs(r.created_at)})})]},r.id))})]})})})]}),"data"===d&&e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] animate-fade-in",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:"var(--text-primary)",opacity:.35},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:"var(--text-primary)"},children:"No data yet"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:"var(--text-primary)",opacity:.5},children:"Revenue and analytics data will appear here"})]})}),"settings"===d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden px-4 pt-4",children:e.jsx(j,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderAccountType:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("img",{src:g,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3",style:{color:"var(--text-primary)"},children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Background Theme"}),e.jsx("div",{className:"flex flex-col gap-2 sm:hidden",children:[{key:"light",label:"Navy",desc:"Navy blue",bg:"#192231",swatch:"#1e3a5f"},{key:"grey",label:"Grey",desc:"Dim background",bg:"#222226",swatch:"#3a3a3e"},{key:"rose",label:"Rose",desc:"Midnight rose",bg:"#140a12",swatch:"#3d1535"},{key:"dark",label:"Dark",desc:"Pure black",bg:"#0a0a0a",swatch:"#1a1a1a"},{key:"white",label:"Light",desc:"Clean white",bg:"#FFFFFF",swatch:"#e2e8f0"}].map(({key:r,label:s,desc:t,bg:a,swatch:l})=>{const o=$===r;return e.jsxs("button",{onClick:()=>R(r),className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-xl border-2 transition-all duration-200 text-left",style:{backgroundColor:a,borderColor:o?"#ffffff":"rgba(255,255,255,0.15)"},children:[e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx("div",{className:"w-6 h-8 rounded",style:{backgroundColor:l}}),e.jsxs("div",{className:"flex flex-col gap-1 justify-center",children:[e.jsx("div",{className:"w-8 h-1.5 rounded-sm",style:{backgroundColor:l,opacity:.7}}),e.jsx("div",{className:"w-5 h-1.5 rounded-sm",style:{backgroundColor:l,opacity:.5}})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold leading-tight",style:{color:"white"===r?"#111111":"#ffffff"},children:s}),e.jsx("p",{className:"text-xs leading-tight mt-0.5",style:{color:"white"===r?"#555555":"rgba(255,255,255,0.6)"},children:t})]}),o&&e.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"white"===r?"#111111":"#ffffff"},children:e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"white"===r?"#ffffff":"#000000"},children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})})]},r)})}),e.jsxs("div",{"data-theme-card-text":!0,className:"hidden sm:grid sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#192231"},onClick:()=>R("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===$?"bg-white border-white":"bg-white border-gray-400"),children:"light"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-white",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#222226"},onClick:()=>R("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===$?"bg-white border-white":"bg-white border-gray-400"),children:"grey"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-white",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("rose"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#140a12"},onClick:()=>R("rose"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("rose"===$?"bg-white border-white":"bg-white border-gray-400"),children:"rose"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg mb-2",style:{backgroundColor:"#1C1018"}}),e.jsx("div",{className:"h-2 rounded w-3/4 mb-2",style:{backgroundColor:"#2E1A28"}}),e.jsx("div",{className:"h-2 rounded w-1/2",style:{backgroundColor:"#2E1A28"}})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Rose"}),e.jsx("p",{className:"text-sm text-white",children:"Midnight rose"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#0a0a0a"},onClick:()=>R("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===$?"bg-white border-white":"bg-white border-gray-400"),children:"dark"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-white",children:"Pure black background (default)"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("white"===$?"border-gray-400":"border-gray-300"),style:{backgroundColor:"#FFFFFF"},onClick:()=>R("white"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("white"===$?"bg-gray-800 border-gray-800":"bg-gray-200 border-gray-400"),children:"white"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg mb-2",style:{backgroundColor:"#F1F5F9"}}),e.jsx("div",{className:"h-2 rounded w-3/4 mb-2",style:{backgroundColor:"#CBD5E1"}}),e.jsx("div",{className:"h-2 rounded w-1/2",style:{backgroundColor:"#CBD5E1"}})]}),e.jsx("h4",{className:"font-semibold mb-1 text-gray-900",children:"Light"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clean white"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 p-4 rounded-xl border",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold mb-1",style:{color:"var(--text-primary)"},children:"No secondary color"}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.6},children:"Use a single flat color across the entire background"})]}),e.jsx(N,{isActive:I,onToggle:()=>D(!I),backgroundTheme:$})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Collapse sidebar"}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.6},children:"Minimize the sidebar to show only icons"})]}),e.jsx(N,{isActive:m,onToggle:()=>p(!m),backgroundTheme:$})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsxs("div",{className:"space-y-3 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Interface"}),e.jsxs("div",{className:"space-y-3 lg:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Message Notifications"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show notification dropdown for unread messages"})]}),e.jsx(N,{isActive:w,onToggle:S,backgroundTheme:$})]}),e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Unread Message Badge"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show badge count on messages icon when you have unread messages"})]}),e.jsx(N,{isActive:M,onToggle:A,backgroundTheme:$})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Sounds"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"New Message"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Play a sound when you receive a new unread message or notification"})]}),e.jsx(N,{isActive:u,onToggle:y,backgroundTheme:$})]}),e.jsxs("button",{onClick:()=>{try{const e=new Audio("/elevate notification ping v1.wav");e.volume=.7,e.play().catch(()=>{})}catch{}},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110",style:{background:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Preview Sound"]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Email"}),e.jsxs("div",{className:"space-y-3 lg:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"New Features"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Get notified about new platform features and updates via email"})]}),e.jsx(N,{isActive:T,onToggle:F,backgroundTheme:$})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Platform Updates"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Receive important platform announcements and maintenance notices"})]}),e.jsx(N,{isActive:E,onToggle:U,backgroundTheme:$})]})]})]})]}),renderSendFeedback:ks,renderLogOut:()=>e.jsx("div",{className:"scroll-mt-6 flex gap-3",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:"Log Out"})}),isMobile:!0,onBack:()=>x("home"),userType:"admin",appliedTheme:$})}),e.jsx("div",{className:"hidden lg:block -mx-8 -my-12",children:e.jsx(j,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderAccountType:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("img",{src:g,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3",style:{color:"var(--text-primary)"},children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Background Theme"}),e.jsx("div",{className:"flex flex-col gap-2 sm:hidden",children:[{key:"light",label:"Navy",desc:"Navy blue",bg:"#192231",swatch:"#1e3a5f"},{key:"grey",label:"Grey",desc:"Dim background",bg:"#222226",swatch:"#3a3a3e"},{key:"rose",label:"Rose",desc:"Midnight rose",bg:"#140a12",swatch:"#3d1535"},{key:"dark",label:"Dark",desc:"Pure black",bg:"#0a0a0a",swatch:"#1a1a1a"},{key:"white",label:"Light",desc:"Clean white",bg:"#FFFFFF",swatch:"#e2e8f0"}].map(({key:r,label:s,desc:t,bg:a,swatch:l})=>{const o=$===r;return e.jsxs("button",{onClick:()=>R(r),className:"flex items-center gap-3 w-full px-3 py-2.5 rounded-xl border-2 transition-all duration-200 text-left",style:{backgroundColor:a,borderColor:o?"#ffffff":"rgba(255,255,255,0.15)"},children:[e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx("div",{className:"w-6 h-8 rounded",style:{backgroundColor:l}}),e.jsxs("div",{className:"flex flex-col gap-1 justify-center",children:[e.jsx("div",{className:"w-8 h-1.5 rounded-sm",style:{backgroundColor:l,opacity:.7}}),e.jsx("div",{className:"w-5 h-1.5 rounded-sm",style:{backgroundColor:l,opacity:.5}})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold leading-tight",style:{color:"white"===r?"#111111":"#ffffff"},children:s}),e.jsx("p",{className:"text-xs leading-tight mt-0.5",style:{color:"white"===r?"#555555":"rgba(255,255,255,0.6)"},children:t})]}),o&&e.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"white"===r?"#111111":"#ffffff"},children:e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"white"===r?"#ffffff":"#000000"},children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})})]},r)})}),e.jsxs("div",{"data-theme-card-text":!0,className:"hidden sm:grid sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#192231"},onClick:()=>R("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===$?"bg-white border-white":"bg-white border-gray-400"),children:"light"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-white",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#222226"},onClick:()=>R("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===$?"bg-white border-white":"bg-white border-gray-400"),children:"grey"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-white",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("rose"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#140a12"},onClick:()=>R("rose"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("rose"===$?"bg-white border-white":"bg-white border-gray-400"),children:"rose"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg mb-2",style:{backgroundColor:"#1C1018"}}),e.jsx("div",{className:"h-2 rounded w-3/4 mb-2",style:{backgroundColor:"#2E1A28"}}),e.jsx("div",{className:"h-2 rounded w-1/2",style:{backgroundColor:"#2E1A28"}})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Rose"}),e.jsx("p",{className:"text-sm text-white",children:"Midnight rose"})]}),e.jsxs("div",{className:"relative rounded-2xl p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===$?"border-white":"border-gray-600"),style:{backgroundColor:"#0a0a0a"},onClick:()=>R("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===$?"bg-white border-white":"bg-white border-gray-400"),children:"dark"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-white",children:"Pure black background (default)"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("white"===$?"border-gray-400":"border-gray-300"),style:{backgroundColor:"#FFFFFF"},onClick:()=>R("white"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("white"===$?"bg-gray-800 border-gray-800":"bg-gray-200 border-gray-400"),children:"white"===$&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg mb-2",style:{backgroundColor:"#F1F5F9"}}),e.jsx("div",{className:"h-2 rounded w-3/4 mb-2",style:{backgroundColor:"#CBD5E1"}}),e.jsx("div",{className:"h-2 rounded w-1/2",style:{backgroundColor:"#CBD5E1"}})]}),e.jsx("h4",{className:"font-semibold mb-1 text-gray-900",children:"Light"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clean white"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 p-4 rounded-xl border",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"No secondary color"}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--text-primary)"},children:"Use a single flat color across the entire background"})]}),e.jsx(N,{isActive:I,onToggle:()=>D(!I),backgroundTheme:$})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border",style:{backgroundColor:"var(--bg-elevated)",borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Collapse sidebar"}),e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.6},children:"Minimize the sidebar to show only icons"})]}),e.jsx(N,{isActive:m,onToggle:()=>p(!m),backgroundTheme:$})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsxs("div",{className:"space-y-3 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Interface"}),e.jsxs("div",{className:"space-y-3 lg:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Message Notifications"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show notification dropdown for unread messages"})]}),e.jsx(N,{isActive:w,onToggle:S,backgroundTheme:$})]}),e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Unread Message Badge"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show badge count on messages icon when you have unread messages"})]}),e.jsx(N,{isActive:M,onToggle:A,backgroundTheme:$})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Sounds"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"New Message"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Play a sound when you receive a new unread message or notification"})]}),e.jsx(N,{isActive:u,onToggle:y,backgroundTheme:$})]}),e.jsxs("button",{onClick:()=>{try{const e=new Audio("/elevate notification ping v1.wav");e.volume=.7,e.play().catch(()=>{})}catch{}},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110",style:{background:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Preview Sound"]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:"var(--text-primary)"},children:"Email"}),e.jsxs("div",{className:"space-y-3 lg:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 lg:pb-6 border-b",style:{borderColor:"var(--border-subtle)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"New Features"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Get notified about new platform features and updates via email"})]}),e.jsx(N,{isActive:T,onToggle:F,backgroundTheme:$})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Platform Updates"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Receive important platform announcements and maintenance notices"})]}),e.jsx(N,{isActive:E,onToggle:U,backgroundTheme:$})]})]})]})]}),renderSendFeedback:ks,renderLogOut:()=>e.jsx("div",{className:"scroll-mt-6 flex gap-3",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:"Log Out"})}),userType:"admin",appliedTheme:$})})]})]})]}),G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 transition-opacity",style:{backdropFilter:"blur(6px)"},onClick:()=>J(null)}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",onClick:()=>J(null),children:e.jsxs("div",{className:"w-full max-w-4xl h-[80vh] rounded-2xl overflow-hidden flex animate-modal-in",style:{backgroundColor:"var(--bg-modal)",boxShadow:"0 32px 64px rgba(0,0,0,0.5)"},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"w-64 flex-shrink-0 p-6",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"User Details"}),e.jsx("button",{onClick:()=>J(null),className:"p-2 rounded-lg transition-colors hover:brightness-110",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)"},children:e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>X("personal"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("personal"===K?"":"hover:brightness-110"),style:{backgroundColor:"personal"===K?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Personal info"})]}),e.jsxs("button",{onClick:()=>X("connected"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("connected"===K?"":"hover:brightness-110"),style:{backgroundColor:"connected"===K?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Connected accounts"})]}),e.jsxs("button",{onClick:()=>X("payment"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("payment"===K?"":"hover:brightness-110"),style:{backgroundColor:"payment"===K?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Payment Method"})]}),e.jsxs("button",{onClick:()=>X("notifications"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("notifications"===K?"":"hover:brightness-110"),style:{backgroundColor:"notifications"===K?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Notifications"})]}),e.jsx("div",{className:"pt-2 mt-2",style:{borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("button",{onClick:()=>{X("account-actions"),te("idle"),le("idle"),ie("")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("account-actions"===K?"":"hover:brightness-110"),style:{backgroundColor:"account-actions"===K?"var(--bg-active)":"transparent",color:"var(--text-primary)"},children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Account Actions"})]})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8",children:["personal"===K&&e.jsxs("div",{className:"space-y-6 animate-modal-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Personal Information"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"View and manage user's personal details"})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"Email"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:G.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"Full Name"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:G.full_name?1:.4},children:G.full_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"Username"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:G.username?1:.4},children:G.username||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"User Type"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:G.user_type?G.user_type.charAt(0).toUpperCase()+G.user_type.slice(1):"Not specified"})]})]})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Status"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-2 block",style:{color:"var(--text-primary)",opacity:.5},children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[G.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})," Verified"]}),G.profile_completed&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})," Profile Complete"]}),!G.verified&&!G.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",opacity:.5,border:"1px solid var(--border-subtle)"},children:"Pending"})]})]})})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Account Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"User ID"}),e.jsx("p",{className:"text-sm font-mono break-all",style:{color:"var(--text-primary)",opacity:.4},children:G.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"Created At"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:Cs(G.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:"var(--text-primary)",opacity:.5},children:"Last Updated"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:Cs(G.updated_at)})]})]})]})]}),"connected"===K&&e.jsxs("div",{className:"space-y-6 animate-modal-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Connected Accounts"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"All social links and external accounts connected to this user's profile"})]}),ee?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(c,{text:"Loading accounts..."})}):0===Z.length?e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-active)"},children:e.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.35},children:[e.jsx("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})]})}),e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:"var(--text-primary)"},children:"No connected accounts"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.5},children:"This user hasn't connected any social accounts yet"})]})})}):e.jsx("div",{className:"space-y-3",children:Z.map(r=>e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)",border:"1px solid var(--border-subtle)"},children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"var(--bg-active)"},children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("path",{d:"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"})]})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:r.display_name||r.platform}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-medium capitalize",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"},children:r.platform}),r.verified?e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})," Verified"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",opacity:.5,border:"1px solid var(--border-subtle)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})," Unverified"]})]}),e.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline flex items-center gap-1 truncate",style:{color:"var(--text-primary)",opacity:.5},children:[e.jsxs("svg",{className:"w-3 h-3 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("polyline",{points:"15 3 21 3 21 9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),e.jsx("span",{className:"truncate",children:r.url})]}),r.channel_type&&e.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-primary)",opacity:.5},children:["Type: ",r.channel_type]}),r.channel_description&&e.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-primary)",opacity:.5},children:r.channel_description})]})]}),e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.4},children:"Added"}),e.jsx("p",{className:"text-xs font-medium",style:{color:"var(--text-primary)",opacity:.6},children:new Date(r.created_at).toLocaleDateString()})]})]})},r.id))})]}),"payment"===K&&e.jsxs("div",{className:"space-y-6 animate-modal-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Payment Method"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"View user's payment and payout methods"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-active)"},children:e.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.35},children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No payment methods"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.5},children:"This user hasn't added any payment methods yet"})]})})})]}),"account-actions"===K&&e.jsxs("div",{className:"space-y-6 animate-modal-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Account Actions"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"Perform administrative actions on this user's account."})]}),e.jsxs("div",{className:"rounded-xl p-5 space-y-4",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),e.jsx("line",{x1:"14",y1:"15",x2:"14",y2:"9"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Suspend Account"}),e.jsx("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-primary)",opacity:.55},children:"Temporarily restrict this user's access to the platform. You will be prompted to provide a reason."})]})]}),"idle"===ae&&e.jsx("button",{onClick:()=>le("reason"),className:"px-5 py-2.5 rounded-lg text-sm font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Suspend Account"}),"reason"===ae&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-1.5",style:{color:"var(--text-primary)",opacity:.5},children:"Reason for suspension"}),e.jsx("textarea",{value:oe,onChange:e=>ie(e.target.value),placeholder:"e.g. Violation of community guidelines â€” repeated spam...",rows:3,className:"w-full px-3 py-2.5 rounded-lg text-sm resize-none focus:outline-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},onFocus:e=>e.target.style.borderColor="var(--text-primary)",onBlur:e=>e.target.style.borderColor="var(--border-default)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>le("confirm"),disabled:!oe.trim(),className:"px-5 py-2.5 rounded-lg text-sm font-semibold transition-all hover:brightness-110 disabled:opacity-40 disabled:cursor-not-allowed",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Review & Confirm"}),e.jsx("button",{onClick:()=>{le("idle"),ie("")},className:"px-4 py-2.5 rounded-lg text-sm transition-all hover:brightness-110",style:{backgroundColor:"transparent",color:"var(--text-primary)",opacity:.5},children:"Cancel"})]})]}),"confirm"===ae&&e.jsxs("div",{className:"rounded-lg p-4 space-y-3",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)"},children:[e.jsxs("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:["Confirm suspension for ",e.jsx("span",{style:{opacity:.7},children:null==G?void 0:G.email})]}),e.jsxs("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-primary)",opacity:.6},children:["Reason: ",oe]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:async()=>{await n.from("users").update({profile_completed:!1}).eq("id",null==G?void 0:G.id),le("idle"),ie(""),alert(`Account suspended: ${null==G?void 0:G.email}`)},className:"px-5 py-2.5 rounded-lg text-sm font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-active)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Confirm Suspend"}),e.jsx("button",{onClick:()=>le("reason"),className:"px-4 py-2.5 rounded-lg text-sm transition-all hover:brightness-110",style:{backgroundColor:"transparent",color:"var(--text-primary)",opacity:.5},children:"Back"})]})]})]}),e.jsxs("div",{className:"rounded-xl p-5 space-y-4",style:{backgroundColor:"var(--bg-elevated)"},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)"},children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),e.jsx("path",{d:"M10 11v6M14 11v6"}),e.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold mb-1",style:{color:"var(--text-primary)"},children:"Delete Account"}),e.jsx("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-primary)",opacity:.55},children:"Permanently delete this user and all associated data. This action cannot be undone."})]})]}),"idle"===se&&e.jsx("button",{onClick:()=>te("confirm"),className:"px-5 py-2.5 rounded-lg text-sm font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Delete Account"}),"confirm"===se&&e.jsxs("div",{className:"rounded-lg p-4 space-y-3",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-default)"},children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:"Are you sure you want to permanently delete this account?"}),e.jsxs("p",{className:"text-xs",style:{color:"var(--text-primary)",opacity:.55},children:["User: ",e.jsx("span",{style:{opacity:1},children:null==G?void 0:G.email})," â€” This cannot be undone."]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:async()=>{await n.from("users").delete().eq("id",null==G?void 0:G.id),J(null),te("idle")},className:"px-5 py-2.5 rounded-lg text-sm font-semibold transition-all hover:brightness-110",style:{backgroundColor:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)"},children:"Yes, Delete Permanently"}),e.jsx("button",{onClick:()=>te("idle"),className:"px-4 py-2.5 rounded-lg text-sm transition-all hover:brightness-110",style:{backgroundColor:"transparent",color:"var(--text-primary)",opacity:.5},children:"Cancel"})]})]})]})]}),"notifications"===K&&e.jsxs("div",{className:"space-y-6 animate-modal-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Notifications"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.6},children:"View user's notification preferences and history"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:"var(--bg-elevated)"},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"var(--bg-active)"},children:e.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--text-primary)",opacity:.35},children:[e.jsx("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.jsx("path",{d:"M13.73 21a2 2 0 01-3.46 0"})]})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No notifications"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)",opacity:.5},children:"No notification history available for this user"})]})})})]})]})]})})]})]})]}):null}export{L as AdminDashboard};
