import{j as e}from"./spline-DN92G9fQ.js";import{r as s,u as t}from"./react-vendor-C5CBPnGl.js";import{c as l,a as r,S as a,b as n,s as o,A as i,t as d}from"./index-Dq4tZRuG.js";import{i as c,j as m,c as x,d as u,f as h,a as b,U as p,e as g,A as y,k as f,X as j,C as v,E as N,M as w,S as k,L as C,l as S}from"./SettingsView-SnYBjP9Q.js";import{c as A}from"./createLucideIcon-DApH4y_Q.js";import"./supabase-CAOwvaCC.js";import"./arrow-left-D6ZoFILw.js";import"./chevron-down-BtUUkoj_.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=A("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),T=A("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),P=A("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),E=A("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),M=A("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),L=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),U=A("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function $({currentAdminId:t}){const{tokens:l,theme:r}=n(),{conversations:a,loading:d}=c(t),[y,f]=s.useState(""),[j,v]=s.useState(""),[N,w]=s.useState(null),[k,C]=s.useState(!0),{profile:S}=m(t);x(t);const A=s.useMemo(()=>u(e=>v(e),300),[]);s.useEffect(()=>{A(y)},[y,A]),s.useEffect(()=>{if(a.length>0&&!N){const e=a[0];w(e),e.unread_count_admin>0&&(async()=>{try{const{error:s}=await o.from("conversations").update({unread_count_admin:0}).eq("id",e.id);if(s)throw s}catch(s){}})()}},[a,N]);const F=s.useMemo(()=>a.filter(e=>{if(!e.customer)return!1;return e.customer.name.toLowerCase().includes(j.toLowerCase())}),[a,j]),T=s.useCallback(e=>{var s;return e===t?(null==S?void 0:S.name)||"You":(null==(s=null==N?void 0:N.customer)?void 0:s.name)||"Customer"},[S,N,t]),_=async(e,s)=>{try{const{error:t}=await o.from("conversations").update({is_pinned:s}).eq("id",e);if(t)throw t}catch(t){}};return d&&0===a.length?e.jsx("div",{className:"flex items-center justify-center rounded-2xl w-full shadow-2xl",style:{minHeight:"calc(100vh - 160px)",backgroundColor:l.bg.primary,border:`1px solid ${l.border.default}`},children:e.jsx(i,{text:"Loading conversations..."})}):e.jsxs("div",{className:"flex overflow-hidden rounded-2xl w-full shadow-2xl h-full",style:{backgroundColor:l.bg.primary,border:`1px solid ${l.border.default}`},children:[e.jsxs("div",{className:(k?"flex":"hidden lg:flex")+" flex-col w-full lg:w-80 xl:w-96 min-h-0 flex-shrink-0 overflow-hidden",style:{borderRight:`1px solid ${l.border.default}`,backgroundColor:l.bg.primary},children:[e.jsx("div",{className:"p-5 pb-4",style:{borderBottom:`1px solid ${l.border.default}`,backgroundColor:l.bg.primary},children:e.jsxs("div",{className:"relative mb-4",children:[e.jsx(h,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:l.text.muted}}),e.jsx("input",{type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"Search customers...","aria-label":"Search customers",className:"w-full pl-10 pr-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:l.bg.input,border:`1px solid ${l.border.default}`,color:l.text.primary,outlineColor:"rgba(148, 163, 184, 0.3)",boxShadow:"0 0 0 1px rgba(148, 163, 184, 0.3)"}})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent"},children:0===F.length?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#0f0f13"},children:e.jsx(b,{className:"w-8 h-8",style:{color:l.text.muted}})}),e.jsx("p",{className:"text-sm font-medium",style:{color:l.text.secondary},children:"No conversations found"}),e.jsx("p",{className:"text-xs mt-1",style:{color:l.text.muted},children:"Customer conversations will appear here"})]}):F.map(s=>s.customer&&e.jsx(p,{user:s.customer,conversation:s,isActive:(null==N?void 0:N.id)===s.id,onClick:()=>(async e=>{if(w(e),C(!1),e.unread_count_admin>0)try{await o.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}catch(s){}})(s),onPin:_,unreadCount:s.unread_count_admin,currentUserId:t},s.id))})]}),e.jsx("div",{className:(k?"hidden lg:flex":"flex")+" flex-col flex-1 min-h-0 min-w-0 overflow-hidden",style:{backgroundColor:l.bg.primary},children:N&&N.customer?e.jsx(g,{conversation:N,otherUser:N.customer,currentUserId:t,getSenderName:T,backgroundTheme:r},N.id):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-2xl flex items-center justify-center",style:{backgroundColor:l.bg.elevated,border:`1px solid ${l.border.default}`},children:e.jsx(b,{className:"w-10 h-10",style:{color:l.text.muted}})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:l.text.primary},children:"Select a conversation"}),e.jsx("p",{className:"text-sm",style:{color:l.text.secondary},children:"Choose a customer from the list to start chatting"})]})})})]})}function z({adminId:t,onClose:l}){const{tokens:r}=n(),[a,i]=s.useState(!0),[d,c]=s.useState(""),[m,x]=s.useState(""),[b,p]=s.useState(""),[g,v]=s.useState("normal"),[N,w]=s.useState("all"),[k,C]=s.useState(!1),[S,A]=s.useState(null),[_,$]=s.useState(!1),[z,I]=s.useState([]),[q,B]=s.useState(!1),[D,R]=s.useState(!1),V=s.useRef(null),H=s.useRef(null),W=s.useCallback(u(async e=>{if(e.trim().length<2)return I([]),B(!1),void R(!1);R(!0);try{const{data:s,error:t}=await o.from("users").select("id, username, email, full_name").ilike("username",`%${e}%`).limit(5);if(t)throw t;I(s||[]),B(!0)}catch(s){I([])}finally{R(!1)}},300),[]);s.useEffect(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&V.current&&!V.current.contains(e.target)&&B(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:r.bg.elevated},children:e.jsx(F,{className:"w-5 h-5",style:{color:r.text.primary}})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",style:{color:r.text.primary},children:"Send Announcement"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:r.text.secondary},children:"Send announcements to all users or specific users"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:r.text.secondary},children:"Announcement Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>v("normal"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("normal"===g?"":"hover:brightness-110"),style:{backgroundColor:"normal"===g?r.bg.active:"transparent",color:"#F8FAFC",border:"normal"===g?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(T,{className:"w-4 h-4"}),"Normal"]}),e.jsxs("button",{onClick:()=>v("serious"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("serious"===g?"":"hover:brightness-110"),style:{backgroundColor:"serious"===g?"rgba(239, 68, 68, 0.2)":"transparent",color:"serious"===g?"#ef4444":"#F8FAFC",border:"serious"===g?"1px solid rgba(239, 68, 68, 0.5)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(y,{className:"w-4 h-4"}),"Serious"]})]})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:r.text.secondary},children:"Recipients"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>{i(!0),c(""),I([]),B(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(a?"":"hover:brightness-110"),style:{backgroundColor:a?r.bg.active:"transparent",color:"#F8FAFC",border:a?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(U,{className:"w-4 h-4"}),"Broadcast"]}),e.jsxs("button",{onClick:()=>{i(!1),I([]),B(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(a?"hover:brightness-110":""),style:{backgroundColor:a?"transparent":r.bg.active,color:"#F8FAFC",border:a?"1px solid rgba(75, 85, 99, 0.2)":"1px solid rgba(148, 163, 184, 0.3)"},children:[e.jsx(L,{className:"w-4 h-4"}),"Specific User"]})]})]}),a&&e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:r.text.secondary},children:"Target Audience"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>w("all"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("all"===N?"":"hover:brightness-110"),style:{backgroundColor:"all"===N?r.bg.active:"transparent",color:"#F8FAFC",border:"all"===N?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(U,{className:"w-4 h-4"}),"All Users"]}),e.jsxs("button",{onClick:()=>w("creators"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("creators"===N?"":"hover:brightness-110"),style:{backgroundColor:"creators"===N?r.bg.active:"transparent",color:"#F8FAFC",border:"creators"===N?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(M,{className:"w-4 h-4"}),"Creators"]}),e.jsxs("button",{onClick:()=>w("artists"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("artists"===N?"":"hover:brightness-110"),style:{backgroundColor:"artists"===N?r.bg.active:"transparent",color:"#F8FAFC",border:"artists"===N?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(E,{className:"w-4 h-4"}),"Artists"]})]})]}),!a&&e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl relative",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:r.text.secondary},children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(h,{className:"w-4 h-4",style:{color:r.text.muted}})}),e.jsx("input",{ref:V,type:"text",value:d,onChange:e=>{return s=e.target.value,c(s),void W(s);var s},onFocus:()=>{z.length>0&&B(!0)},placeholder:"Type username to search...",className:"w-full h-12 pl-10 pr-4 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all",style:{color:r.text.primary,background:r.bg.input,border:`1px solid ${r.border.default}`},disabled:k}),D&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(P,{className:"w-4 h-4 animate-spin",style:{color:r.text.muted}})})]}),q&&z.length>0&&e.jsx("div",{ref:H,className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border z-50 max-h-64 overflow-y-auto",style:{backgroundColor:r.bg.elevated,borderColor:r.border.default},children:z.map(s=>e.jsx("button",{type:"button",onClick:()=>(e=>{c(e.username),B(!1),I([])})(s),className:"w-full px-4 py-3 text-left hover:brightness-110 transition-all flex items-center gap-3 border-b last:border-b-0",style:{backgroundColor:"transparent",borderColor:"rgba(75, 85, 99, 0.1)"},children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-semibold truncate",style:{color:r.text.primary},children:["@",s.username]}),s.full_name&&e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:r.text.secondary},children:s.full_name}),e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:r.text.muted},children:s.email})]})},s.id))}),q&&d.trim().length>=2&&!D&&0===z.length&&e.jsx("div",{className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border p-4 text-center",style:{backgroundColor:r.bg.elevated,borderColor:r.border.default},children:e.jsx("p",{className:"text-sm",style:{color:r.text.secondary},children:"No users found"})})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:r.text.secondary},children:"Title"}),e.jsx("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Notification title",className:"w-full h-12 px-4 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all",style:{color:"#F8FAFC",background:r.bg.input,border:"1px solid rgba(75, 85, 99, 0.2)"},disabled:k})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:r.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:r.text.secondary},children:"Content"}),e.jsx("textarea",{value:b,onChange:e=>p(e.target.value),placeholder:"Notification content",rows:8,className:"w-full px-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all resize-none",style:{color:"#F8FAFC",background:r.bg.input,border:"1px solid rgba(75, 85, 99, 0.2)"},disabled:k})]}),S&&e.jsx("div",{className:"rounded-2xl p-4 border "+(S.success?"border-green-500/30":"border-red-500/30"),style:{backgroundColor:S.success?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[S.success?e.jsx(f,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#10b981"}}):e.jsx(j,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#ef4444"}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",style:{color:S.success?"#10b981":"#ef4444"},children:S.message})})]})}),e.jsxs("div",{className:"flex gap-4",children:[l&&e.jsx("button",{onClick:l,className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:r.bg.elevated,color:r.text.primary,border:`1px solid ${r.border.default}`},disabled:k,children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(m.trim()&&b.trim())if(a||d.trim()){C(!0),A(null),$(!0);try{let e=null;if(!a&&d.trim()){const{data:s,error:t}=await o.from("users").select("id").eq("username",d.trim()).single();if(t||!s)throw new Error(`User with username "${d.trim()}" not found`);const{data:l,error:r}=await o.from("profiles").select("id").eq("id",s.id).single();if(r||!l)throw new Error(`Profile not found for user "${d.trim()}"`);e=l.id}$(!1);const s={admin_id:t,user_id:a?null:e,title:m.trim(),content:b.trim(),announcement_type:g,target_audience:a?N:"all"},{data:l,error:r}=await o.from("announcements").insert(s).select();if(r)throw r;A({success:!0,message:a?`${"serious"===g?"ðŸš¨ Serious":"ðŸ“¢ Normal"} announcement sent to ${"all"===N?"all users":N} successfully`:`Announcement sent to user @${d.trim()} successfully`}),x(""),p(""),c(""),I([]),B(!1),i(!0),v("normal"),w("all")}catch(e){$(!1),A({success:!1,message:e.message||"Failed to send announcement"})}finally{C(!1)}}else A({success:!1,message:'Please enter a username or select "Send to all users"'});else A({success:!1,message:"Please fill in both title and content"})},disabled:k||!m.trim()||!b.trim()||!a&&!d.trim(),className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:"#F8FAFC",color:"#000000"},children:k?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4 animate-spin"}),_?"Looking up user...":"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4"}),"Send Announcement"]})})]})]})]})}function I(){const[o,c]=s.useState("home"),[m,x]=s.useState(!1),{theme:u,setTheme:h,tokens:b}=n(),[p,g]=s.useState([]),[y,f]=s.useState(!1),[A,F]=s.useState(null),[P,E]=s.useState(null),[M,U]=s.useState("personal"),[I,q]=s.useState(null),B=t(),D=s.useRef(!1),R=s.useRef(null),{admin:V,sessionToken:H,verifySession:W,isAuthenticated:X,isLoading:O}=l(),{adminFetch:G}=function(){const{admin:e,isAuthenticated:t,hasPermission:n,sessionToken:o}=l();return{admin:e,isAuthenticated:t,can:(e,s)=>n(e,s),getAuthHeaders:()=>{const e={Authorization:`Bearer ${r}`,"Content-Type":"application/json"};return o&&(e["X-Session-Token"]=o),e},adminFetch:s.useCallback(async(e,s={})=>{const t=`${a}/functions/v1/${e}`,l={Authorization:`Bearer ${r}`,"Content-Type":"application/json",...s.headers};o&&(l["X-Session-Token"]=o);const n=await fetch(t,{...s,headers:l});if(!n.ok){const e=await n.json().catch(()=>({message:"Request failed"}));throw new Error(e.message||`HTTP ${n.status}`)}return n.json()},[o]),role:null==e?void 0:e.role,permissions:null==e?void 0:e.permissions}}();s.useEffect(()=>{const e=setInterval(()=>{},3e5);return()=>clearInterval(e)},[]),s.useEffect(()=>{(async()=>{if(V&&("messages"===o||"alerts"===o)){const e=await S();e&&q(e)}})()},[V,o]),s.useEffect(()=>{if("users"!==o)return D.current=!1,void(R.current=null);if("users"===R.current)return;if(D.current)return;return(async()=>{if(!H)return F("Session expired. Please log in again."),f(!1),void setTimeout(()=>{B("/admin/login")},2e3);if(!(await W())||!X)return F("Session expired. Redirecting to login..."),f(!1),void setTimeout(()=>{B("/admin/login")},2e3);if(!G)return F("Admin authentication not available. Please log in again."),void f(!1);D.current=!0,R.current="users";(async()=>{f(!0),F(null),g([]);const e=setTimeout(()=>{F("Request timeout. Please check your connection and try again."),f(!1),D.current=!1},3e4);try{const s=await G("admin-users",{method:"GET"});if(clearTimeout(e),!s||!1===s.success){const e=(null==s?void 0:s.message)||"Failed to fetch users";throw new Error(e)}{const e=s.users||s.data||[];if(!Array.isArray(e))throw new Error("Invalid response format: users is not an array.");g(e),F(null),f(!1),R.current="users"}}catch(s){clearTimeout(e);let t="Failed to load users.";"AbortError"===(null==s?void 0:s.name)?t="Request timeout. The Edge Function may not be responding.":(null==s?void 0:s.message)&&(t=s.message,s.message.includes("404")||s.message.includes("Not Found")?t="Edge Function not found. Please deploy the admin-users Edge Function.":s.message.includes("401")||s.message.includes("Unauthorized")?t="Unauthorized. Please check your admin session and log in again.":s.message.includes("403")||s.message.includes("Permission")?t="Permission denied. You do not have access to view users.":s.message.includes("Failed to fetch")&&(t="Network error: Unable to connect.")),F(t),g([]),f(!1),R.current=null}finally{D.current=!1}})()})(),()=>{D.current=!1}},[o,G,H,W,X,B]);const Y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return O||!V?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:b.bg.primary},children:e.jsx(i,{text:"Loading dashboard..."})}):e.jsxs("div",{className:"min-h-screen text-white flex transition-colors duration-300",style:{backgroundColor:b.bg.primary},children:[e.jsx(v,{activeSection:o,setActiveSection:c,userProfile:null,unreadCount:0,cachedProfilePic:N,isCollapsed:m,onCollapsedChange:x,userType:"admin"}),e.jsx(w,{activeSection:o,setActiveSection:c,unreadCount:0,profilePicture:N,backgroundTheme:u,userType:"admin"}),e.jsxs("main",{className:"flex-1 min-h-screen pb-20 lg:pb-0 transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] "+(m?"lg:ml-[80px]":"lg:ml-[240px]"),style:{backgroundColor:b.bg.primary},children:["messages"===o&&e.jsx("div",{className:"animate-fade-in flex-1 flex flex-col min-h-0 overflow-hidden h-[calc(100vh-80px)] lg:h-screen",children:I?e.jsx($,{currentAdminId:I}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:b.text.muted,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:b.text.muted,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:b.text.muted,animationDelay:"300ms"}})]})})}),"messages"!==o&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-6 sm:py-12",children:["home"===o&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight mb-2",style:{color:b.text.primary},children:"Welcome back, Admin"}),e.jsx("p",{className:"text-base",style:{color:b.text.secondary},children:"Manage your platform from here"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:b.bg.elevated,border:`1px solid ${b.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"Applications"}),e.jsx("p",{className:"text-sm",style:{color:b.text.secondary},children:"Review pending creator applications"})]}),e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:b.bg.elevated,border:`1px solid ${b.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"Users"}),e.jsx("p",{className:"text-sm",style:{color:b.text.secondary},children:"Manage all registered users"})]}),e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:b.bg.elevated,border:`1px solid ${b.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"Alerts"}),e.jsx("p",{className:"text-sm",style:{color:b.text.secondary},children:"Send announcements to users"})]})]})]}),"applications"===o&&e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] animate-fade-in",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:b.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:b.text.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:b.text.primary},children:"No applications yet"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:b.text.secondary},children:"Pending applications will appear here"})]})}),"alerts"===o&&e.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in",children:I?e.jsx(z,{adminId:I}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:e.jsx(i,{text:"Loading..."})})}),"users"===o&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",style:{color:b.text.primary},children:"All Users"}),p.length>0&&e.jsxs("span",{className:"text-sm font-medium px-3 py-1 rounded-lg",style:{backgroundColor:b.bg.active,color:b.text.muted},children:[p.length," ",1===p.length?"user":"users"]})]}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:b.text.secondary},children:"View and manage all registered users (Creators, Artists, Business)"})]}),y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(i,{text:"Loading users..."})}):A?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:b.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:b.text.primary},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:b.text.primary},children:"Error Loading Users"}),e.jsx("p",{className:"text-sm sm:text-base mb-4",style:{color:b.text.secondary},children:A}),e.jsx("button",{onClick:()=>{D.current=!1,R.current=null,F(null),c("home"),setTimeout(()=>c("users"),100)},className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:b.bg.elevated,color:b.text.primary,border:`1px solid ${b.border.subtle}`},children:"Retry"})]})}):0===p.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:b.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:b.text.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:b.text.primary},children:"No users found"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:b.text.secondary},children:"User data will appear here"})]})}):e.jsx("div",{className:"rounded-xl sm:rounded-2xl overflow-hidden",style:{backgroundColor:b.bg.elevated},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",style:{borderColor:b.border.subtle},children:[e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Email"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Name"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Username"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Type"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Status"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:b.text.muted},children:"Created"})]})}),e.jsx("tbody",{children:p.map((s,t)=>e.jsxs("tr",{onClick:()=>{E(s),U("personal")},className:"border-b transition-colors hover:brightness-105 cursor-pointer",style:{borderColor:t===p.length-1?"transparent":b.border.default},children:[e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm font-medium",style:{color:b.text.primary},children:s.email})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.full_name?b.text.primary:b.text.muted},children:s.full_name||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.username?b.text.primary:b.text.muted},children:s.username||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.user_type?b.text.primary:b.text.muted},children:s.user_type?s.user_type.charAt(0).toUpperCase()+s.user_type.slice(1):"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.verified&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:b.bg.active,color:"#10b981"},children:"Verified"}),s.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:b.bg.active,color:"#3b82f6"},children:"Complete"}),!s.verified&&!s.profile_completed&&e.jsx("span",{className:"text-xs",style:{color:b.text.muted},children:"Pending"})]})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:b.text.muted},children:Y(s.created_at)})})]},s.id))})]})})})]}),"data"===o&&e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] animate-fade-in",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:b.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:b.text.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:b.text.primary},children:"No data yet"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:b.text.secondary},children:"Revenue and analytics data will appear here"})]})}),"settings"===o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden px-4 pt-4",children:e.jsx(k,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"light"===u?d.light.bg.primary:"grey"===u?d.grey.bg.primary:d.dark.bg.primary,borderColor:"light"===u?d.light.border.subtle:"grey"===u?d.grey.border.subtle:d.dark.border.subtle},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"light"===u?d.light.bg.elevated:"grey"===u?d.grey.bg.elevated:d.dark.bg.elevated},children:e.jsx("img",{src:N,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold text-white",children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3 text-white",children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Background Theme"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#0F172A"},onClick:()=>h("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"light"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#1A1A1E"},onClick:()=>h("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"grey"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#000000"},onClick:()=>h("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"dark"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pure black background (default)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-3 lg:pb-6 border-b",style:{borderColor:b.border.subtle},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:b.text.primary},children:"Collapse sidebar"}),e.jsx("p",{className:"text-sm",style:{color:b.text.secondary},children:"Minimize the sidebar to show only icons"})]}),e.jsx("button",{type:"button",onClick:()=>x(!m),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:m?b.bg.active:b.bg.elevated},children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:m?"translateX(1.25rem)":"translateX(0.25rem)"}})})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsx("div",{}),renderSendFeedback:()=>e.jsx("div",{}),renderLogOut:()=>e.jsx("div",{className:"px-4 py-8",children:e.jsx("div",{className:"max-w-md",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"w-full sm:w-auto px-6 py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",children:"Log Out"})})}),isMobile:!0,onBack:()=>c("home"),userType:"admin",appliedTheme:u})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(k,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"light"===u?d.light.bg.primary:"grey"===u?d.grey.bg.primary:d.dark.bg.primary,borderColor:"light"===u?d.light.border.subtle:"grey"===u?d.grey.border.subtle:d.dark.border.subtle},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"light"===u?d.light.bg.elevated:"grey"===u?d.grey.bg.elevated:d.dark.bg.elevated},children:e.jsx("img",{src:N,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold text-white",children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3 text-white",children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Background Theme"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#0F172A"},onClick:()=>h("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"light"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#1A1A1E"},onClick:()=>h("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"grey"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===u?"border-blue-500":"border-gray-600"),style:{backgroundColor:"#000000"},onClick:()=>h("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===u?"bg-blue-500 border-blue-500":"bg-white border-gray-400"),children:"dark"===u&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pure black background (default)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:b.text.primary},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-3 lg:pb-6 border-b",style:{borderColor:b.border.subtle},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:b.text.primary},children:"Collapse sidebar"}),e.jsx("p",{className:"text-sm",style:{color:b.text.secondary},children:"Minimize the sidebar to show only icons"})]}),e.jsx("button",{type:"button",onClick:()=>x(!m),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:m?b.bg.active:b.bg.elevated},children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:m?"translateX(1.25rem)":"translateX(0.25rem)"}})})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsx("div",{}),renderSendFeedback:()=>e.jsx("div",{}),renderLogOut:()=>e.jsx("div",{className:"px-4 py-8",children:e.jsx("div",{className:"max-w-md",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"w-full sm:w-auto px-6 py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",children:"Log Out"})})}),userType:"admin",appliedTheme:u})})]})]})]}),P&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:()=>E(null)}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>E(null),children:e.jsxs("div",{className:"w-full max-w-4xl h-[75vh] rounded-2xl overflow-hidden flex animate-scale-in",style:{backgroundColor:b.bg.modal},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"w-64 flex-shrink-0 p-6",style:{backgroundColor:b.bg.elevated},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:b.text.primary},children:"User Details"}),e.jsx("button",{onClick:()=>E(null),className:"p-2 rounded-lg transition-colors hover:brightness-110",style:{backgroundColor:b.bg.active,color:b.text.primary},children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>U("personal"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("personal"===M?"":"hover:brightness-110"),style:{backgroundColor:"personal"===M?b.bg.active:"transparent",color:b.text.primary},children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Personal info"})]}),e.jsxs("button",{onClick:()=>U("connected"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("connected"===M?"":"hover:brightness-110"),style:{backgroundColor:"connected"===M?b.bg.active:"transparent",color:b.text.primary},children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Connected accounts"})]}),e.jsxs("button",{onClick:()=>U("payment"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("payment"===M?"":"hover:brightness-110"),style:{backgroundColor:"payment"===M?b.bg.active:"transparent",color:b.text.primary},children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Payment Method"})]}),e.jsxs("button",{onClick:()=>U("notifications"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("notifications"===M?"":"hover:brightness-110"),style:{backgroundColor:"notifications"===M?b.bg.active:"transparent",color:b.text.primary},children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Notifications"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8",children:["personal"===M&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:b.text.primary},children:"Personal Information"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"View and manage user's personal details"})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:b.text.primary},children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"Email"}),e.jsx("p",{className:"text-sm",style:{color:b.text.primary},children:P.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"Full Name"}),e.jsx("p",{className:"text-sm",style:{color:P.full_name?b.text.primary:b.text.muted},children:P.full_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"Username"}),e.jsx("p",{className:"text-sm",style:{color:P.username?b.text.primary:b.text.muted},children:P.username||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"User Type"}),e.jsx("p",{className:"text-sm",style:{color:b.text.primary},children:P.user_type?P.user_type.charAt(0).toUpperCase()+P.user_type.slice(1):"Not specified"})]})]})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:b.text.primary},children:"Status"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-2 block",style:{color:b.text.muted},children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[P.verified&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:b.bg.active,color:"#10b981"},children:"Verified"}),P.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:b.bg.active,color:"#3b82f6"},children:"Profile Complete"}),!P.verified&&!P.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:b.bg.active,color:b.text.muted},children:"Pending"})]})]})})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:b.text.primary},children:"Account Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"User ID"}),e.jsx("p",{className:"text-sm font-mono break-all",style:{color:b.text.muted},children:P.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"Created At"}),e.jsx("p",{className:"text-sm",style:{color:b.text.primary},children:Y(P.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:b.text.muted},children:"Last Updated"}),e.jsx("p",{className:"text-sm",style:{color:b.text.primary},children:Y(P.updated_at)})]})]})]})]}),"connected"===M&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:b.text.primary},children:"Connected Accounts"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"View user's connected social media and third-party accounts"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:b.bg.active},children:e.jsx(C,{className:"w-8 h-8",style:{color:b.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"No connected accounts"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"This user hasn't connected any external accounts yet"})]})})})]}),"payment"===M&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:b.text.primary},children:"Payment Method"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"View user's payment and payout methods"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:b.bg.active},children:e.jsx(_,{className:"w-8 h-8",style:{color:b.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"No payment methods"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"This user hasn't added any payment methods yet"})]})})})]}),"notifications"===M&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:b.text.primary},children:"Notifications"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"View user's notification preferences and history"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:b.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:b.bg.active},children:e.jsx(T,{className:"w-8 h-8",style:{color:b.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:b.text.primary},children:"No notifications"}),e.jsx("p",{className:"text-sm",style:{color:b.text.muted},children:"No notification history available for this user"})]})})})]})]})]})})]})]})}export{I as AdminDashboard};
