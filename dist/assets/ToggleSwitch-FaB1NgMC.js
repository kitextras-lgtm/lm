import{c as e}from"./createLucideIcon-Dr5VM9HU.js";import{j as s}from"./spline-C1bWgT9i.js";import{r as t,f as r}from"./react-vendor-D-1Z2fag.js";import{s as l,S as o,a,u as n}from"./index-BLUXyn6x.js";import{L as i,u as c,d,D as x,a as m,e as u,g as h,f as p,h as f,i as g,j as y,c as b,U as v,k as j,l as w}from"./SettingsView-CHyukfwV.js";import{P as k}from"./plus-BCtRZ9is.js";import{X as C}from"./x-wo8mI0S6.js";import{C as N}from"./chevron-down-ET2sv1ZZ.js";import{C as F}from"./check-C5bJyFii.js";import{A}from"./alert-circle-DZ8aNWen.js";import{A as _}from"./arrow-left-EZXjPn0x.js";import{C as L}from"./camera-BW9-W4LN.js";import{M as B}from"./map-pin-D_lNttE0.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),E=e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),S=e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),W=e("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),M=e("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]),D=e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),O=e("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function z({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",children:[s.jsx("circle",{cx:"24",cy:"20",r:"14",fill:"white",style:{opacity:e?.15:0,transform:e?"scale(1.3)":"scale(1)",transformOrigin:"24px 20px",filter:"blur(8px)",transition:"all 0.4s ease"}}),s.jsx("path",{d:"M24 6C17.4 6 12 11.4 12 18C12 22.4 14.4 26.2 18 28.4V34H30V28.4C33.6 26.2 36 22.4 36 18C36 11.4 30.6 6 24 6Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none",style:{filter:e?"drop-shadow(0 0 6px rgba(255,255,255,0.6))":"none",transition:"filter 0.3s ease"}}),s.jsx("line",{x1:"18",y1:"38",x2:"30",y2:"38",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"20",y1:"42",x2:"28",y2:"42",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M24 12L25.5 17H30.5L26.5 20L28 25L24 22L20 25L21.5 20L17.5 17H22.5L24 12Z",stroke:"white",strokeWidth:"2",strokeLinejoin:"round",fill:"none",style:{opacity:e?1:.5,transform:e?"scale(1.1)":"scale(1)",transformOrigin:"24px 18px",transition:"all 0.3s ease"}})]})})}function U({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"rotate(5deg)":"rotate(0deg)",transition:"transform 0.15s ease-in-out"},children:[s.jsx("ellipse",{cx:"24",cy:"28",rx:"10",ry:"12",stroke:"white",strokeWidth:"2.5",fill:"none",style:{transform:e?"scale(1.05)":"scale(1)",transformOrigin:"24px 28px",transition:"transform 0.3s ease"}}),s.jsx("circle",{cx:"24",cy:"14",r:"5",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M20 10L16 4",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-15deg)":"rotate(0deg)",transformOrigin:"20px 10px",transition:"transform 0.2s ease"}}),s.jsx("path",{d:"M28 10L32 4",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(15deg)":"rotate(0deg)",transformOrigin:"28px 10px",transition:"transform 0.2s ease"}}),s.jsx("line",{x1:"14",y1:"24",x2:"34",y2:"24",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"14",y1:"32",x2:"34",y2:"32",stroke:"white",strokeWidth:"2.5"}),s.jsx("path",{d:"M14 24L8 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-10deg)":"rotate(0deg)",transformOrigin:"14px 24px",transition:"transform 0.2s ease 0.05s"}}),s.jsx("path",{d:"M14 28L6 28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"translateX(-2px)":"translateX(0)",transition:"transform 0.2s ease 0.1s"}}),s.jsx("path",{d:"M14 32L8 36",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(10deg)":"rotate(0deg)",transformOrigin:"14px 32px",transition:"transform 0.2s ease 0.15s"}}),s.jsx("path",{d:"M34 24L40 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(10deg)":"rotate(0deg)",transformOrigin:"34px 24px",transition:"transform 0.2s ease 0.05s"}}),s.jsx("path",{d:"M34 28L42 28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"translateX(2px)":"translateX(0)",transition:"transform 0.2s ease 0.1s"}}),s.jsx("path",{d:"M34 32L40 36",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-10deg)":"rotate(0deg)",transformOrigin:"34px 32px",transition:"transform 0.2s ease 0.15s"}})]})})}function I({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"translateY(-2px)":"translateY(0)",transition:"transform 0.3s ease"},children:[s.jsx("path",{d:"M8 40L28 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-5deg)":"rotate(0deg)",transformOrigin:"8px 40px",transition:"transform 0.3s ease"}}),s.jsx("path",{d:"M28 20L32 16L36 20L32 24L28 20Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none",style:{transform:e?"rotate(-5deg)":"rotate(0deg)",transformOrigin:"8px 40px",transition:"transform 0.3s ease"}}),s.jsx("circle",{cx:"38",cy:"10",r:"2",fill:"white",style:{opacity:e?1:.5,transform:e?"scale(1.3)":"scale(1)",transformOrigin:"38px 10px",transition:"all 0.3s ease"}}),s.jsx("circle",{cx:"42",cy:"18",r:"1.5",fill:"white",style:{opacity:e?1:.3,transform:e?"scale(1.5)":"scale(1)",transformOrigin:"42px 18px",transition:"all 0.3s ease 0.1s"}}),s.jsx("circle",{cx:"34",cy:"6",r:"1.5",fill:"white",style:{opacity:e?1:.3,transform:e?"scale(1.5)":"scale(1)",transformOrigin:"34px 6px",transition:"all 0.3s ease 0.15s"}}),s.jsx("path",{d:"M18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11L18 8Z",fill:"white",style:{opacity:e?1:0,transform:e?"scale(1.2) rotate(15deg)":"scale(0.8) rotate(0deg)",transformOrigin:"18px 12px",transition:"all 0.3s ease 0.05s"}})]})})}function $({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"rotate(-8deg) translateY(-2px)":"rotate(0deg) translateY(0)",transition:"transform 0.3s ease"},children:[s.jsx("path",{d:"M12 36L8 40L12 44L36 20L32 16L12 36Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none"}),s.jsx("path",{d:"M36 20L40 16L44 12L40 8L36 12L32 16L36 20Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none"}),s.jsx("line",{x1:"14",y1:"34",x2:"18",y2:"38",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"6",y1:"28",x2:"14",y2:"28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease"}}),s.jsx("line",{x1:"6",y1:"22",x2:"18",y2:"22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease 0.1s"}}),s.jsx("line",{x1:"6",y1:"16",x2:"12",y2:"16",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease 0.15s"}})]})})}function P(){return s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"home-icon-wrapper",style:{width:"48px",height:"48px",overflow:"visible"},children:s.jsxs("div",{className:"relative",style:{width:"48px",height:"48px",overflow:"visible"},children:[s.jsx("div",{className:"absolute",style:{left:0,top:0,width:"48px",height:"48px",overflow:"visible"},children:s.jsx(i,{className:"animate-link-left",size:48,strokeWidth:2.5,style:{clipPath:"polygon(0 0, 50% 0, 50% 100%, 0 100%)",color:"#F8FAFC"}})}),s.jsx("div",{className:"absolute",style:{left:0,top:0,width:"48px",height:"48px",overflow:"visible"},children:s.jsx(i,{className:"animate-link-right",size:48,strokeWidth:2.5,style:{clipPath:"polygon(50% 0, 100% 0, 100% 100%, 50% 100%)",color:"#F8FAFC"}})})]})})})}const V={YouTube:e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Instagram:S,TikTok:W,Twitter:D,Twitch:M,Other:i};function q({value:e,options:r,onChange:l,platformIcons:o}){const[a,n]=t.useState(!1),i=t.useRef(null);t.useEffect(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]);const c=o[e]||null,d=r.find(s=>s.key===e);return s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs("button",{type:"button",onClick:()=>n(!a),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 flex items-center justify-between group border",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-elevated)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.transform="translateY(0)"},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[c&&s.jsx(c,{className:"w-4 h-4 transition-all duration-200 group-hover:scale-110",style:{color:"#F8FAFC"}}),s.jsx("span",{className:"transition-all duration-200",children:(null==d?void 0:d.label)||e})]}),s.jsx(N,{className:"w-4 h-4 transition-all duration-200 group-hover:scale-110 "+(a?"rotate-180":""),style:{color:"#CBD5E1"}})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-1 rounded-lg shadow-xl overflow-hidden animate-fade-in-down",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-default)"},children:s.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.map(t=>{const r=o[t.key]||null,a=t.key===e;return s.jsxs("button",{type:"button",onClick:()=>{l(t.key),n(!1)},className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-left text-sm transition-all duration-200 flex items-center gap-2 group/option relative",style:{backgroundColor:a?"var(--bg-elevated)":"transparent",color:"var(--text-primary)"},onMouseEnter:e=>{a||(e.currentTarget.style.backgroundColor="var(--bg-elevated)"),e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{a||(e.currentTarget.style.backgroundColor="transparent"),e.currentTarget.style.transform="translateX(0)"},children:[r&&s.jsxs("div",{className:"relative group/icon",children:[s.jsx(r,{className:"w-4 h-4 transition-all duration-300 group-hover/option:scale-125 group-hover/option:rotate-12 group-hover/icon:scale-150 group-hover/icon:rotate-180",style:{color:"#F8FAFC"}}),s.jsx("div",{className:"absolute inset-0 w-4 h-4 rounded-full opacity-0 group-hover/icon:opacity-20 group-hover/icon:scale-150 transition-all duration-300",style:{backgroundColor:"#F8FAFC"}})]}),s.jsx("span",{className:"transition-all duration-200",children:t.label}),a&&s.jsx("span",{className:"ml-auto text-xs transition-all duration-200",style:{color:"#CBD5E1"},children:"âœ“"})]},t.key)})})})]})}function R({appliedTheme:e,userType:r}){const{t:o}=c(),[a,n]=t.useState([]),[d,x]=t.useState(!1),[m,u]=t.useState({platform:"YouTube",url:"",display_name:"",channel_type:"",channel_description:""}),[h,p]=t.useState(!0);t.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{user:e}}=await l.auth.getUser();if(!e)return;const{data:s,error:t}=await l.from("social_links").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(t)throw t;n(s||[])}catch(e){}finally{p(!1)}};return h?s.jsx("div",{className:"rounded-xl sm:rounded-2xl p-6 sm:p-8 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:s.jsx("div",{className:"text-center",style:{color:"#CBD5E1"},children:o("common.loading")})}):s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-5 sm:mb-6",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:o("socialLinks.title")}),!d&&"artist"!==r&&s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110 border",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},children:[s.jsx(k,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:o("socialLinks.addLink")})]})]}),d&&s.jsx("div",{className:"mb-5 p-4 sm:p-5 rounded-xl",style:{backgroundColor:"transparent"},children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#CBD5E1"},children:o("socialLinks.platform")}),s.jsx(q,{value:m.platform,options:[{key:"YouTube",label:o("platforms.youtube")},{key:"Instagram",label:o("platforms.instagram")},{key:"TikTok",label:o("platforms.tiktok")},{key:"Twitter",label:o("platforms.twitter")},{key:"Twitch",label:o("platforms.twitch")},{key:"Other",label:o("platforms.other")}],onChange:e=>u({...m,platform:e}),platformIcons:V})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#CBD5E1"},children:o("socialLinks.url")}),s.jsx("input",{type:"text",value:m.url,onChange:e=>u({...m,url:e.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 border",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},onFocus:e=>e.target.style.borderColor="#ffffff",onBlur:e=>e.target.style.borderColor="var(--border-subtle)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#CBD5E1"},children:o("socialLinks.displayName")}),s.jsx("input",{type:"text",value:m.display_name,onChange:e=>u({...m,display_name:e.target.value}),placeholder:o("socialLinks.displayNamePlaceholder"),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 border",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},onFocus:e=>e.target.style.borderColor="#ffffff",onBlur:e=>e.target.style.borderColor="var(--border-subtle)"})]}),"creator"===r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#9CA3AF"},children:o("socialLinks.channelType")}),s.jsx(q,{value:m.channel_type||"__select__",options:[{key:"__select__",label:o("socialLinks.selectChannelType")},{key:"Music",label:o("channelTypes.music")},{key:"Gaming",label:o("channelTypes.gaming")},{key:"Lifestyle",label:o("channelTypes.lifestyle")},{key:"Education",label:o("channelTypes.education")},{key:"Comedy",label:o("channelTypes.comedy")},{key:"Sports",label:o("channelTypes.sports")},{key:"Technology",label:o("channelTypes.technology")},{key:"Art & Design",label:o("channelTypes.artDesign")},{key:"Fashion",label:o("channelTypes.fashion")},{key:"Food & Cooking",label:o("channelTypes.foodCooking")},{key:"Travel",label:o("channelTypes.travel")},{key:"Fitness",label:o("channelTypes.fitness")},{key:"Business",label:o("channelTypes.business")},{key:"Entertainment",label:o("channelTypes.entertainment")},{key:"Other",label:o("channelTypes.other")}],onChange:e=>u({...m,channel_type:"__select__"===e?"":e}),platformIcons:{}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#9CA3AF"},children:o("socialLinks.channelDescription")}),s.jsx("textarea",{value:m.channel_description,onChange:e=>u({...m,channel_description:e.target.value}),placeholder:o("socialLinks.channelDescPlaceholder"),rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 border resize-none",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},onFocus:e=>e.target.style.borderColor="#ffffff",onBlur:e=>e.target.style.borderColor="var(--border-subtle)"})]})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[s.jsx("button",{onClick:async()=>{if(m.url.trim())try{const{data:{user:s}}=await l.auth.getUser();if(!s)return;const t=(e=>{let s=e.trim();return s=s.replace(/\/+$/,""),s.match(/^https?:\/\//i)||(s="https://"+s),s})(m.url),{data:a,error:n}=await l.from("social_links").select("id").eq("url",t).limit(1);if(a&&a.length>0)return void alert(o("socialLinks.linkAlreadyRegistered"));const i={user_id:s.id,platform:m.platform,url:t,display_name:m.display_name.trim()||m.platform};"creator"===r&&(i.channel_type=m.channel_type.trim(),i.channel_description=m.channel_description.trim());const{error:c}=await l.from("social_links").insert(i);if(c){if("23505"!==c.code)throw c;return void alert(o("socialLinks.linkAlreadyRegistered"))}if("creator"===r)try{const{data:e}=await l.from("users").select("email, full_name, username").eq("id",s.id).maybeSingle();await l.from("applications").insert({user_id:s.id,application_type:"creator_verification",status:"pending",full_name:(null==e?void 0:e.full_name)||null,email:(null==e?void 0:e.email)||null,username:(null==e?void 0:e.username)||null,platform:i.platform,social_url:t,channel_type:i.channel_type||null,channel_description:i.channel_description||null})}catch(e){}await f(),u({platform:"YouTube",url:"",display_name:"",channel_type:"",channel_description:""}),x(!1)}catch(s){s&&"object"==typeof s&&"code"in s&&"23505"!==s.code&&alert(o("socialLinks.errorAddingLink"))}},className:"flex-1 px-4 py-2 sm:py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:o("socialLinks.save")}),s.jsx("button",{onClick:()=>{x(!1),u({platform:"YouTube",url:"",display_name:"",channel_type:"",channel_description:""})},className:"px-4 py-2 sm:py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-90 border",style:{backgroundColor:"transparent",borderColor:"var(--border-subtle)",color:"var(--text-primary)"},children:o("socialLinks.cancel")})]})]})}),s.jsx("div",{className:"space-y-3",children:0===a.length?s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(P,{}),s.jsx("p",{className:"text-sm sm:text-base font-medium mb-1",style:{color:"#F8FAFC"},children:o("socialLinks.noLinksYet")}),"artist"===r?s.jsx("p",{className:"text-xs sm:text-sm",style:{color:"#64748B"},children:o("socialLinks.accountsFromDistribution")}):"creator"===r||"business"===r?null:s.jsx("p",{className:"text-xs sm:text-sm",style:{color:"#64748B"},children:o("socialLinks.distributeToStart")})]}):a.map(e=>{const t=V[e.platform]||i;return s.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-lg transition-all duration-200 hover:brightness-105",style:{backgroundColor:"transparent"},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"transparent"},children:s.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5",style:{color:"#F8FAFC"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm sm:text-base font-medium truncate",style:{color:"#F8FAFC"},children:e.display_name||e.platform}),s.jsx("div",{className:"text-xs sm:text-sm truncate",style:{color:"#64748B"},children:e.url.replace(/^https?:\/\//i,"")})]})]}),s.jsx("button",{onClick:()=>(async e=>{try{const{error:s}=await l.from("social_links").delete().eq("id",e);if(s)throw s;await f()}catch(s){}})(e.id),className:"ml-2 p-2 rounded-lg transition-all duration-200 hover:brightness-110 flex-shrink-0",style:{backgroundColor:"transparent",color:"#64748B"},children:s.jsx(C,{className:"w-4 h-4"})})]},e.id)})})]})}function Y(){var e;const{t:r}=c(),[n,i]=t.useState(null),[x,m]=t.useState(""),[u,h]=t.useState(!1),[p,f]=t.useState(!0),[g,y]=t.useState(!1),[b,v]=t.useState(null),[j,w]=t.useState(!1);t.useEffect(()=>{k()},[]);const k=async()=>{try{const{data:{user:s}}=await l.auth.getUser(),t=localStorage.getItem("verifiedUserId"),r=(null==s?void 0:s.id)||t;if(!r)return void f(!1);let n=null;try{const e=`${o}/functions/v1/get-profile?userId=${r}`,s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();e.success&&e.profile&&(n=e.profile.username)}}catch(e){}if(!n){const{data:e}=await l.from("users").select("username").eq("id",r).maybeSingle();if(n=null==e?void 0:e.username,!n){const{data:e}=await l.from("profiles").select("name").eq("id",r).maybeSingle();(null==e?void 0:e.name)&&(n=e.name.replace(/\s+/g,""))}}if(n){const{data:e}=await l.from("referral_codes").select("total_uses, total_earnings").eq("user_id",r).maybeSingle();i({code:n.toUpperCase(),total_uses:(null==e?void 0:e.total_uses)||0,total_earnings:(null==e?void 0:e.total_earnings)||0})}const{data:c}=await l.from("referral_applications").select("id").eq("user_id",r).maybeSingle();w(!!c)}catch(s){}finally{f(!1)}};return p?s.jsx("div",{className:"rounded-xl sm:rounded-2xl p-6 sm:p-8 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:s.jsx("div",{className:"text-center",style:{color:"#CBD5E1"},children:"Loading..."})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[s.jsx(T,{className:"w-5 h-5",style:{color:"#64748B"}}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:r("referral.yourCode")})]}),s.jsx("div",{className:"rounded-lg p-4 mb-5",style:{backgroundColor:"transparent"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs font-medium mb-2",style:{color:"#64748B"},children:r("referral.yourReferralCode")}),s.jsx("div",{className:"h-[60px] flex items-center justify-center mb-3",children:s.jsx("div",{className:"text-2xl sm:text-3xl font-bold tracking-wider",style:{color:"#F8FAFC"},children:(null==n?void 0:n.code)||"N/A"})}),s.jsx("button",{onClick:async()=>{if(n)try{await navigator.clipboard.writeText(n.code),h(!0),setTimeout(()=>h(!1),2e3)}catch(e){}},disabled:!n,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:u?s.jsxs(s.Fragment,{children:[s.jsx(F,{className:"w-4 h-4"}),s.jsx("span",{children:r("referral.copied")})]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{children:r("referral.copyCode")})]})})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-3",style:{color:"#F8FAFC"},children:r("referral.yourStats")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"transparent"},children:[s.jsx("span",{className:"text-sm",style:{color:"#CBD5E1"},children:r("referral.totalUses")}),s.jsx("span",{className:"text-sm font-bold",style:{color:"#F8FAFC"},children:(null==n?void 0:n.total_uses)||0})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"transparent"},children:[s.jsx("span",{className:"text-sm",style:{color:"#CBD5E1"},children:r("referral.totalEarned")}),s.jsxs("span",{className:"text-sm font-bold",style:{color:"#F8FAFC"},children:["$",(null==(e=null==n?void 0:n.total_earnings)?void 0:e.toFixed(2))||"0.00"]})]})]})]})]}),s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[s.jsx(T,{className:"w-5 h-5",style:{color:"#64748B"}}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:r("referral.enterACode")})]}),j?s.jsxs("div",{className:"rounded-lg p-6 text-center",style:{backgroundColor:"transparent"},children:[s.jsx(F,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#10B981"}}),s.jsx("p",{className:"text-base font-medium mb-1",style:{color:"#F8FAFC"},children:r("referral.codeApplied")}),s.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:r("referral.alreadyApplied")})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-lg p-4 mb-5",style:{backgroundColor:"transparent"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("label",{className:"block text-xs font-medium mb-2",style:{color:"#64748B"},children:r("referral.referralCode")}),s.jsx("div",{className:"h-[60px] flex items-center justify-center mb-3",children:s.jsx("input",{type:"text",value:x,onChange:e=>m(e.target.value.toUpperCase()),placeholder:r("referral.enterCode"),maxLength:8,className:"w-full px-4 py-2.5 rounded-lg text-2xl sm:text-3xl font-bold tracking-wider text-center transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:"transparent",color:"#F8FAFC"}})}),s.jsx("button",{onClick:async()=>{if(x.trim()&&!g){y(!0),v(null);try{const{data:e,error:s}=await l.rpc("apply_referral_code",{p_code:x.trim().toUpperCase()});if(s)throw s;e.success?(v({type:"success",text:e.message}),m(""),w(!0)):v({type:"error",text:e.error})}catch(e){v({type:"error",text:e.message||r("referral.failedToApply")})}finally{y(!1)}}},disabled:!x.trim()||g,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--text-primary)",color:"var(--bg-primary)"},children:r(g?"referral.applying":"referral.applyCode")})]})}),b&&s.jsx("div",{className:"rounded-lg p-3 text-sm text-center mb-5",style:{backgroundColor:"success"===b.type?"#10B98120":"#EF444420",color:"success"===b.type?"#10B981":"#EF4444"},children:b.text}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-3",style:{color:"#F8FAFC"},children:r("referral.benefits")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"transparent"},children:[s.jsx("span",{className:"text-sm",style:{color:"#CBD5E1"},children:r("referral.firstCampaignBonus")}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:"#10B981"}})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"transparent"},children:[s.jsx("span",{className:"text-sm",style:{color:"#CBD5E1"},children:r("referral.supportCommunity")}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:"#10B981"}})]})]})]})]})]})]})}function H({showTransition:e=!1}){const[r,l]=t.useState(!1);return t.useEffect(()=>{if(e){const e=setTimeout(()=>{l(!0)},500);return()=>clearTimeout(e)}},[e]),e?s.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{perspective:"1500px",zIndex:9999},children:[s.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-zinc-900 border-r border-white/10 transition-transform duration-[1.5s] "+(r?"shadow-none":"shadow-[inset_-20px_0_40px_rgba(0,0,0,0.3)]"),style:{transformOrigin:"left center",transform:r?"rotateY(-105deg)":"rotateY(0deg)",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)",backfaceVisibility:"hidden"},children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-16",children:s.jsx("div",{className:"transition-opacity duration-300 "+(r?"opacity-0":"opacity-100"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-3 h-32 bg-zinc-600 rounded-full shadow-lg"}),s.jsx("div",{className:"w-12 h-3 bg-zinc-700 rounded-sm"})]})})})}),s.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-zinc-900 border-l border-white/10 transition-transform duration-[1.5s] "+(r?"shadow-none":"shadow-[inset_20px_0_40px_rgba(0,0,0,0.3)]"),style:{transformOrigin:"right center",transform:r?"rotateY(105deg)":"rotateY(0deg)",transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)",backfaceVisibility:"hidden"},children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-start pl-16",children:s.jsx("div",{className:"transition-opacity duration-300 "+(r?"opacity-0":"opacity-100"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-3 h-32 bg-zinc-600 rounded-full shadow-lg"}),s.jsx("div",{className:"w-12 h-3 bg-zinc-700 rounded-sm"})]})})})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none transition-opacity duration-300 "+(r?"opacity-0":"opacity-100"),style:{zIndex:10},children:s.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-white/10"})})]}):null}function X({onClick:e,className:r}){const[l,o]=t.useState(!1);return s.jsx("button",{onClick:e,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:`p-2.5 rounded-lg transition-colors ${r||""}`,"aria-label":"Edit",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 overflow-visible",children:[s.jsx("rect",{x:"8",y:"10",width:"28",height:"28",rx:"3",stroke:"white",strokeWidth:"3.5",fill:"none"}),s.jsx("path",{d:"M36 10 L36 16 L30 16",stroke:"white",strokeWidth:"3.5",fill:"none"}),s.jsxs("g",{style:{transform:l?"translate(-2px, -2px) rotate(-5deg)":"translate(0, 0) rotate(0deg)",transformOrigin:"32px 14px",transition:"transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx("path",{d:"M40 8 L28 20 L22 14 L34 2 C34.8 1.2 36.2 1.2 37 2 L40 5 C40.8 5.8 40.8 7.2 40 8 Z",stroke:"white",strokeWidth:"3.5",fill:"rgba(0,0,0,0.9)",strokeLinejoin:"round"}),s.jsx("path",{d:"M28 20 L22 14 L20 16 L26 22 Z",fill:"white",opacity:"0.7"})]}),s.jsx("line",{x1:"12",y1:"20",x2:"28",y2:"20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",style:{opacity:l?.5:0,strokeDasharray:"16",strokeDashoffset:l?"0":"16",transition:"all 0.4s ease 0.2s"}}),s.jsx("circle",{cx:"36",cy:"10",r:"2",fill:"white",style:{opacity:l?.8:0,transform:l?"scale(1)":"scale(0)",transformOrigin:"36px 10px",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s"}}),s.jsx("rect",{x:"8",y:"10",width:"28",height:"28",rx:"3",fill:"white",style:{opacity:l?.1:0,transition:"opacity 0.3s ease"}})]})})}function Z({isOpen:e,onClose:r,onSelectUser:o,currentUserId:a,userType:n}){const{t:i}=c(),[d,m]=t.useState(""),[u,h]=t.useState([]),[p,f]=t.useState([]),[g,y]=t.useState(!1),b=t.useRef(null);t.useEffect(()=>{e&&b.current&&setTimeout(()=>{var e;return null==(e=b.current)?void 0:e.focus()},100)},[e]),t.useEffect(()=>{const s=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[e,r]),t.useEffect(()=>{const e=setTimeout(async()=>{const e=d.trim().replace(/^@/,"").toLowerCase();if(!e)return h([]),void y(!1);y(!0);try{let s=l.from("unified_users").select("id, display_name, username, avatar_url").neq("id",a).eq("username",e);s="artist"===n?s.eq("is_admin",!0):s.not("user_type","eq","artist");const{data:t,error:r}=await s.limit(1);!r&&t&&t.length>0?h(t.map(e=>({id:e.id,name:e.display_name||"Unknown",username:e.username||"",avatar_url:e.avatar_url}))):h([]),y(!1)}catch(s){h([]),y(!1)}},300);return()=>clearTimeout(e)},[d,a,n]),t.useEffect(()=>{f([])},[d]);return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>{r(),m("")},children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),s.jsxs("div",{className:"relative w-full max-w-md mx-4 rounded-2xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--bg-primary)",maxHeight:"80vh",border:"1px solid var(--border-default)"},onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-4",style:{borderBottom:"1px solid var(--border-default)"},children:[s.jsx("div",{className:"w-8"}),s.jsx("h2",{className:"text-base font-semibold",style:{color:"var(--text-primary)"},children:i("messages.newMessage")}),s.jsx("button",{onClick:()=>{r(),m("")},className:"p-1 rounded-lg hover:bg-white/5 transition-colors","aria-label":"Close",children:s.jsx(C,{className:"w-5 h-5",style:{color:"var(--text-secondary)"}})})]}),s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",style:{borderBottom:"1px solid var(--border-default)"},children:[s.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:i("messages.to")}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{ref:b,type:"text",value:d,onChange:e=>{m(e.target.value),f([])},placeholder:i("messages.searchPlaceholder"),className:"w-full bg-transparent text-sm focus:outline-none",style:{color:"var(--text-primary)"}})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"400px"},children:g?s.jsx("div",{className:"p-4 text-center",children:s.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:i("messages.searching")})}):d.trim()?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"px-4 py-2 text-xs font-medium",style:{color:"var(--text-muted)"},children:i("messages.results")}),0===u.length?s.jsx("div",{className:"p-4 text-center",children:s.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:i("messages.noUsersFound")})}):u.map(e=>{const t=p.some(s=>s.id===e.id);return s.jsxs("button",{onClick:()=>(e=>{f(s=>s.some(s=>s.id===e.id)?s.filter(s=>s.id!==e.id):[...s,e])})(e),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-white/5 transition-colors",children:[s.jsx("img",{src:e.avatar_url||x,alt:e.name,className:"w-11 h-11 rounded-full object-cover",style:{backgroundColor:"var(--bg-elevated)"}}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",style:{color:"var(--text-primary)"},children:e.name}),s.jsx("p",{className:"text-xs truncate",style:{color:"var(--text-muted)"},children:e.username})]}),s.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors",style:{borderColor:t?"var(--text-primary)":"var(--border-default)",backgroundColor:t?"var(--text-primary)":"transparent"},children:t&&s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"white",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.id)})]}):s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:i("messages.enterUsername")})})}),s.jsx("div",{className:"p-4",style:{borderTop:"1px solid var(--border-default)"},children:s.jsx("button",{onClick:()=>{if(p.length>0){const e=p[0];o({id:e.id,username:e.username,display_name:e.name,avatar_url:e.avatar_url}),r(),m("")}},disabled:0===p.length,className:"w-full py-3 rounded-xl text-sm font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:p.length>0?"var(--text-primary)":"var(--bg-elevated)",color:p.length>0?"var(--bg-primary)":"var(--text-primary)"},children:i("messages.chat")})})]})]}):null}function G({currentUserId:e,backgroundTheme:r="dark",userType:o}){const{t:a}=c(),{profile:i,isLoading:d}=n(),{conversations:x,loading:w,updateConversationUnreadCount:k,selectConversation:C,pendingConversation:N,startConversationWith:F,sendMessageToConversation:A,clearPendingConversation:_}=m(e),[L,B]=t.useState(""),[T,E]=t.useState(""),[S,W]=t.useState(null),[M,D]=t.useState(!1),[O,z]=t.useState("all"),[U,I]=t.useState(!0),[$,P]=t.useState(!1);u(e);const V=t.useMemo(()=>(null==i?void 0:i.username)?i.username:(null==i?void 0:i.first_name)?i.first_name:(null==i?void 0:i.email)?i.email.split("@")[0]:d?"":"Messages",[i,d]),q=()=>{"artist"!==o&&P(!0)};t.useEffect(()=>{const e=e=>{"Escape"===e.key&&N&&_()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[N,_]),t.useEffect(()=>{(async()=>{if(!w&&e){const s=window.innerWidth<1024;if(x.length>0){const t=localStorage.getItem(`lastConversation_${e}`);if(t){const e=x.find(e=>e.id===t);if(e)return W(e),C(t),void I(!1)}s||(W(x[0]),C(x[0].id))}else{await h(e)}I(!1)}})()},[e,w,x.length,C,h]);const R=t.useMemo(()=>p(e=>E(e),300),[]);t.useEffect(()=>{R(L)},[L,R]),t.useEffect(()=>{(async()=>{const e=window.innerWidth<1024;if(!U&&x.length>0&&!S&&!e){const e=x[0];if(W(e),e.unread_count_customer>0)try{await l.from("conversations").update({unread_count_customer:0}).eq("id",e.id)}catch(s){}}else if(!U&&x.length>0&&S){const s=x.find(e=>e.id===S.id);s?W(s):e||W(x[0])}})()},[x,U,S]);const Y=t.useMemo(()=>{let e=[...x];S&&!e.find(e=>e.id===S.id)&&(e=[S,...e]);return e.filter(e=>{var s;if(!e.admin)return!1;if(T.trim()){if(!((null==(s=e.admin.name)?void 0:s.toLowerCase())||"").includes(T.toLowerCase()))return!1}return"unread"===O?e.unread_count_customer>0:"pinned"!==O||!0===e.is_pinned})},[x,S,T,O]),H=t.useMemo(()=>x.filter(e=>!0===e.is_pinned).length,[x]),G=t.useCallback(s=>{var t;if(s===e){return(null==i?void 0:i.first_name)?`${i.first_name}${i.last_name?` ${i.last_name}`:""}`:(null==i?void 0:i.username)||"You"}return(null==(t=null==S?void 0:S.admin)?void 0:t.name)||"Support"},[i,S,e]),J=async s=>{_(),C(s.id,!0),W(s);window.innerWidth<1024&&D(!0);const t=s.customer_id===e;if((t?s.unread_count_customer:s.unread_count_admin)>0){k(s.id,0);try{await l.from("conversations").update(t?{unread_count_customer:0}:{unread_count_admin:0}).eq("id",s.id)}catch(r){}}},K=()=>{D(!1)},Q=async(e,s)=>{try{const{error:t}=await l.from("conversations").update({is_pinned:s}).eq("id",e);if(t)throw t}catch(t){}},ee="undefined"!=typeof window&&window.innerWidth<1024,se=w&&0===x.length,te=U&&!S;return ee&&M&&S?s.jsx("div",{className:"flex flex-col w-full",style:{backgroundColor:"var(--bg-primary)",height:"100%",maxHeight:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:s.jsx("div",{className:"flex-1 min-h-0",children:S.admin&&s.jsx(f,{conversation:S,otherUser:S.admin,currentUserId:e,getSenderName:G,backgroundTheme:r,onBack:K,showBackButton:!0},S.id)})}):s.jsxs("div",{className:"flex flex-col lg:flex-row rounded-2xl w-full shadow-2xl",style:{backgroundColor:"var(--bg-primary)",height:"100%",maxHeight:"100%",border:"1px solid var(--border-default)",overflow:"hidden",display:"flex"},children:[ee&&!1,ee&&s.jsxs("div",{className:"lg:hidden flex flex-col flex-1 min-h-0 overflow-hidden",style:{overflow:"hidden"},children:[s.jsxs("div",{className:"p-3 pb-3",style:{borderBottom:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000"},children:[s.jsxs("div",{className:"flex items-center justify-center relative mb-3",children:[s.jsx("span",{className:"text-lg font-semibold",style:{color:"light"===r?"#FFFFFF":"#F8FAFC"},children:V}),"artist"!==o&&s.jsx(X,{onClick:q,className:"absolute right-0 p-2 rounded-lg transition-colors"})]}),s.jsxs("div",{className:"relative mb-3 lg:mb-4",children:[s.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 lg:w-4 lg:h-4",style:{color:"light"===r?"#64748B":"#94A3B8"}}),s.jsx("input",{type:"text",value:L,onChange:e=>B(e.target.value),placeholder:a("messages.searchConversations"),"aria-label":a("messages.searchConversations"),className:"w-full pl-9 lg:pl-10 pr-3 lg:pr-4 py-2 lg:py-3 rounded-lg lg:rounded-xl text-xs lg:text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1px solid rgba(75, 85, 99, 0.25)",color:"light"===r?"#FFFFFF":"#F8FAFC"}})]}),"artist"!==o&&s.jsxs("div",{className:"flex gap-1.5 lg:gap-2",children:[s.jsx("button",{onClick:()=>z("all"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 "+("all"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"all"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:a("messages.primary")}),s.jsx("button",{onClick:()=>z("unread"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 "+("unread"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"unread"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:a("messages.general")}),s.jsxs("button",{onClick:()=>z("pinned"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 relative "+("pinned"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"pinned"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:[a("messages.requests"),H>0&&s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center text-xs font-bold rounded-full",style:{backgroundColor:"light"===r?"#3B82F6":"grey"===r?"#2563EB":"#60A5FA",color:"#FFFFFF",fontSize:"10px",padding:"0 4px"},children:H})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent",WebkitOverflowScrolling:"touch"},children:se?s.jsx(y,{count:4,backgroundTheme:r}):0===Y.length?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000"},children:s.jsx(b,{className:"w-8 h-8 animate-message-float",style:{color:"#F8FAFC"}})}),"artist"===o?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#94A3B8"},children:a("messages.noMessagesYet")}),s.jsx("p",{className:"text-xs mt-1",style:{color:"light"===r?"#64748B":"#94A3B8"},children:a("messages.supportTeamReachOut")})]}):s.jsx(s.Fragment,{children:s.jsx("p",{className:"text-sm font-medium",style:{color:"#F8FAFC"},children:a("messages.noConversationsFound")})})]}):Y.map(t=>t.admin&&s.jsx(v,{user:t.admin,conversation:t,isActive:(null==S?void 0:S.id)===t.id,onClick:()=>J(t),onPin:Q,unreadCount:t.customer_id===e?t.unread_count_customer:t.unread_count_admin,currentUserId:e},t.id))})]}),s.jsxs("div",{className:"hidden lg:flex flex-col w-80 xl:w-96 min-h-0 flex-shrink-0 overflow-hidden border-r",style:{borderRight:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",height:"100%"},children:[s.jsxs("div",{className:"flex items-center justify-between px-5 pt-5 pb-3",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000"},children:[s.jsx("span",{className:"text-xl font-bold",style:{color:"light"===r?"#FFFFFF":"#F8FAFC"},children:V}),"artist"!==o&&s.jsx(X,{onClick:q,className:"p-2 rounded-lg transition-colors"})]}),s.jsxs("div",{className:"px-5 pb-4",style:{borderBottom:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000"},children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(g,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"light"===r?"#64748B":"#94A3B8"}}),s.jsx("input",{type:"text",value:L,onChange:e=>B(e.target.value),placeholder:a("messages.searchConversations"),"aria-label":a("messages.searchConversations"),className:"w-full pl-10 pr-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1px solid rgba(75, 85, 99, 0.25)",color:"light"===r?"#FFFFFF":"#F8FAFC"}})]}),"artist"!==o&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>z("all"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+("all"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"all"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:a("messages.primary")}),s.jsx("button",{onClick:()=>z("unread"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+("unread"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"unread"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:a("messages.general")}),s.jsxs("button",{onClick:()=>z("pinned"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative "+("pinned"===O?"":"hover:brightness-110 active:scale-[0.98]"),style:"pinned"===O?{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"light"===r?"#FFFFFF":"#F8FAFC",boxShadow:"0 1px 2px rgba(148, 163, 184, 0.2)"}:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",color:"light"===r?"#64748B":"#94A3B8",border:"1px solid transparent"},children:[a("messages.requests"),H>0&&s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] flex items-center justify-center text-xs font-bold rounded-full",style:{backgroundColor:"light"===r?"#3B82F6":"grey"===r?"#2563EB":"#60A5FA",color:"#FFFFFF",fontSize:"11px",padding:"0 5px"},children:H})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent",WebkitOverflowScrolling:"touch"},children:se?s.jsx(y,{count:5,backgroundTheme:r}):0===Y.length?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000"},children:s.jsx(b,{className:"w-8 h-8 animate-message-float",style:{color:"#F8FAFC"}})}),"artist"===o?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#94A3B8"},children:a("messages.noMessagesYet")}),s.jsx("p",{className:"text-xs mt-1",style:{color:"light"===r?"#64748B":"#94A3B8"},children:a("messages.supportTeamReachOut")})]}):s.jsx(s.Fragment,{children:s.jsx("p",{className:"text-sm font-medium",style:{color:"#F8FAFC"},children:a("messages.noConversationsFound")})})]}):Y.map(t=>t.admin&&s.jsx(v,{user:t.admin,conversation:t,isActive:(null==S?void 0:S.id)===t.id,onClick:()=>J(t),onPin:Q,unreadCount:t.customer_id===e?t.unread_count_customer:t.unread_count_admin,currentUserId:e},t.id))})]}),s.jsx("div",{className:"hidden lg:flex flex-col flex-1 min-h-0 min-w-0 overflow-hidden",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#1A1A1E":"#000000",height:"100%",overflow:"hidden"},children:N?s.jsx(f,{isPending:!0,pendingRecipient:N.recipientUser,currentUserId:e,getSenderName:G,backgroundTheme:r,onSendPendingMessage:async e=>{const s=await A(null,e);s.newConversation&&(W(s.newConversation),C(s.newConversation.id,!0))},onCancelPending:_},`pending-${N.recipientId}`):S&&S.admin?s.jsx(f,{conversation:S,otherUser:S.admin,currentUserId:e,getSenderName:G,onMarkAsRead:e=>k(e,0),backgroundTheme:r},S.id):te?s.jsx(j,{backgroundTheme:r}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-2xl flex items-center justify-center",style:{backgroundColor:"light"===r?"#0F172A":"grey"===r?"#2A2A2E":"#1a1a1e",border:"1px solid rgba(75, 85, 99, 0.1)"},children:s.jsx(b,{className:"w-10 h-10",style:{color:"light"===r?"#64748B":"#94A3B8"}})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"light"===r?"#FFFFFF":"#F8FAFC"},children:a("messages.selectConversation")}),s.jsx("p",{className:"text-sm",style:{color:"#94A3B8"},children:a("messages.chooseFromList")})]})})}),s.jsx(Z,{isOpen:$,onClose:()=>P(!1),onSelectUser:async e=>{P(!1);const s=await F(e);"existing"===s.type&&s.conversation?(W(s.conversation),D(!0)):"pending"===s.type&&(W(null),D(!0))},currentUserId:e,userType:o})]})}function J({isActive:e,onClick:l,icon:o,label:a}){const[n,i]=t.useState(!1);return s.jsxs("button",{type:"button",onClick:l,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:"w-full text-left px-3 sm:px-5 py-3 sm:py-3.5 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center gap-2 sm:gap-3 "+(e?"shadow-md":"hover:brightness-105"),style:{backgroundColor:e?"#0f0f13":"transparent",color:"#F8FAFC",border:e?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.25)"},children:[r.cloneElement(o,{isHovered:n}),s.jsx("span",{children:a})]})}function K({isOpen:e,onClose:r,userId:o}){const[a,n]=t.useState(""),[i,c]=t.useState("suggestion"),[d,x]=t.useState(!1),[m,u]=t.useState("idle");t.useEffect(()=>{const s=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[e,r]),t.useEffect(()=>{e||(n(""),c("suggestion"),u("idle"))},[e]);return e?s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center backdrop-blur-sm animate-fade-in overflow-y-auto p-0 sm:p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.85)"},onClick:r,children:s.jsxs("div",{className:"relative w-full h-full sm:h-auto sm:max-w-2xl sm:mx-4 sm:my-8 sm:rounded-2xl shadow-2xl animate-fade-in flex flex-col",style:{backgroundColor:"#111111",border:"none"},onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b flex-shrink-0",style:{borderColor:"rgba(75, 85, 99, 0.25)",backgroundColor:"#111111"},children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold tracking-tight",style:{color:"#F8FAFC"},children:"Give Feedback"}),s.jsx("button",{onClick:r,className:"p-2 sm:p-1.5 rounded-lg transition-colors hover:brightness-110",style:{backgroundColor:"transparent",color:"#64748B"},children:s.jsx(C,{className:"w-6 h-6 sm:w-5 sm:h-5"})})]}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim()&&o){x(!0),u("idle");try{const{error:e}=await l.from("feedback").insert({user_id:o,category:i,content:a.trim(),status:"pending"});if(e)throw e;u("success"),setTimeout(()=>{r()},1500)}catch(s){u("error")}finally{x(!1)}}},className:"p-4 sm:p-6 space-y-4 sm:space-y-5 flex-1 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2 sm:mb-3",style:{color:"#F8FAFC"},children:"Category"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[s.jsx(J,{isActive:"suggestion"===i,onClick:()=>c("suggestion"),icon:s.jsx(z,{}),label:"Suggestion"}),s.jsx(J,{isActive:"bug"===i,onClick:()=>c("bug"),icon:s.jsx(U,{}),label:"Bug Report"}),s.jsx(J,{isActive:"feature"===i,onClick:()=>c("feature"),icon:s.jsx(I,{}),label:"Feature Request"}),s.jsx(J,{isActive:"other"===i,onClick:()=>c("other"),icon:s.jsx($,{}),label:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#F8FAFC"},children:"Your Feedback"}),s.jsx("textarea",{value:a,onChange:e=>n(e.target.value),placeholder:"Share your thoughts, suggestions, or report any issues...",rows:5,required:!0,className:"w-full px-3 sm:px-4 py-3 rounded-xl text-sm resize-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/10 placeholder:text-slate-400 hover:border-slate-500/40",style:{backgroundColor:"#0f0f13",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#F8FAFC"},onFocus:e=>e.target.style.borderColor="#ffffff",onBlur:e=>e.target.style.borderColor="rgba(75, 85, 99, 0.25)"})]}),"success"===m&&s.jsx("div",{className:"p-3 rounded-xl text-sm font-medium",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ADE80",border:"1px solid rgba(34, 197, 94, 0.2)"},children:"âœ“ Feedback submitted successfully! Thank you."}),"error"===m&&s.jsx("div",{className:"p-3 rounded-xl text-sm font-medium",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#F87171",border:"1px solid rgba(239, 68, 68, 0.2)"},children:"âœ— Failed to submit feedback. Please try again."}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 hover:brightness-110",style:{backgroundColor:"transparent",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#94A3B8"},children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!a.trim()||d||"success"===m,className:"flex-1 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-105",style:{backgroundColor:"success"===m?"#22C55E":"#F8FAFC",color:"success"===m?"#FFFFFF":"#111111"},children:d?"Submitting...":"success"===m?"Submitted!":"Submit Feedback"})]})]})]})}):null}const Q=e=>{try{const s=`dismissed_announcements_${e}`,t=localStorage.getItem(s);return t?new Set(JSON.parse(t)):new Set}catch{return new Set}};function ee({userId:e,userType:r="creator"}){const[o,a]=t.useState([]),[n,i]=t.useState(!0);t.useEffect(()=>{if(!e)return void i(!1);const s=async()=>{try{const s=Q(e),{data:t,error:o}=await l.from("announcements").select("id, title, content, created_at, is_read, announcement_type, target_audience").or(`user_id.eq.${e},user_id.is.null`).eq("is_read",!1).order("created_at",{ascending:!1}).limit(10);if(o)throw o;const n=(t||[]).filter(e=>{if(s.has(e.id))return!1;const t=e.target_audience||"all";return"all"===t||("creators"===t&&"creator"===r||("artists"===t&&"artist"===r||("businesses"===t&&"business"===r||"freelancers"===t&&"freelancer"===r)))}).slice(0,5);a(n)}catch(s){a([])}finally{i(!1)}};s();const t=l.channel(`announcements-${e}-${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"announcements"},t=>{const l=t.new,o=l.target_audience||"all",a="all"===o||"creators"===o&&"creator"===r||"artists"===o&&"artist"===r||"businesses"===o&&"business"===r||"freelancers"===o&&"freelancer"===r;null!==l.user_id&&l.user_id!==e||!a||s()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"announcements"},t=>{const r=t.new;null!==r.user_id&&r.user_id!==e||s()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"announcements"},()=>{s()}).subscribe(e=>{});return()=>{l.removeChannel(t)}},[e,r]);const c=async s=>{a(e=>e.filter(e=>e.id!==s)),e&&((e,s)=>{try{const t=`dismissed_announcements_${e}`,r=Q(e);r.add(s),localStorage.setItem(t,JSON.stringify([...r]))}catch(t){}})(e,s);try{await l.from("announcements").update({is_read:!0}).eq("id",s)}catch(t){}};if(n||0===o.length)return null;const d=o.find(e=>!e.is_read)||o[0];if(!d)return null;const x="serious"===d.announcement_type;return s.jsx("div",{className:"mb-4 animate-fade-in",children:s.jsx("div",{className:"rounded-xl px-4 py-3 border relative",style:{backgroundColor:x?"rgba(239, 68, 68, 0.1)":"#111111",borderColor:x?"rgba(239, 68, 68, 0.4)":"#2f2f2f"},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-1 flex items-center gap-1.5",style:{color:x?"#ef4444":"#F8FAFC"},children:[x&&s.jsx(A,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#ef4444"}}),d.title]}),s.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap",style:{color:x?"#F8FAFC":"#94A3B8"},children:d.content})]}),s.jsx("button",{onClick:()=>c(d.id),className:"flex-shrink-0 w-6 h-6 rounded-md flex items-center justify-center transition-all duration-200 hover:brightness-110",style:{backgroundColor:x?"rgba(239, 68, 68, 0.2)":"#0f0f13",color:x?"#ef4444":"#94A3B8"},"aria-label":"Dismiss announcement",children:s.jsx(C,{className:"w-3 h-3"})})]})})})}const se=()=>s.jsxs("div",{className:"music-icon group w-5 h-5 flex-shrink-0",children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[s.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),s.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"white",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"white",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"white",opacity:"0.3"}),s.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"white",opacity:"0.3"})]}),s.jsx("div",{className:"note note-1",children:s.jsxs("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",children:[s.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})}),s.jsx("div",{className:"note note-2",children:s.jsxs("svg",{width:"8",height:"12",viewBox:"0 0 10 14",fill:"none",children:[s.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})}),s.jsx("div",{className:"note note-3",children:s.jsxs("svg",{width:"6",height:"10",viewBox:"0 0 10 14",fill:"none",children:[s.jsx("path",{d:"M2 12V3L9 1V10",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"white"})]})})]}),te=()=>s.jsx("div",{className:"creators-icon group w-5 h-5 flex-shrink-0",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[s.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"white",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"white",opacity:"0.4"}),s.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"white",opacity:"0.4"}),s.jsxs("g",{className:"app app-1",children:[s.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"white",opacity:"0.2"}),s.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"white",opacity:"0.8"})]}),s.jsxs("g",{className:"app app-2",children:[s.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"white",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),s.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"white",strokeWidth:"1",fill:"none",opacity:"0.8"}),s.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"white",opacity:"0.6"})]})]})}),re=()=>s.jsx("div",{className:"businesses-icon group w-5 h-5 flex-shrink-0",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[s.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"white",strokeWidth:"2",fill:"none"}),s.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"white",strokeWidth:"2",fill:"none"}),s.jsx("rect",{className:"lid",x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"white",strokeWidth:"2",fill:"black"}),s.jsx("rect",{className:"clasp",x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"white"}),s.jsxs("g",{className:"documents",children:[s.jsx("rect",{x:"12",y:"22",width:"10",height:"14",rx:"1",fill:"white",opacity:"0.2"}),s.jsx("line",{x1:"14",y1:"25",x2:"20",y2:"25",stroke:"white",strokeWidth:"1",opacity:"0.6"}),s.jsx("line",{x1:"14",y1:"28",x2:"18",y2:"28",stroke:"white",strokeWidth:"1",opacity:"0.6"}),s.jsx("line",{x1:"14",y1:"31",x2:"20",y2:"31",stroke:"white",strokeWidth:"1",opacity:"0.6"}),s.jsx("rect",{x:"26",y:"22",width:"10",height:"14",rx:"1",fill:"white",opacity:"0.2"}),s.jsx("path",{d:"M28 33L31 28L33 30L36 25",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8"})]})]})}),le=()=>s.jsx("div",{className:"creators-icon group w-5 h-5 flex-shrink-0 -mt-0.5",children:s.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:s.jsxs("g",{className:"origin-center transition-transform duration-500 group-hover:rotate-[360deg]",children:[s.jsx("rect",{x:"12",y:"10",width:"24",height:"10",rx:"1",fill:"none",stroke:"white",strokeWidth:"2"}),s.jsx("rect",{x:"21",y:"20",width:"6",height:"24",rx:"1",fill:"none",stroke:"white",strokeWidth:"2"}),s.jsx("line",{x1:"22",y1:"32",x2:"26",y2:"32",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"22",y1:"37",x2:"26",y2:"37",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})})}),oe=e=>{switch(e){case"artist":return s.jsx(se,{});case"creator":default:return s.jsx(te,{});case"freelancer":return s.jsx(le,{});case"business":return s.jsx(re,{})}};function ae({userProfile:e,cachedProfilePic:r,onBack:l,onUpdateProfile:o,isEditing:a=!1,setIsEditing:n,onEditProfile:i,appliedTheme:d="dark"}){const[m,u]=t.useState(!1),[h,p]=t.useState(!1),[f,g]=t.useState("overview");t.useState((null==e?void 0:e.bio)||"");const[y,b]=t.useState(null),[v,j]=t.useState(null),[k,C]=t.useState(!1),[N,F]=t.useState(!1),{t:A}=c(),T=t.useRef(null),E=t.useRef(null),S=null==e?void 0:e.profile_picture_url,W=r||(S&&!S.startsWith("blob:")?S:null),M=[{id:"overview",label:A("profile.overview")},{id:"reviews",label:A("profile.reviews")}];return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"light"===d?"#0F172A":"grey"===d?"#1A1A1E":"#000000"},children:[s.jsx("div",{className:"sticky top-0 z-10 backdrop-blur-md border-b",style:{backgroundColor:"light"===d?"rgba(15, 23, 42, 0.8)":"grey"===d?"rgba(26, 26, 30, 0.8)":"rgba(0, 0, 0, 0.8)",borderColor:"light"===d?"rgba(148, 163, 184, 0.3)":"grey"===d?"#2A2A2E":"#1a1a1a"},children:s.jsxs("div",{className:"flex items-center gap-6 px-4 py-3",children:[l&&s.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:s.jsx(_,{className:"w-5 h-5",style:{color:"#F8FAFC"}})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-xl",style:{color:"#F8FAFC"},children:(null==e?void 0:e.first_name)&&(null==e?void 0:e.last_name)?`${e.first_name} ${e.last_name}`:A("profile.yourProfile")}),s.jsxs("p",{className:"text-sm",style:{color:"#CBD5E1"},children:["0 ",A("profile.posts")]})]})]})}),s.jsxs("div",{className:"relative h-48 cursor-pointer group border",style:{backgroundColor:"transparent",borderColor:"#2f2f2f"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>{var e;null==(e=T.current)||e.click()},children:[(y||(null==e?void 0:e.banner_url))&&s.jsx("img",{src:y||(null==e?void 0:e.banner_url),alt:"Banner",className:"w-full h-full object-cover",loading:"eager",decoding:"async",fetchpriority:"high"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center transition-opacity "+(m||k?"opacity-100":"opacity-0"),children:k?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm",style:{color:"#F8FAFC"},children:A("common.uploading")})]}):s.jsx(L,{className:"w-8 h-8",style:{color:"#F8FAFC"}})}),s.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:async e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t&&o){const e=URL.createObjectURL(t);b(e),C(!0);try{await o({banner:t}),b(null)}catch(r){b(null)}finally{C(!1)}}}})]}),s.jsxs("div",{className:"px-6 pb-6 relative",children:[s.jsxs("div",{className:"absolute -top-16 left-6 w-32 h-32 rounded-full border-4 border-[#111111] overflow-hidden cursor-pointer group",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{var e;null==(e=E.current)||e.click()},children:[s.jsx("img",{src:v||W||x,alt:"Profile",className:"w-full h-full object-cover",loading:"eager",decoding:"async",fetchpriority:"high"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center transition-opacity "+(h||N?"opacity-100":"opacity-0"),children:N?s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-xs",style:{color:"#F8FAFC"},children:A("common.uploading")})]}):s.jsx(L,{className:"w-6 h-6",style:{color:"#F8FAFC"}})}),s.jsx("input",{type:"file",ref:E,className:"hidden",accept:"image/*",onChange:async e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t&&o){const e=URL.createObjectURL(t);j(e),F(!0);try{await o({profile_picture:t})}catch(r){j(null)}finally{F(!1)}}}})]}),s.jsx("div",{className:"flex justify-end pt-3",children:s.jsx("button",{onClick:i,className:"px-5 py-2 rounded-xl font-semibold text-sm hover:brightness-110 transition-all border",style:{backgroundColor:"transparent",borderColor:"#2f2f2f",color:"#F8FAFC"},children:A("profile.editProfile")})}),s.jsxs("div",{className:"mt-12",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"font-bold text-xl",style:{color:"#F8FAFC"},children:(null==e?void 0:e.first_name)&&(null==e?void 0:e.last_name)?`${e.first_name} ${e.last_name}`:A("profile.yourName")}),oe(null==e?void 0:e.user_type)]}),s.jsxs("p",{style:{color:"#64748B"},children:["@",(null==e?void 0:e.username)||"username"]})]}),s.jsx("p",{className:"mt-3",style:{color:"#F8FAFC"},children:(null==e?void 0:e.bio)||A("profile.noBio")}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",style:{color:"#CBD5E1"},children:[(null==e?void 0:e.location)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{children:e.location})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(w,{className:"w-4 h-4"}),s.jsx("span",{children:(e=>{if(!e)return A("profile.joinedRecently");const s=new Date(e);return`${A("profile.joined")} ${s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}`})(null==e?void 0:e.created_at)})]})]})]}),s.jsx("div",{className:"border-b",style:{borderColor:"#1a1a1a"},children:s.jsx("div",{className:"flex",children:M.map(e=>s.jsxs("button",{onClick:()=>g(e.id),className:"flex-1 py-4 text-center hover:bg-white/5 transition-colors relative",children:[s.jsx("span",{style:{color:f===e.id?"#F8FAFC":"#CBD5E1",fontWeight:f===e.id?600:400},children:e.label}),f===e.id&&s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-14 h-1 rounded-full",style:{backgroundColor:"#FFFFFF"}})]},e.id))})}),s.jsx("div",{className:"p-8",children:"overview"===f?s.jsx("div",{style:{color:"#F8FAFC"},children:s.jsx("p",{className:"text-center py-8",style:{color:"#CBD5E1"},children:A("profile.noContent")})}):s.jsxs("div",{style:{color:"#F8FAFC"},children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:A("profile.reviews")}),s.jsx("div",{className:"text-center py-8",style:{color:"#CBD5E1"},children:s.jsx("p",{children:A("profile.noReviews")})})]})})]})}function ne({userType:e}){const{t:t}=c(),r=null==e?void 0:e.toLowerCase(),l=()=>s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),s.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"}),s.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}),o=()=>s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),s.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),s.jsxs("g",{className:"app app-1",children:[s.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),s.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"currentColor",opacity:"0.8"})]}),s.jsxs("g",{className:"app app-2",children:[s.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),s.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"currentColor",strokeWidth:"1",fill:"none",opacity:"0.8"}),s.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"currentColor",opacity:"0.6"})]})]}),a=()=>s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("rect",{className:"lid",x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"currentColor"}),s.jsx("rect",{className:"clasp",x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"currentColor"})]}),n=()=>s.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:s.jsxs("g",{className:"origin-center",children:[s.jsx("rect",{x:"12",y:"10",width:"24",height:"10",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),s.jsx("rect",{x:"21",y:"20",width:"6",height:"24",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),s.jsx("line",{x1:"22",y1:"32",x2:"26",y2:"32",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"22",y1:"37",x2:"26",y2:"37",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#F8FAFC"},children:t("accountType.currentAccountType")}),s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:["artist"===r&&s.jsx(l,{}),"creator"===r&&s.jsx(o,{}),"freelancer"===r&&s.jsx(n,{}),("brand"===r||"business"===r)&&s.jsx(a,{})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-lg",style:{color:"#F8FAFC"},children:t("artist"===r?"accountTypes.artist":"creator"===r?"accountTypes.creator":"freelancer"===r?"accountTypes.freelancer":"brand"===r||"business"===r?"accountTypes.brand":"accountType.unknown")}),s.jsxs("p",{className:"text-sm",style:{color:"#CBD5E1"},children:["artist"===r&&t("accountType.artistDesc"),"creator"===r&&t("accountType.creatorDesc"),"freelancer"===r&&t("accountType.freelancerDesc"),("brand"===r||"business"===r)&&t("accountType.brandDesc")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx("h3",{className:"text-base font-semibold",style:{color:"#F8FAFC"},children:"Account Status"}),s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",style:{color:"#64748B"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#F8FAFC"},children:"Healthy"}),s.jsx("p",{className:"text-sm",style:{color:"#94A3B8"},children:"No policy violations"})]})]}),s.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-subtle)"},children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx("h3",{className:"text-base font-semibold",style:{color:"#F8FAFC"},children:"Policy Warnings"}),s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",style:{color:"#64748B"},children:[s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("path",{d:"M12 9V13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("circle",{cx:"12",cy:"17",r:"1",fill:"currentColor"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-5xl font-bold mb-2",style:{color:"#F8FAFC"},children:"0"}),s.jsx("p",{className:"text-sm",style:{color:"#94A3B8"},children:"Compliant with Terms of Service"})]})]})]})]})}function ie({isActive:e,onToggle:t,backgroundTheme:r="dark",disabled:l=!1,size:o="md"}){const a={sm:e?"translate-x-4":"translate-x-0.5",md:e?"translate-x-6":"translate-x-1",lg:e?"translate-x-7":"translate-x-1"};return s.jsx("button",{onClick:t,disabled:l,className:`relative inline-flex ${{sm:"h-5 w-9",md:"h-6 w-11",lg:"h-7 w-13"}[o]} items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 ${e?(()=>{switch(r){case"light":return"bg-slate-700";case"grey":return"bg-zinc-800";default:return"bg-zinc-900"}})():"bg-gray-600"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsx("span",{className:`inline-block ${{sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"}[o]} transform rounded-full bg-white transition-transform duration-200 ${a[o]}`})})}export{ee as A,U as B,H as D,K as F,E as I,G as M,$ as O,ae as P,Y as R,R as S,ie as T,O as V,ne as a,z as b,I as c};
