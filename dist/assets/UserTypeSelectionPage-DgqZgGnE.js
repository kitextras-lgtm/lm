import{j as e}from"./spline-OfIZ-5GP.js";import{r,u as t}from"./react-vendor-ClpDbY_3.js";import{s}from"./index-FbpD5WL4.js";import"./supabase-Dq2D-Wrk.js";function o(){const[o,i]=r.useState(null),[l,a]=r.useState(!1),[n,c]=r.useState(null),[d,h]=r.useState(!1),[x,u]=r.useState(window.innerWidth<640),p=t();r.useEffect(()=>{const e=setTimeout(()=>{h(!0)},100);return()=>clearTimeout(e)},[]),r.useEffect(()=>{const e=()=>u(window.innerWidth<640);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),r.useEffect(()=>{const e=localStorage.getItem("signupSource");"artist"===e?(localStorage.removeItem("signupSource"),p("/make-profile",{state:{userType:"artist"}})):"freelancer"===e?(localStorage.removeItem("signupSource"),p("/make-profile",{state:{userType:"freelancer"}})):"brand"===e&&(localStorage.removeItem("signupSource"),p("/make-profile",{state:{userType:"business"}}))},[p]);const f=r=>{switch(r){case"artist":return e.jsxs("div",{className:"music-icon group w-16 h-16 flex-shrink-0",children:[e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),e.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"}),e.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}),e.jsx("div",{className:"note note-1",children:e.jsxs("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"currentColor"})]})}),e.jsx("div",{className:"note note-2",children:e.jsxs("svg",{width:"8",height:"12",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"currentColor"})]})}),e.jsx("div",{className:"note note-3",children:e.jsxs("svg",{width:"6",height:"10",viewBox:"0 0 10 14",fill:"none",children:[e.jsx("path",{d:"M2 12V3L9 1V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"2",cy:"12",r:"2",fill:"currentColor"})]})})]});case"creator":return e.jsx("div",{className:"creators-icon group w-16 h-16 flex-shrink-0",children:e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsxs("g",{className:"app app-1",children:[e.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"currentColor",opacity:"0.8"})]}),e.jsxs("g",{className:"app app-2",children:[e.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"currentColor",strokeWidth:"1",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"currentColor",opacity:"0.6"})]}),e.jsxs("g",{className:"app app-3",children:[e.jsx("rect",{x:"16",y:"26",width:"10",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M19 32V28L23 27V31",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"19",cy:"32",r:"1.2",fill:"currentColor",opacity:"0.8"})]}),e.jsxs("g",{className:"app app-4",children:[e.jsx("rect",{x:"26",y:"26",width:"8",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),e.jsx("rect",{x:"27.5",y:"27.5",width:"2",height:"2",rx:"0.5",fill:"currentColor",opacity:"0.8"}),e.jsx("rect",{x:"30.5",y:"27.5",width:"2",height:"2",rx:"0.5",fill:"currentColor",opacity:"0.8"}),e.jsx("rect",{x:"27.5",y:"30.5",width:"2",height:"2",rx:"0.5",fill:"currentColor",opacity:"0.8"}),e.jsx("rect",{x:"30.5",y:"30.5",width:"2",height:"2",rx:"0.5",fill:"currentColor",opacity:"0.8"})]})]})});case"freelancer":return e.jsx("div",{className:"freelancer-icon w-16 h-16 flex-shrink-0",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:e.jsxs("g",{className:"origin-center transition-all duration-500 "+("freelancer"===o?"rotate-[360deg] scale-110":""),children:[e.jsx("rect",{x:"12",y:"10",width:"24",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"21",y:"20",width:"6",height:"24",rx:"1",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("line",{x1:"22",y1:"32",x2:"26",y2:"32",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("line",{x1:"22",y1:"37",x2:"26",y2:"37",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})});case"business":return e.jsx("div",{className:"businesses-icon group w-16 h-16 flex-shrink-0",children:e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[e.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{className:"lid",x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"var(--bg-primary)"}),e.jsx("rect",{className:"clasp",x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"currentColor"}),e.jsxs("g",{className:"documents",children:[e.jsx("rect",{x:"12",y:"22",width:"10",height:"14",rx:"1",fill:"currentColor",opacity:"0.2"}),e.jsx("line",{x1:"14",y1:"25",x2:"20",y2:"25",stroke:"currentColor",strokeWidth:"1",opacity:"0.6"}),e.jsx("line",{x1:"14",y1:"28",x2:"18",y2:"28",stroke:"currentColor",strokeWidth:"1",opacity:"0.6"}),e.jsx("line",{x1:"14",y1:"31",x2:"20",y2:"31",stroke:"currentColor",strokeWidth:"1",opacity:"0.6"}),e.jsx("rect",{x:"26",y:"22",width:"10",height:"14",rx:"1",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M28 33L31 28L33 30L36 25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8"})]})]})});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center relative overflow-hidden py-8 sm:py-12 px-6",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E\")"},children:[e.jsxs("button",{onClick:()=>p("/tell-us-about-yourself"),className:"fixed top-6 left-6 z-50 flex items-center gap-1.5 text-gray-400 hover:text-white transition-colors group",children:[e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-xs font-medium",children:"Back"})]}),!x&&e.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none transition-opacity duration-700 ease-out overflow-hidden",style:{opacity:d?1:0,transform:"translateX(30%) scale(1.035)"},children:e.jsx("spline-viewer",{url:"https://prod.spline.design/hxB6DGH8u6Rcpq21/scene.splinecode","mouse-controls":"false",className:"spline-viewer-no-watermark"})}),e.jsxs("div",{className:"relative z-10 w-full max-w-md flex flex-col items-center",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-3",style:{color:"#F2F4F7"},children:"What are you?"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Select the option that best describes you"})]}),e.jsx("div",{className:"w-full space-y-3 mb-6",children:[{id:"creator",title:"Creator",description:"Content Creators, Youtubers, Influencers"},{id:"business",title:"Brand",description:"Companies and Businesses"}].map(r=>e.jsxs("button",{onClick:()=>{return e=r.id,void i(e);var e},className:`relative w-full p-5 rounded-lg transition-all duration-300 flex items-center gap-4 hover:scale-[1.01] ${r.id}-button`,style:o===r.id?{background:"rgba(10, 10, 15, 0.65)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid rgba(255, 255, 255, 1)",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.03)"}:{background:"rgba(10, 10, 15, 0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(75, 85, 99, 1)"},children:[f(r.id),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"#F2F4F7"},children:r.title}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:r.description})]}),o===r.id&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:"#E8E8E8"},children:e.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})})]},r.id))}),n&&e.jsx("div",{className:"mb-4 text-center text-red-500 text-xs",children:n}),e.jsx("button",{onClick:async()=>{if(o){a(!0),c(null);try{const{data:{user:e}}=await s.auth.getUser(),r=localStorage.getItem("verifiedUserId"),t=(localStorage.getItem("verifiedEmail"),(null==e?void 0:e.id)||r);if(!t)return localStorage.setItem("selectedUserType",o),void c("Please complete sign-up first");{const e=localStorage.getItem("tempProfile"),r=e?JSON.parse(e):{},s=r.profilePicture&&!r.profilePicture.startsWith("blob:")?r.profilePicture:null,i="https://hlcpoqxzqgbghsadouef.supabase.co/functions/v1/save-profile",l=await fetch(i,{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhsY3BvcXh6cWdiZ2hzYWRvdWVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMzI2MTUsImV4cCI6MjA4MTcwODYxNX0.Qhbzj0g5FbpW0wgtGsJBF2AV0HqL-9X2S2nGL64KCYA","Content-Type":"application/json"},body:JSON.stringify({userId:t,userType:o,firstName:r.firstName||"",lastName:r.lastName||"",username:r.username||"",profilePictureUrl:s,location:r.location||"",primaryLanguage:r.primaryLanguage||""})}),a=await l.json();if(!a.success)throw new Error(a.message||"Failed to save profile");localStorage.removeItem("tempProfile")}const i=`/dashboard/${o}`;switch(localStorage.setItem("currentDashboard",i),o){case"artist":p("/dashboard/artist",{state:{fromOnboarding:!0}});break;case"creator":p("/dashboard/creator",{state:{fromOnboarding:!0}});break;case"freelancer":p("/freelancer-onboarding");break;case"business":p("/dashboard/business",{state:{fromOnboarding:!0}});break;default:p("/")}}catch(e){localStorage.setItem("selectedUserType",o);const r=`/dashboard/${o}`;switch(localStorage.setItem("currentDashboard",r),o){case"artist":p("/dashboard/artist",{state:{fromOnboarding:!0}});break;case"creator":p("/dashboard/creator",{state:{fromOnboarding:!0}});break;case"freelancer":p("/freelancer-onboarding");break;case"business":p("/dashboard/business",{state:{fromOnboarding:!0}});break;default:p("/")}}finally{a(!1)}}},disabled:!o||l,className:`\n            w-full h-11 rounded-lg font-semibold transition-all duration-300\n            ${o&&!l?"hover:opacity-95":"opacity-50 cursor-not-allowed"}\n          `,style:{background:o&&!l?"#E8E8E8":"rgba(75, 85, 99, 1)",color:o&&!l?"#000000":"var(--text-primary)"},children:l?"Saving...":"Continue"})]})]})}export{o as UserTypeSelectionPage};
