import{j as e}from"./spline-C1bWgT9i.js";import{r as s,u as t}from"./react-vendor-D-1Z2fag.js";import{e as r,a as l,S as a,b as n,s as o,A as i,t as c}from"./index-BLUXyn6x.js";import{m as d,n as m,e as x,f as u,h,i as p,j as b,c as y,U as g,k as f,o as j,M as v,C as N,E as w,b as k,S as C,L as _,p as S}from"./SettingsView-CHyukfwV.js";import{A}from"./alert-triangle-CR9r8Cl1.js";import{B as F}from"./bell-CxRtFJEL.js";import{A as T}from"./alert-circle-DZ8aNWen.js";import{c as L}from"./createLucideIcon-Dr5VM9HU.js";import{U as P}from"./user-D1sSz7Sa.js";import{L as E,C as M}from"./loader-2-BKtSGDzb.js";import{X as U}from"./x-wo8mI0S6.js";import{T as $}from"./trash-2-CoI91ZOz.js";import"./supabase-Dexhd8Ad.js";import"./arrow-left-EZXjPn0x.js";import"./chevron-down-ET2sv1ZZ.js";import"./chevron-right-Cz8Bb0jh.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=L("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),B=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),q=L("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),I=L("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),D=L("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),W=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),V=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function R({userType:s,size:t=14}){const r=t;return"artist"===s?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r,flexShrink:0},children:[e.jsx("path",{d:"M12 28C12 20.268 18.268 14 26 14H22C29.732 14 36 20.268 36 28",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),e.jsx("rect",{x:"8",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"32",y:"26",width:"8",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"10",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"}),e.jsx("rect",{x:"34",y:"28",width:"4",height:"8",rx:"1",fill:"currentColor",opacity:"0.3"})]}):"creator"===s?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r,flexShrink:0},children:[e.jsx("rect",{x:"14",y:"6",width:"20",height:"36",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"20",y:"9",width:"8",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"21",y:"38",width:"6",height:"2",rx:"1",fill:"currentColor",opacity:"0.4"}),e.jsx("rect",{x:"16",y:"14",width:"10",height:"8",rx:"2",fill:"currentColor",opacity:"0.2"}),e.jsx("path",{d:"M20 16L23 18L20 20V16Z",fill:"currentColor",opacity:"0.8"}),e.jsx("rect",{x:"26",y:"14",width:"8",height:"8",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"30",cy:"18",r:"2",stroke:"currentColor",strokeWidth:"1",fill:"none",opacity:"0.8"}),e.jsx("circle",{cx:"32.5",cy:"15.5",r:"0.8",fill:"currentColor",opacity:"0.6"})]}):"freelancer"===s?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r,flexShrink:0},children:[e.jsx("rect",{x:"12",y:"10",width:"24",height:"10",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("rect",{x:"21",y:"20",width:"6",height:"24",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("line",{x1:"22",y1:"32",x2:"26",y2:"32",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("line",{x1:"22",y1:"37",x2:"26",y2:"37",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}):"business"===s?e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r,flexShrink:0},children:[e.jsx("rect",{x:"6",y:"18",width:"36",height:"22",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M18 18V14C18 12.8954 18.8954 12 20 12H28C29.1046 12 30 12.8954 30 14V18",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("rect",{x:"6",y:"18",width:"36",height:"8",rx:"3",stroke:"currentColor",strokeWidth:"2",fill:"black"}),e.jsx("rect",{x:"21",y:"24",width:"6",height:"4",rx:"1",fill:"currentColor"})]}):null}function H({currentAdminId:t}){const{tokens:r,theme:l}=n(),{conversations:a,loading:i}=d(t),[c,j]=s.useState(""),[v,N]=s.useState(""),[w,k]=s.useState(null),[C,_]=s.useState(!0),[S,A]=s.useState(!0),[F,T]=s.useState("primary"),[L,P]=s.useState("all"),{profile:E}=m(t);x(t);const M=s.useMemo(()=>u(e=>N(e),300),[]);s.useEffect(()=>{M(c)},[c,M]),s.useEffect(()=>{(async()=>{if(!i&&t){const e=window.innerWidth<1024;if(a.length>0){const s=localStorage.getItem(`lastConversation_${t}`);if(s){const e=a.find(e=>e.id===s);if(e){if(k(e),e.unread_count_admin>0){const{error:s}=await o.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}return void A(!1)}}if(!e){const e=a[0];if(k(e),e.unread_count_admin>0){const{error:s}=await o.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}}}A(!1)}})()},[t,i,a.length]);const U=s.useMemo(()=>a.filter(e=>{if(!e.customer)return!1;const s=e.customer.name.toLowerCase().includes(v.toLowerCase()),t="all"===L||e.customer.user_type===L;return s&&t}),[a,v,L]),$=s.useCallback(e=>{var s;return e===t?(null==E?void 0:E.name)||"You":(null==(s=null==w?void 0:w.customer)?void 0:s.name)||"Customer"},[E,w,t]),z=async(e,s)=>{try{const{error:t}=await o.from("conversations").update({is_pinned:s}).eq("id",e);if(t)throw t}catch(t){}},B="undefined"!=typeof window&&window.innerWidth<1024,q=i&&0===a.length,I=S&&!w;return B&&w?e.jsx("div",{className:"flex flex-col w-full",style:{backgroundColor:"var(--bg-primary)",height:"100%",maxHeight:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:e.jsx("div",{className:"flex-1 min-h-0",children:w.customer&&e.jsx(h,{conversation:w,otherUser:w.customer,currentUserId:w.admin_id||t,getSenderName:$,backgroundTheme:l,onBack:()=>_(!0),showBackButton:!0},w.id)})}):e.jsxs("div",{className:"flex overflow-hidden rounded-2xl w-full shadow-2xl h-full",style:{backgroundColor:r.bg.primary,border:`1px solid ${r.border.default}`},children:[e.jsxs("div",{className:(C?"flex":"hidden lg:flex")+" flex-col w-full lg:w-80 xl:w-96 min-h-0 flex-shrink-0 overflow-hidden",style:{borderRight:`1px solid ${r.border.default}`,backgroundColor:r.bg.primary},children:[e.jsxs("div",{className:"p-5 pb-4",style:{borderBottom:`1px solid ${r.border.default}`,backgroundColor:r.bg.primary},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-1",style:{color:r.text.primary},children:"Messages"}),e.jsx("p",{className:"text-sm",style:{color:r.text.muted},children:"Manage customer conversations"})]}),e.jsxs("div",{className:"flex gap-1 mb-3 p-1 rounded-lg",style:{backgroundColor:r.bg.input},children:[e.jsx("button",{onClick:()=>T("primary"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all "+("primary"===F?"text-white border border-white/20":"text-gray-400 hover:text-gray-300"),style:{backgroundColor:"primary"===F?"rgba(255, 255, 255, 0.1)":"transparent"},children:"Primary"}),e.jsx("button",{onClick:()=>T("general"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all "+("general"===F?"text-white border border-white/20":"text-gray-400 hover:text-gray-300"),style:{backgroundColor:"general"===F?"rgba(255, 255, 255, 0.1)":"transparent"},children:"General"}),e.jsx("button",{onClick:()=>T("requests"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all "+("requests"===F?"text-white border border-white/20":"text-gray-400 hover:text-gray-300"),style:{backgroundColor:"requests"===F?"rgba(255, 255, 255, 0.1)":"transparent"},children:"Requests"})]}),e.jsx("div",{className:"flex gap-1.5 flex-wrap mb-3",children:["all","artist","creator","freelancer","business"].map(s=>{const t=L===s;return e.jsxs("button",{onClick:()=>P(s),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-all",style:{backgroundColor:t?"rgba(255,255,255,0.15)":"rgba(255,255,255,0.05)",border:t?"1px solid rgba(255,255,255,0.3)":"1px solid rgba(255,255,255,0.08)",color:t?"#ffffff":"rgba(255,255,255,0.45)"},children:["all"!==s&&e.jsx(R,{userType:s,size:10}),{all:"All",artist:"Artists",creator:"Creators",freelancer:"Freelancers",business:"Brands"}[s]]},s)})}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:r.text.muted}}),e.jsx("input",{type:"text",value:c,onChange:e=>j(e.target.value),placeholder:"Search customers...","aria-label":"Search customers",className:"w-full pl-10 pr-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:r.bg.input,border:`1px solid ${r.border.default}`,color:r.text.primary,outlineColor:"rgba(148, 163, 184, 0.3)",boxShadow:"0 0 0 1px rgba(148, 163, 184, 0.3)"}})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent"},children:q?e.jsx(b,{count:4,backgroundTheme:l}):0===U.length?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#0f0f13"},children:e.jsx(y,{className:"w-8 h-8",style:{color:r.text.muted}})}),e.jsx("p",{className:"text-sm font-medium",style:{color:r.text.secondary},children:"No conversations found"}),e.jsx("p",{className:"text-xs mt-1",style:{color:r.text.muted},children:"Customer conversations will appear here"})]}):U.map(s=>s.customer&&e.jsx(g,{user:s.customer,conversation:s,isActive:(null==w?void 0:w.id)===s.id,onClick:()=>(async e=>{if(k(e),_(!1),localStorage.setItem(`lastConversation_${t}`,e.id),e.unread_count_admin>0)try{await o.from("conversations").update({unread_count_admin:0}).eq("id",e.id)}catch(s){}})(s),onPin:z,unreadCount:s.unread_count_admin,currentUserId:t},s.id))})]}),e.jsx("div",{className:(C?"hidden lg:flex":"flex")+" flex-col flex-1 min-h-0 min-w-0 overflow-hidden",style:{backgroundColor:r.bg.primary},children:w&&w.customer?e.jsx(h,{conversation:w,otherUser:w.customer,currentUserId:w.admin_id||t,getSenderName:$,backgroundTheme:l},w.id):I?e.jsx(f,{backgroundTheme:l}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-2xl flex items-center justify-center",style:{backgroundColor:r.bg.elevated,border:`1px solid ${r.border.default}`},children:e.jsx(y,{className:"w-10 h-10",style:{color:r.text.muted}})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:r.text.primary},children:"Select a conversation"}),e.jsx("p",{className:"text-sm",style:{color:r.text.secondary},children:"Choose a customer from the list to start chatting"})]})})})]})}function O({adminId:t,onClose:r}){const{tokens:l}=n(),[a,i]=s.useState(!0),[c,d]=s.useState(""),[m,x]=s.useState(""),[h,b]=s.useState(""),[y,g]=s.useState("normal"),[f,v]=s.useState("all"),[N,w]=s.useState(!1),[k,C]=s.useState(null),[_,S]=s.useState(!1),[L,M]=s.useState([]),[B,q]=s.useState(!1),[V,R]=s.useState(!1),[H,O]=s.useState([]),[X,G]=s.useState(!0),[Y,K]=s.useState(null),Q=s.useRef(null),Z=s.useRef(null),J=s.useCallback(async()=>{G(!0);try{const{data:e,error:s}=await o.from("admin_announcements").select("id, title, message, announcement_type, target_audience, status, sent_at, created_at").order("created_at",{ascending:!1}).limit(50);s||O(e||[])}catch(e){}finally{G(!1)}},[]);s.useEffect(()=>{J()},[J]);const ee=s.useCallback(u(async e=>{if(e.trim().length<2)return M([]),q(!1),void R(!1);R(!0);try{const{data:s,error:t}=await o.from("users").select("id, username, email, full_name").ilike("username",`%${e}%`).limit(5);if(t)throw t;M(s||[]),q(!0)}catch(s){M([])}finally{R(!1)}},300),[]);s.useEffect(()=>{const e=e=>{Z.current&&!Z.current.contains(e.target)&&Q.current&&!Q.current.contains(e.target)&&q(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:l.bg.elevated},children:e.jsx(A,{className:"w-5 h-5",style:{color:l.text.primary}})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",style:{color:l.text.primary},children:"Send Announcement"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:l.text.secondary},children:"Send announcements to all users or specific users"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:l.text.secondary},children:"Announcement Type"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>g("normal"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("normal"===y?"":"hover:brightness-110"),style:{backgroundColor:"normal"===y?l.bg.active:"transparent",color:"#F8FAFC",border:"normal"===y?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(F,{className:"w-4 h-4"}),"Normal"]}),e.jsxs("button",{onClick:()=>g("serious"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("serious"===y?"":"hover:brightness-110"),style:{backgroundColor:"serious"===y?"rgba(239, 68, 68, 0.2)":"transparent",color:"serious"===y?"#ef4444":"#F8FAFC",border:"serious"===y?"1px solid rgba(239, 68, 68, 0.5)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(T,{className:"w-4 h-4"}),"Serious"]})]})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:l.text.secondary},children:"Recipients"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>{i(!0),d(""),M([]),q(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(a?"":"hover:brightness-110"),style:{backgroundColor:a?l.bg.active:"transparent",color:"#F8FAFC",border:a?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(W,{className:"w-4 h-4"}),"Broadcast"]}),e.jsxs("button",{onClick:()=>{i(!1),M([]),q(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+(a?"hover:brightness-110":""),style:{backgroundColor:a?"transparent":l.bg.active,color:"#F8FAFC",border:a?"1px solid rgba(75, 85, 99, 0.2)":"1px solid rgba(148, 163, 184, 0.3)"},children:[e.jsx(P,{className:"w-4 h-4"}),"Specific User"]})]})]}),a&&e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-4",style:{color:l.text.secondary},children:"Target Audience"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("button",{onClick:()=>v("all"),className:"w-full px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("all"===f?"":"hover:brightness-110"),style:{backgroundColor:"all"===f?l.bg.active:"transparent",color:"#F8FAFC",border:"all"===f?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(W,{className:"w-4 h-4"}),"All Users"]}),e.jsxs("button",{onClick:()=>v("creators"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("creators"===f?"":"hover:brightness-110"),style:{backgroundColor:"creators"===f?l.bg.active:"transparent",color:"#F8FAFC",border:"creators"===f?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(D,{className:"w-4 h-4"}),"Creators"]}),e.jsxs("button",{onClick:()=>v("artists"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("artists"===f?"":"hover:brightness-110"),style:{backgroundColor:"artists"===f?l.bg.active:"transparent",color:"#F8FAFC",border:"artists"===f?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(I,{className:"w-4 h-4"}),"Artists"]}),e.jsxs("button",{onClick:()=>v("businesses"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("businesses"===f?"":"hover:brightness-110"),style:{backgroundColor:"businesses"===f?l.bg.active:"transparent",color:"#F8FAFC",border:"businesses"===f?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(P,{className:"w-4 h-4"}),"Business"]}),e.jsxs("button",{onClick:()=>v("freelancers"),className:"flex-1 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 "+("freelancers"===f?"":"hover:brightness-110"),style:{backgroundColor:"freelancers"===f?l.bg.active:"transparent",color:"#F8FAFC",border:"freelancers"===f?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.2)"},children:[e.jsx(z,{className:"w-4 h-4"}),"Freelancers"]})]})]}),!a&&e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl relative",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:l.text.secondary},children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(p,{className:"w-4 h-4",style:{color:l.text.muted}})}),e.jsx("input",{ref:Q,type:"text",value:c,onChange:e=>{return s=e.target.value,d(s),void ee(s);var s},onFocus:()=>{L.length>0&&q(!0)},placeholder:"Type username to search...",className:"w-full h-12 pl-10 pr-4 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all",style:{color:l.text.primary,background:l.bg.input,border:`1px solid ${l.border.default}`},disabled:N}),V&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(E,{className:"w-4 h-4 animate-spin",style:{color:l.text.muted}})})]}),B&&L.length>0&&e.jsx("div",{ref:Z,className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border z-50 max-h-64 overflow-y-auto",style:{backgroundColor:l.bg.elevated,borderColor:l.border.default},children:L.map(s=>e.jsx("button",{type:"button",onClick:()=>(e=>{d(e.username),q(!1),M([])})(s),className:"w-full px-4 py-3 text-left hover:brightness-110 transition-all flex items-center gap-3 border-b last:border-b-0",style:{backgroundColor:"transparent",borderColor:"rgba(75, 85, 99, 0.1)"},children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-semibold truncate",style:{color:l.text.primary},children:["@",s.username]}),s.full_name&&e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:l.text.secondary},children:s.full_name}),e.jsx("div",{className:"text-xs truncate mt-0.5",style:{color:l.text.muted},children:s.email})]})},s.id))}),B&&c.trim().length>=2&&!V&&0===L.length&&e.jsx("div",{className:"absolute left-6 right-6 mt-2 rounded-xl shadow-2xl border p-4 text-center",style:{backgroundColor:l.bg.elevated,borderColor:l.border.default},children:e.jsx("p",{className:"text-sm",style:{color:l.text.secondary},children:"No users found"})})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:l.text.secondary},children:"Title"}),e.jsx("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Notification title",className:"w-full h-12 px-4 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all",style:{color:"#F8FAFC",background:l.bg.input,border:"1px solid rgba(75, 85, 99, 0.2)"},disabled:N})]}),e.jsxs("div",{className:"rounded-2xl p-6 shadow-xl",style:{backgroundColor:l.bg.elevated},children:[e.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:l.text.secondary},children:"Content"}),e.jsx("textarea",{value:h,onChange:e=>b(e.target.value),placeholder:"Notification content",rows:8,className:"w-full px-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all resize-none",style:{color:"#F8FAFC",background:l.bg.input,border:"1px solid rgba(75, 85, 99, 0.2)"},disabled:N})]}),k&&e.jsx("div",{className:"rounded-2xl p-4 border "+(k.success?"border-green-500/30":"border-red-500/30"),style:{backgroundColor:k.success?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[k.success?e.jsx(j,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#10b981"}}):e.jsx(U,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#ef4444"}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",style:{color:k.success?"#10b981":"#ef4444"},children:k.message})})]})}),e.jsxs("div",{className:"flex gap-4",children:[r&&e.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:l.bg.elevated,color:l.text.primary,border:`1px solid ${l.border.default}`},disabled:N,children:"Cancel"}),e.jsx("button",{onClick:async()=>{await(async()=>{if(m.trim()&&h.trim())if(a||c.trim()){w(!0),C(null),S(!0);try{let e=null;if(!a&&c.trim()){const{data:s,error:t}=await o.from("users").select("id").eq("username",c.trim()).single();if(t||!s)throw new Error(`User with username "${c.trim()}" not found`);const{data:r,error:l}=await o.from("profiles").select("id").eq("id",s.id).single();if(l||!r)throw new Error(`Profile not found for user "${c.trim()}"`);e=r.id}S(!1);const s={created_by:t,title:m.trim(),message:h.trim(),announcement_type:y,target_audience:a?f:"all",status:"sent",sent_at:(new Date).toISOString()},{error:r}=await o.from("admin_announcements").insert(s);if(r)throw r;if(a){const{error:e}=await o.from("announcements").insert({admin_id:t,user_id:null,title:m.trim(),content:h.trim(),announcement_type:y,target_audience:f,is_read:!1});if(e)throw e}else if(!a&&e){const{error:s}=await o.from("announcements").insert({admin_id:t,user_id:e,title:m.trim(),content:h.trim(),announcement_type:y,target_audience:"all",is_read:!1});if(s)throw s}C({success:!0,message:a?`${"serious"===y?"ðŸš¨ Serious":"ðŸ“¢ Normal"} announcement sent to ${"all"===f?"all users":"businesses"===f?"business users":`${f}s`} successfully`:`Announcement sent to user @${c.trim()} successfully`}),x(""),b(""),d(""),M([]),q(!1),i(!0),g("normal"),v("all")}catch(e){S(!1),C({success:!1,message:e.message||"Failed to send announcement"})}finally{w(!1)}}else C({success:!1,message:'Please enter a username or select "Send to all users"'});else C({success:!1,message:"Please fill in both title and content"})})(),J()},disabled:N||!m.trim()||!h.trim()||!a&&!c.trim(),className:"flex-1 px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:"#F8FAFC",color:"#000000"},children:N?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4 animate-spin"}),_?"Looking up user...":"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4"}),"Send Announcement"]})})]}),e.jsxs("div",{className:"mt-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:l.text.primary},children:"Sent Announcements"}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:l.bg.active,color:l.text.muted},children:H.length})]}),e.jsx("div",{className:"h-px mb-6",style:{backgroundColor:l.border.subtle}}),X?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(E,{className:"w-5 h-5 animate-spin",style:{color:l.text.muted}})}):0===H.length?e.jsx("p",{className:"text-sm text-center py-8",style:{color:l.text.muted},children:"No announcements sent yet"}):e.jsx("div",{className:"space-y-3",children:H.map(s=>{const t="serious"===s.announcement_type;return e.jsxs("div",{className:"rounded-xl p-4 border flex items-start gap-4",style:{backgroundColor:t?"rgba(239,68,68,0.07)":l.bg.elevated,borderColor:t?"rgba(239,68,68,0.25)":l.border.default},children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[t&&e.jsx(T,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#ef4444"}}),e.jsx("span",{className:"text-sm font-semibold truncate",style:{color:t?"#ef4444":l.text.primary},children:s.title}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full flex-shrink-0",style:{backgroundColor:l.bg.active,color:l.text.muted},children:{all:"All Users",creators:"Creators",artists:"Artists",businesses:"Business",freelancers:"Freelancers"}[s.target_audience]||s.target_audience})]}),e.jsx("p",{className:"text-xs leading-relaxed line-clamp-2",style:{color:l.text.secondary},children:s.message}),e.jsx("p",{className:"text-xs mt-1.5",style:{color:l.text.muted},children:new Date(s.sent_at||s.created_at).toLocaleString()})]}),e.jsx("button",{onClick:()=>(async e=>{K(e);try{await o.from("admin_announcements").delete().eq("id",e),O(s=>s.filter(s=>s.id!==e))}catch(s){}finally{K(null)}})(s.id),disabled:Y===s.id,className:"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:brightness-110 disabled:opacity-40",style:{backgroundColor:"rgba(239,68,68,0.1)",color:"#ef4444"},title:"Delete announcement",children:Y===s.id?e.jsx(E,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx($,{className:"w-3.5 h-3.5"})})]},s.id)})})]})]})]})}function X(){const[d,m]=s.useState("home"),[x,u]=s.useState(!1),{theme:h,setTheme:b,tokens:y}=n(),[g,f]=s.useState([]),[j,A]=s.useState(!1),[T,L]=s.useState(null),[$,z]=s.useState(null),[I,D]=s.useState("personal"),[W,R]=s.useState(null),[X,G]=s.useState(""),[Y,K]=s.useState([]),[Q,Z]=s.useState(!1),[J,ee]=s.useState("pending"),[se,te]=s.useState(null),re=t(),le=s.useRef(!1),ae=s.useRef(null),{admin:ne,sessionToken:oe,verifySession:ie,isAuthenticated:ce,isLoading:de}=r(),{adminFetch:me}=function(){const{admin:e,isAuthenticated:t,hasPermission:n,sessionToken:o}=r();return{admin:e,isAuthenticated:t,can:(e,s)=>n(e,s),getAuthHeaders:()=>{const e={Authorization:`Bearer ${l}`,"Content-Type":"application/json"};return o&&(e["X-Session-Token"]=o),e},adminFetch:s.useCallback(async(e,s={})=>{const t=`${a}/functions/v1/${e}`,r={Authorization:`Bearer ${l}`,"Content-Type":"application/json",...s.headers};o&&(r["X-Session-Token"]=o);const n=await fetch(t,{...s,headers:r});if(!n.ok){const e=await n.json().catch(()=>({message:"Request failed"}));throw new Error(e.message||`HTTP ${n.status}`)}return n.json()},[o]),role:null==e?void 0:e.role,permissions:null==e?void 0:e.permissions}}(),xe=s.useMemo(()=>{if(!X.trim())return g;const e=X.toLowerCase();return g.filter(s=>{var t,r,l,a;return(null==(t=s.email)?void 0:t.toLowerCase().includes(e))||(null==(r=s.full_name)?void 0:r.toLowerCase().includes(e))||(null==(l=s.username)?void 0:l.toLowerCase().includes(e))||(null==(a=s.user_type)?void 0:a.toLowerCase().includes(e))})},[g,X]);s.useEffect(()=>{const e=setInterval(()=>{},3e5);return()=>clearInterval(e)},[]),s.useEffect(()=>{(async()=>{if(ne&&("messages"===d||"alerts"===d)){const e=await S();e&&R(e)}})()},[ne,d]);const ue=s.useCallback(async()=>{Z(!0);try{const{data:e,error:s}=await o.from("applications").select("*").order("created_at",{ascending:!1});s||K(e||[])}catch(e){}finally{Z(!1)}},[]);s.useEffect(()=>{"applications"===d&&ue()},[d,ue]);const he=async(e,s)=>{te(e);try{const{error:t}=await o.from("applications").update({status:s,reviewed_at:(new Date).toISOString()}).eq("id",e);t||K(t=>t.map(t=>t.id===e?{...t,status:s}:t))}catch(t){}finally{te(null)}};s.useEffect(()=>{if("users"!==d&&"applications"!==d)return le.current=!1,void(ae.current=null);if("users"===ae.current)return;if(le.current)return;return(async()=>{if(!oe)return L("Session expired. Please log in again."),A(!1),void setTimeout(()=>{re("/admin/login")},2e3);if(!(await ie())||!ce)return L("Session expired. Redirecting to login..."),A(!1),void setTimeout(()=>{re("/admin/login")},2e3);if(!me)return L("Admin authentication not available. Please log in again."),void A(!1);le.current=!0,ae.current="users";(async()=>{A(!0),L(null),f([]);const e=setTimeout(()=>{L("Request timeout. Please check your connection and try again."),A(!1),le.current=!1},3e4);try{const s=await me("admin-users",{method:"GET"});if(clearTimeout(e),!s||!1===s.success){const e=(null==s?void 0:s.message)||"Failed to fetch users";throw new Error(e)}{const e=s.users||s.data||[];if(!Array.isArray(e))throw new Error("Invalid response format: users is not an array.");f(e),L(null),A(!1),ae.current="users"}}catch(s){clearTimeout(e);let t="Failed to load users.";"AbortError"===(null==s?void 0:s.name)?t="Request timeout. The Edge Function may not be responding.":(null==s?void 0:s.message)&&(t=s.message,s.message.includes("404")||s.message.includes("Not Found")?t="Edge Function not found. Please deploy the admin-users Edge Function.":s.message.includes("401")||s.message.includes("Unauthorized")?t="Unauthorized. Please check your admin session and log in again.":s.message.includes("403")||s.message.includes("Permission")?t="Permission denied. You do not have access to view users.":s.message.includes("Failed to fetch")&&(t="Network error: Unable to connect.")),L(t),f([]),A(!1),ae.current=null}finally{le.current=!1}})()})(),()=>{le.current=!1}},[d,me,oe,ie,ce,re]);const pe=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return de||!ne?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:y.bg.primary},children:e.jsx(i,{text:"Loading dashboard..."})}):e.jsxs(e.Fragment,{children:[e.jsx(v,{userId:W,activeSection:d,onNavigateToMessages:()=>m("messages"),theme:h}),e.jsxs("div",{className:"min-h-screen text-white flex transition-colors duration-300",style:{backgroundColor:y.bg.primary},children:[e.jsx(N,{activeSection:d,setActiveSection:m,userProfile:null,unreadCount:0,cachedProfilePic:w,isCollapsed:x,onCollapsedChange:u,userType:"admin"}),e.jsx(k,{activeSection:d,setActiveSection:m,unreadCount:0,profilePicture:w,backgroundTheme:h,userType:"admin"}),e.jsxs("main",{className:"flex-1 min-h-screen pb-20 lg:pb-0 transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] "+(x?"lg:ml-[80px]":"lg:ml-[240px]"),style:{backgroundColor:y.bg.primary},children:["messages"===d&&e.jsx("div",{className:"animate-fade-in flex-1 flex flex-col min-h-0 overflow-hidden h-[calc(100vh-80px)] lg:h-screen",children:W?e.jsx(H,{currentAdminId:W}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:y.text.muted,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:y.text.muted,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{backgroundColor:y.text.muted,animationDelay:"300ms"}})]})})}),"messages"!==d&&e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-6 sm:py-12",children:["home"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight mb-2",style:{color:y.text.primary},children:"Welcome back, Super Admin"}),e.jsx("p",{className:"text-base",style:{color:y.text.secondary},children:"Manage your platform from here"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:y.bg.elevated,border:`1px solid ${y.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"Applications"}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Review pending creator applications"})]}),e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:y.bg.elevated,border:`1px solid ${y.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"Users"}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Manage all registered users"})]}),e.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:y.bg.elevated,border:`1px solid ${y.border.subtle}`},children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"Alerts"}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Send announcements to users"})]})]})]}),"applications"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6 flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight mb-1",style:{color:y.text.primary},children:"Applications"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:y.text.secondary},children:"Freelancer onboarding and creator social verification requests"})]}),e.jsx("div",{className:"flex gap-2",children:["pending","approved","denied"].map(s=>e.jsxs("button",{onClick:()=>ee(s),className:"px-3 py-1.5 rounded-lg text-xs font-semibold capitalize transition-all",style:{backgroundColor:J===s?y.bg.active:"transparent",color:J===s?y.text.primary:y.text.muted,border:`1px solid ${J===s?y.border.default:y.border.subtle}`},children:[s,e.jsx("span",{className:"ml-1.5 opacity-60",children:Y.filter(e=>e.status===s).length})]},s))})]}),Q?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(i,{text:"Loading..."})}):(()=>{const s=Y.filter(e=>e.status===J);return 0===s.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:y.bg.elevated},children:e.jsx(M,{className:"w-8 h-8",style:{color:y.text.muted}})}),e.jsxs("h3",{className:"text-xl font-bold mb-2",style:{color:y.text.primary},children:["No ",J," applications"]}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Applications will appear here once submitted"})]})}):e.jsx("div",{className:"space-y-8",children:[{type:"freelancer_onboarding",label:"Freelancer Onboarding",color:"#60a5fa"},{type:"creator_verification",label:"Creator Verification",color:"#a78bfa"}].map(({type:t,label:r,color:l})=>{const a=s.filter(e=>e.application_type===t);return 0===a.length?null:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:y.text.primary},children:r}),e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full",style:{backgroundColor:y.bg.active,color:l},children:a.length})]}),e.jsx("div",{className:"h-px mb-4",style:{backgroundColor:y.border.subtle}}),e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsx("div",{className:"rounded-xl p-5 border",style:{backgroundColor:y.bg.elevated,borderColor:y.border.default},children:e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold",style:{color:y.text.primary},children:s.full_name||s.username||"Unknown"}),s.username&&e.jsxs("span",{className:"text-xs",style:{color:y.text.muted},children:["@",s.username]}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:"pending"===s.status?"rgba(251,191,36,0.1)":"approved"===s.status?"rgba(16,185,129,0.1)":"rgba(239,68,68,0.1)",color:"pending"===s.status?"#fbbf24":"approved"===s.status?"#10b981":"#ef4444"},children:s.status})]}),s.email&&e.jsx("p",{className:"text-xs mb-2",style:{color:y.text.muted},children:s.email}),"freelancer_onboarding"===s.application_type&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-6 gap-y-1 mt-2",children:[s.professional_title&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Title: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:s.professional_title})]}),s.category&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Category: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:s.category})]}),null!=s.hourly_rate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Rate: "}),e.jsxs("span",{className:"text-xs",style:{color:y.text.secondary},children:["$",s.hourly_rate,"/hr"]})]}),(s.city||s.country)&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Location: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:[s.city,s.country].filter(Boolean).join(", ")})]}),s.skills&&s.skills.length>0&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Skills: "}),e.jsxs("span",{className:"text-xs",style:{color:y.text.secondary},children:[s.skills.slice(0,5).join(", "),s.skills.length>5?" +"+(s.skills.length-5):""]})]})]}),"creator_verification"===s.application_type&&e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 mt-2",children:[s.platform&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Platform: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:s.platform})]}),s.channel_type&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Type: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:s.channel_type})]}),s.social_url&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"URL: "}),e.jsxs("a",{href:s.social_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs inline-flex items-center gap-1 hover:underline",style:{color:"#60a5fa"},children:[s.social_url.replace(/^https?:\/\//i,"").slice(0,50),e.jsx(q,{className:"w-3 h-3"})]})]}),s.channel_description&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Description: "}),e.jsx("span",{className:"text-xs",style:{color:y.text.secondary},children:s.channel_description})]})]}),e.jsxs("p",{className:"text-xs mt-2",style:{color:y.text.muted},children:["Submitted ",pe(s.created_at)]})]}),"pending"===s.status&&e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>he(s.id,"approved"),disabled:se===s.id,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"rgba(16,185,129,0.15)",color:"#10b981",border:"1px solid rgba(16,185,129,0.3)"},children:[se===s.id?e.jsx(E,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(M,{className:"w-3.5 h-3.5"}),"Approve"]}),e.jsxs("button",{onClick:()=>he(s.id,"denied"),disabled:se===s.id,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all hover:brightness-110 disabled:opacity-50",style:{backgroundColor:"rgba(239,68,68,0.1)",color:"#ef4444",border:"1px solid rgba(239,68,68,0.25)"},children:[se===s.id?e.jsx(E,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(V,{className:"w-3.5 h-3.5"}),"Deny"]})]})]})},s.id))})]},t)})})})()]}),"alerts"===d&&e.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in",children:W?e.jsx(O,{adminId:W}):e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:e.jsx(i,{text:"Loading..."})})}),"users"===d&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",style:{color:y.text.primary},children:"All Users"}),g.length>0&&e.jsxs("span",{className:"text-sm font-medium px-3 py-1 rounded-lg",style:{backgroundColor:y.bg.active,color:y.text.muted},children:[xe.length,xe.length!==g.length?` / ${g.length}`:""," ",1===g.length?"user":"users"]})]}),e.jsx("p",{className:"text-sm sm:text-base mb-4",style:{color:y.text.secondary},children:"View and manage all registered users (Creators, Artists, Business)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(p,{className:"w-4 h-4",style:{color:y.text.muted}})}),e.jsx("input",{type:"text",value:X,onChange:e=>G(e.target.value),placeholder:"Search by name, email, username, or type...",className:"w-full h-10 pl-9 pr-4 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-white/10 transition-all",style:{color:y.text.primary,background:y.bg.elevated,border:`1px solid ${y.border.default}`}}),X&&e.jsx("button",{onClick:()=>G(""),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:opacity-70 transition-opacity",children:e.jsx(U,{className:"w-4 h-4",style:{color:y.text.muted}})})]})]}),j?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(i,{text:"Loading users..."})}):T?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:y.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:y.text.primary},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:y.text.primary},children:"Error Loading Users"}),e.jsx("p",{className:"text-sm sm:text-base mb-4",style:{color:y.text.secondary},children:T}),e.jsx("button",{onClick:()=>{le.current=!1,ae.current=null,L(null),m("home"),setTimeout(()=>m("users"),100)},className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:y.bg.elevated,color:y.text.primary,border:`1px solid ${y.border.subtle}`},children:"Retry"})]})}):0===g.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:y.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:y.text.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:y.text.primary},children:"No users found"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:y.text.secondary},children:"User data will appear here"})]})}):0===xe.length?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:y.bg.elevated},children:e.jsx(p,{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:y.text.muted}})}),e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:y.text.primary},children:['No results for "',X,'"']}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:y.text.secondary},children:"Try searching by name, email, username, or account type"})]})}):e.jsx("div",{className:"rounded-xl sm:rounded-2xl overflow-hidden",style:{backgroundColor:y.bg.elevated},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",style:{borderColor:y.border.subtle},children:[e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Email"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Name"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Username"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Type"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Status"}),e.jsx("th",{className:"text-left py-4 px-4 sm:px-6 text-xs font-semibold uppercase tracking-wider",style:{color:y.text.muted},children:"Created"})]})}),e.jsx("tbody",{children:xe.map((s,t)=>e.jsxs("tr",{onClick:()=>{z(s),D("personal")},className:"border-b transition-colors hover:brightness-105 cursor-pointer",style:{borderColor:t===xe.length-1?"transparent":y.border.default},children:[e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm font-medium",style:{color:y.text.primary},children:s.email})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.full_name?y.text.primary:y.text.muted},children:s.full_name||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.username?y.text.primary:y.text.muted},children:s.username||"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:s.user_type?y.text.primary:y.text.muted},children:s.user_type?s.user_type.charAt(0).toUpperCase()+s.user_type.slice(1):"â€”"})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.verified&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:y.bg.active,color:"#10b981"},children:"Verified"}),s.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:y.bg.active,color:"#3b82f6"},children:"Complete"}),!s.verified&&!s.profile_completed&&e.jsx("span",{className:"text-xs",style:{color:y.text.muted},children:"Pending"})]})}),e.jsx("td",{className:"py-4 px-4 sm:px-6",children:e.jsx("div",{className:"text-sm",style:{color:y.text.muted},children:pe(s.created_at)})})]},s.id))})]})})})]}),"data"===d&&e.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] animate-fade-in",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",style:{backgroundColor:y.bg.elevated},children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",style:{color:y.text.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",style:{color:y.text.primary},children:"No data yet"}),e.jsx("p",{className:"text-sm sm:text-base",style:{color:y.text.secondary},children:"Revenue and analytics data will appear here"})]})}),"settings"===d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden px-4 pt-4",children:e.jsx(C,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderAccountType:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"light"===h?c.light.bg.primary:"grey"===h?c.grey.bg.primary:c.dark.bg.primary,borderColor:"light"===h?c.light.border.subtle:"grey"===h?c.grey.border.subtle:c.dark.border.subtle},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"light"===h?c.light.bg.elevated:"grey"===h?c.grey.bg.elevated:c.dark.bg.elevated},children:e.jsx("img",{src:w,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold text-white",children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3 text-white",children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Background Theme"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#0F172A"},onClick:()=>b("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===h?"bg-white border-white":"bg-white border-gray-400"),children:"light"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#1A1A1E"},onClick:()=>b("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===h?"bg-white border-white":"bg-white border-gray-400"),children:"grey"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#000000"},onClick:()=>b("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===h?"bg-white border-white":"bg-white border-gray-400"),children:"dark"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pure black background (default)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-3 lg:pb-6 border-b",style:{borderColor:y.border.subtle},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:y.text.primary},children:"Collapse sidebar"}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Minimize the sidebar to show only icons"})]}),e.jsx("button",{type:"button",onClick:()=>u(!x),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:x?y.bg.active:y.bg.elevated},children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:x?"translateX(1.25rem)":"translateX(0.25rem)"}})})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsx("div",{}),renderSendFeedback:()=>e.jsx("div",{}),renderLogOut:()=>e.jsx("div",{className:"px-4 py-8",children:e.jsx("div",{className:"max-w-md",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"w-full sm:w-auto px-6 py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",children:"Log Out"})})}),isMobile:!0,onBack:()=>m("home"),userType:"admin",appliedTheme:h})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(C,{renderPersonalInfo:()=>e.jsx("div",{}),renderConnectedAccounts:()=>e.jsx("div",{}),renderAccountType:()=>e.jsx("div",{}),renderPayoutMethods:()=>e.jsx("div",{}),renderDisplay:()=>e.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Preview"}),e.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7 border transition-all duration-300",style:{backgroundColor:"light"===h?c.light.bg.primary:"grey"===h?c.grey.bg.primary:c.dark.bg.primary,borderColor:"light"===h?c.light.border.subtle:"grey"===h?c.grey.border.subtle:c.dark.border.subtle},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",style:{backgroundColor:"light"===h?c.light.bg.elevated:"grey"===h?c.grey.bg.elevated:c.dark.bg.elevated},children:e.jsx("img",{src:w,alt:"Elevate",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:e.jsx("h4",{className:"font-semibold text-white",children:"Elevate"})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"mb-3 text-white",children:"Explore opportunities to earn, invest, and connect with top talent. Elevate brings everything you need to scale and succeed into one unified ecosystem."})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Background Theme"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("light"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#0F172A"},onClick:()=>b("light"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("light"===h?"bg-white border-white":"bg-white border-gray-400"),children:"light"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-blue-900 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-blue-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Navy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Navy blue background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("grey"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#1A1A1E"},onClick:()=>b("grey"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("grey"===h?"bg-white border-white":"bg-white border-gray-400"),children:"grey"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-800 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-700 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Grey"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Dim background"})]}),e.jsxs("div",{className:"relative rounded-xl sm:rounded-2xl p-5 sm:p-7 border-2 cursor-pointer transition-all duration-200 "+("dark"===h?"border-white":"border-gray-600"),style:{backgroundColor:"#000000"},onClick:()=>b("dark"),children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 "+("dark"===h?"bg-white border-white":"bg-white border-gray-400"),children:"dark"===h&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full h-20 rounded-lg bg-gray-900 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-800 rounded w-1/2"})]}),e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Dark"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pure black background (default)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm lg:text-lg font-semibold mb-3 lg:mb-6",style:{color:y.text.primary},children:"Sidebar"}),e.jsx("div",{className:"space-y-3 lg:space-y-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-3 lg:pb-6 border-b",style:{borderColor:y.border.subtle},children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-base font-semibold mb-1",style:{color:y.text.primary},children:"Collapse sidebar"}),e.jsx("p",{className:"text-sm",style:{color:y.text.secondary},children:"Minimize the sidebar to show only icons"})]}),e.jsx("button",{type:"button",onClick:()=>u(!x),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:x?y.bg.active:y.bg.elevated},children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:x?"translateX(1.25rem)":"translateX(0.25rem)"}})})]})})]})]}),renderLanguages:()=>e.jsx("div",{}),renderNotifications:()=>e.jsx("div",{}),renderSendFeedback:()=>e.jsx("div",{}),renderLogOut:()=>e.jsx("div",{className:"px-4 py-8",children:e.jsx("div",{className:"max-w-md",children:e.jsx("button",{onClick:()=>{window.location.href="/admin/login"},className:"w-full sm:w-auto px-6 py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors",children:"Log Out"})})}),userType:"admin",appliedTheme:h})})]})]})]}),$&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:()=>z(null)}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>z(null),children:e.jsxs("div",{className:"w-full max-w-4xl h-[75vh] rounded-2xl overflow-hidden flex animate-scale-in",style:{backgroundColor:y.bg.modal},onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"w-64 flex-shrink-0 p-6",style:{backgroundColor:y.bg.elevated},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:y.text.primary},children:"User Details"}),e.jsx("button",{onClick:()=>z(null),className:"p-2 rounded-lg transition-colors hover:brightness-110",style:{backgroundColor:y.bg.active,color:y.text.primary},children:e.jsx(U,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>D("personal"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("personal"===I?"":"hover:brightness-110"),style:{backgroundColor:"personal"===I?y.bg.active:"transparent",color:y.text.primary},children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Personal info"})]}),e.jsxs("button",{onClick:()=>D("connected"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("connected"===I?"":"hover:brightness-110"),style:{backgroundColor:"connected"===I?y.bg.active:"transparent",color:y.text.primary},children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Connected accounts"})]}),e.jsxs("button",{onClick:()=>D("payment"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("payment"===I?"":"hover:brightness-110"),style:{backgroundColor:"payment"===I?y.bg.active:"transparent",color:y.text.primary},children:[e.jsx(B,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Payment Method"})]}),e.jsxs("button",{onClick:()=>D("notifications"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all "+("notifications"===I?"":"hover:brightness-110"),style:{backgroundColor:"notifications"===I?y.bg.active:"transparent",color:y.text.primary},children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Notifications"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8",children:["personal"===I&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:y.text.primary},children:"Personal Information"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"View and manage user's personal details"})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:y.text.primary},children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"Email"}),e.jsx("p",{className:"text-sm",style:{color:y.text.primary},children:$.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"Full Name"}),e.jsx("p",{className:"text-sm",style:{color:$.full_name?y.text.primary:y.text.muted},children:$.full_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"Username"}),e.jsx("p",{className:"text-sm",style:{color:$.username?y.text.primary:y.text.muted},children:$.username||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"User Type"}),e.jsx("p",{className:"text-sm",style:{color:y.text.primary},children:$.user_type?$.user_type.charAt(0).toUpperCase()+$.user_type.slice(1):"Not specified"})]})]})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:y.text.primary},children:"Status"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-2 block",style:{color:y.text.muted},children:"Account Status"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[$.verified&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:y.bg.active,color:"#10b981"},children:"Verified"}),$.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:y.bg.active,color:"#3b82f6"},children:"Profile Complete"}),!$.verified&&!$.profile_completed&&e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:y.bg.active,color:y.text.muted},children:"Pending"})]})]})})]}),e.jsxs("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",style:{color:y.text.primary},children:"Account Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"User ID"}),e.jsx("p",{className:"text-sm font-mono break-all",style:{color:y.text.muted},children:$.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"Created At"}),e.jsx("p",{className:"text-sm",style:{color:y.text.primary},children:pe($.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium uppercase tracking-wider mb-1 block",style:{color:y.text.muted},children:"Last Updated"}),e.jsx("p",{className:"text-sm",style:{color:y.text.primary},children:pe($.updated_at)})]})]})]})]}),"connected"===I&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:y.text.primary},children:"Connected Accounts"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"View user's connected social media and third-party accounts"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:y.bg.active},children:e.jsx(_,{className:"w-8 h-8",style:{color:y.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"No connected accounts"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"This user hasn't connected any external accounts yet"})]})})})]}),"payment"===I&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:y.text.primary},children:"Payment Method"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"View user's payment and payout methods"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:y.bg.active},children:e.jsx(B,{className:"w-8 h-8",style:{color:y.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"No payment methods"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"This user hasn't added any payment methods yet"})]})})})]}),"notifications"===I&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:y.text.primary},children:"Notifications"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"View user's notification preferences and history"})]}),e.jsx("div",{className:"rounded-xl p-5",style:{backgroundColor:y.bg.elevated},children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:y.bg.active},children:e.jsx(F,{className:"w-8 h-8",style:{color:y.text.muted}})}),e.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:y.text.primary},children:"No notifications"}),e.jsx("p",{className:"text-sm",style:{color:y.text.muted},children:"No notification history available for this user"})]})})})]})]})]})})]})]})]})}export{X as AdminDashboard};
