import{j as e}from"./spline-OfIZ-5GP.js";import{u as s,r as l}from"./react-vendor-ClpDbY_3.js";import{d as t,s as r}from"./index-B-5CwU3e.js";import{C as a}from"./check-circle-SkqpIt3t.js";import{A as i}from"./alert-circle-BC14ilB7.js";import{L as o}from"./loader-2-CQySOwBf.js";import"./supabase-Dq2D-Wrk.js";import"./createLucideIcon-DkpiXdJH.js";function n(){const n=s(),{profileData:c,clearProfileData:m}=t(),[d,u]=l.useState(!1),[f,x]=l.useState(!1),[y,p]=l.useState(null);return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",style:{background:"#000000"},children:e.jsxs("div",{className:"max-w-lg w-full text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:"rgba(16, 185, 129, 0.1)"},children:e.jsx(a,{className:"w-10 h-10",style:{color:"#10b981"}})}),e.jsx("h1",{className:"text-3xl font-semibold mb-3",style:{fontFamily:"Inter, system-ui, sans-serif",color:"#ffffff"},children:"Application submitted!"}),e.jsx("p",{className:"text-base mb-8",style:{fontFamily:"Inter, system-ui, sans-serif",color:"var(--text-primary)"},children:"Your freelancer application is under review. We'll notify you once it's been approved."}),e.jsx("button",{onClick:()=>n("/dashboard/freelancer"),className:"px-8 py-3 rounded-lg font-medium text-base transition-all duration-200 hover:brightness-95",style:{backgroundColor:"#ffffff",color:"#000000",fontFamily:"Inter, system-ui, sans-serif"},children:"Go to dashboard"})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",style:{background:"#000000",backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E\")"},children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-sm mb-2",style:{fontFamily:"Inter, system-ui, sans-serif",color:"var(--text-primary)"},children:"Final step"}),e.jsx("div",{className:"h-1 rounded-full",style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("div",{className:"h-full rounded-full",style:{backgroundColor:"var(--text-primary)",width:"100%"}})})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-normal mb-3",style:{fontFamily:"Inter, system-ui, sans-serif",color:"#ffffff"},children:"Review and submit your profile"}),e.jsx("p",{className:"text-base mb-10",style:{fontFamily:"Inter, system-ui, sans-serif",color:"var(--text-primary)"},children:"Once submitted, our team will review your application. You'll be notified when it's approved."}),e.jsxs("div",{className:"rounded-xl p-6 mb-8 space-y-4",style:{backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.1)"},children:[c.professionalTitle&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-primary)"},children:"TITLE"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:c.professionalTitle})]}),c.selectedCategoryName&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-primary)"},children:"CATEGORY"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:c.selectedCategoryName})]}),c.selectedSkills&&c.selectedSkills.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-primary)"},children:"SKILLS"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[c.selectedSkills.slice(0,5).join(", "),c.selectedSkills.length>5?` +${c.selectedSkills.length-5} more`:""]})]}),c.hourlyRate?e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-primary)"},children:"HOURLY RATE"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:["$",c.hourlyRate,"/hr"]})]}):null,c.country&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-primary)"},children:"LOCATION"}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[c.city,c.country].filter(Boolean).join(", ")})]})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 p-4 rounded-xl",style:{backgroundColor:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)"},children:[e.jsx(i,{className:"w-4 h-4 flex-shrink-0",style:{color:"#ef4444"}}),e.jsx("p",{className:"text-sm",style:{color:"#ef4444"},children:y})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>n(-1),className:"px-6 py-3 rounded-lg font-medium text-base transition-all duration-200 hover:brightness-95",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"#ffffff",fontFamily:"Inter, system-ui, sans-serif"},children:"Back"}),e.jsx("button",{onClick:async()=>{u(!0),p(null);try{const{data:{user:e}}=await r.auth.getUser(),s=localStorage.getItem("verifiedUserId"),l=(null==e?void 0:e.id)||s;if(!l)return void p("Session expired. Please log in again.");const{data:t}=await r.from("users").select("email, full_name, username").eq("id",l).maybeSingle(),{error:a}=await r.from("applications").insert({user_id:l,application_type:"freelancer_onboarding",status:"pending",full_name:(null==t?void 0:t.full_name)||`${c.firstName||""} ${c.lastName||""}`.trim()||null,email:(null==t?void 0:t.email)||null,username:(null==t?void 0:t.username)||c.username||null,professional_title:c.professionalTitle||null,category:c.selectedCategoryName||c.selectedCategory||null,skills:c.selectedSkills&&c.selectedSkills.length>0?c.selectedSkills:null,hourly_rate:c.hourlyRate||null,bio:c.bio||null,country:c.country||null,city:c.city||null});if(a)throw a;m(),x(!0)}catch(e){p(e.message||"Failed to submit application. Please try again.")}finally{u(!1)}},disabled:d,className:"px-8 py-3 rounded-lg font-medium text-base transition-all duration-200 hover:brightness-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2",style:{backgroundColor:"#ffffff",color:"#000000",fontFamily:"Inter, system-ui, sans-serif"},children:d?e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):"Submit application"})]})]})})}export{n as default};
