import{j as e}from"./spline-OfIZ-5GP.js";import{r as t,u as r}from"./react-vendor-ClpDbY_3.js";import{e as s}from"./index-FbpD5WL4.js";import"./supabase-Dq2D-Wrk.js";function a(){const[a,l]=t.useState(""),[n,o]=t.useState(""),[i,d]=t.useState(""),[c,u]=t.useState(!1),[x,p]=t.useState(null),[m,h]=t.useState(!1),[b,g]=t.useState(!1),[f,w]=t.useState(window.innerWidth<640),v=r(),{login:j}=s();t.useEffect(()=>{const e=setTimeout(()=>{g(!0)},100);return()=>clearTimeout(e)},[]),t.useEffect(()=>{const e=()=>w(window.innerWidth<640);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const y=async e=>{e.preventDefault(),p(null),h(!0);try{const e=await j(a,n,i||void 0);e.success?v("/admin/dashboard",{replace:!0}):(p(e.message||"Login failed"),e.requiresTotp&&u(!0))}catch(t){p(t.message||"An error occurred")}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center relative overflow-hidden py-8 sm:py-12 px-6",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E\")"},children:[e.jsxs("button",{onClick:()=>v("/"),className:"fixed top-6 left-6 z-50 flex items-center gap-1.5 text-gray-400 hover:text-white transition-colors group",children:[e.jsx("svg",{className:"w-4 h-4 transition-transform group-hover:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),!f&&e.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none transition-opacity duration-700 ease-out overflow-hidden",style:{opacity:b?1:0,transform:"translateX(30%) scale(1.035)"},children:e.jsx("spline-viewer",{url:"https://prod.spline.design/hxB6DGH8u6Rcpq21/scene.splinecode","mouse-controls":"false",className:"spline-viewer-no-watermark"})}),e.jsxs("div",{className:"relative z-10 w-full max-w-sm flex flex-col items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-white mb-1",children:"Admin Login"}),e.jsx("p",{className:"text-neutral-400 text-sm mb-6",children:"Sign in to access the admin dashboard"}),e.jsx("div",{className:"w-full p-6 relative overflow-hidden",style:{background:"rgba(10, 10, 15, 0.65)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"16px",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.03)"},children:e.jsxs("form",{onSubmit:y,className:"space-y-4 relative z-10",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-neutral-400 text-xs mb-1.5",children:"Email"}),e.jsx("input",{type:"email",value:a,onChange:e=>l(e.target.value),required:!0,onKeyDown:e=>{"Enter"===e.key&&a&&n&&!m&&!c&&y(e)},className:"h-11 w-full px-4 bg-transparent border border-neutral-700 text-white placeholder:text-neutral-500 rounded-lg focus:border-neutral-500 focus:outline-none",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-neutral-400 text-xs mb-1.5",children:"Password"}),e.jsx("input",{type:"password",value:n,onChange:e=>o(e.target.value),required:!0,onKeyDown:e=>{"Enter"===e.key&&a&&n&&!m&&!c&&y(e)},className:"h-11 w-full px-4 bg-transparent border border-neutral-700 text-white placeholder:text-neutral-500 rounded-lg focus:border-neutral-500 focus:outline-none",placeholder:"Enter your password"})]}),c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-neutral-400 text-xs mb-1.5",children:"Two-Factor Authentication Code"}),e.jsx("input",{type:"text",value:i,onChange:e=>d(e.target.value.replace(/\D/g,"").slice(0,6)),required:!0,className:"h-11 w-full px-4 bg-transparent border border-neutral-700 text-white placeholder:text-neutral-500 rounded-lg focus:border-neutral-500 focus:outline-none text-center text-lg tracking-widest",placeholder:"000000",maxLength:6}),e.jsx("p",{className:"text-neutral-500 text-xs mt-1.5 text-center",children:"Enter the 6-digit code from your authenticator app"})]}),x&&e.jsx("p",{className:"text-red-500 text-xs",children:x}),e.jsx("button",{type:"submit",disabled:m||!a||!n||c&&!i,className:"w-full h-11 rounded-lg transition-all duration-300 "+(!a||!n||c&&!i||m?"bg-neutral-800 text-neutral-500 border border-neutral-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-neutral-800":"text-black hover:opacity-95"),style:!a||!n||c&&!i||m?{}:{background:"#E8E8E8"},children:m?"Signing in...":"Sign in"})]})})]})]})}export{a as AdminLoginPage};
