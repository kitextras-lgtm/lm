import{c as e}from"./createLucideIcon-DApH4y_Q.js";import{j as s}from"./spline-DN92G9fQ.js";import{r as t,e as r,u as n}from"./react-vendor-C5CBPnGl.js";import{s as o,S as a,a as l}from"./index-DxFs0pY3.js";import{L as i,X as c,C as d,u as x,a as m,b as h,d as u,c as p,S as f,M as y,U as g,e as j,A as b,D as v}from"./debounce-BXBQ5-RS.js";import{P as w}from"./plus-huPEdIgT.js";import{C as k}from"./chevron-down-BtUUkoj_.js";import{A as C}from"./arrow-left-D6ZoFILw.js";import{C as N,M as F}from"./map-pin-D8GFr4Pd.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),A=e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),W=e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),M=e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),B=e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),S=e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),_=e("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),H=e("Twitch",[["path",{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7",key:"c0yzno"}]]),V=e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),E=e("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function O(){return s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"home-icon-wrapper",style:{width:"48px",height:"48px",overflow:"visible"},children:s.jsxs("div",{className:"relative",style:{width:"48px",height:"48px",overflow:"visible"},children:[s.jsx("div",{className:"absolute",style:{left:0,top:0,width:"48px",height:"48px",overflow:"visible"},children:s.jsx(i,{className:"animate-link-left",size:48,strokeWidth:2.5,style:{clipPath:"polygon(0 0, 50% 0, 50% 100%, 0 100%)",color:"#F8FAFC"}})}),s.jsx("div",{className:"absolute",style:{left:0,top:0,width:"48px",height:"48px",overflow:"visible"},children:s.jsx(i,{className:"animate-link-right",size:48,strokeWidth:2.5,style:{clipPath:"polygon(50% 0, 100% 0, 100% 100%, 50% 100%)",color:"#F8FAFC"}})})]})})})}const X={YouTube:e("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Instagram:S,TikTok:_,Twitter:V,Twitch:H,Other:i},Y=["YouTube","Instagram","TikTok","Twitter","Twitch","Other"];function I({value:e,options:r,onChange:n,platformIcons:o}){const[a,l]=t.useState(!1),c=t.useRef(null);t.useEffect(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&l(!1)};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]);const d=o[e]||i;return s.jsxs("div",{className:"relative",ref:c,children:[s.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 flex items-center justify-between group",style:{backgroundColor:"#1a1a1e",color:"#F8FAFC"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#0f0f13",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#1a1a1e",e.currentTarget.style.transform="translateY(0)"},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"w-4 h-4 transition-all duration-200 group-hover:scale-110",style:{color:"#F8FAFC"}}),s.jsx("span",{className:"transition-all duration-200",children:e})]}),s.jsx(k,{className:"w-4 h-4 transition-all duration-200 group-hover:scale-110 "+(a?"rotate-180":""),style:{color:"#94A3B8"}})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-1 rounded-lg shadow-xl overflow-hidden animate-fade-in-down",style:{backgroundColor:"#1a1a1e",border:"1px solid rgba(75, 85, 99, 0.2)"},children:s.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.map(t=>{const r=o[t]||i,a=t===e;return s.jsxs("button",{type:"button",onClick:()=>{n(t),l(!1)},className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 text-left text-sm transition-all duration-200 flex items-center gap-2 group/option relative",style:{backgroundColor:a?"#0f0f13":"transparent",color:"#F8FAFC"},onMouseEnter:e=>{a||(e.currentTarget.style.backgroundColor="#0f0f13"),e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{a||(e.currentTarget.style.backgroundColor="transparent"),e.currentTarget.style.transform="translateX(0)"},children:[s.jsxs("div",{className:"relative group/icon",children:[s.jsx(r,{className:"w-4 h-4 transition-all duration-300 group-hover/option:scale-125 group-hover/option:rotate-12 group-hover/icon:scale-150 group-hover/icon:rotate-180",style:{color:"#F8FAFC"}}),s.jsx("div",{className:"absolute inset-0 w-4 h-4 rounded-full opacity-0 group-hover/icon:opacity-20 group-hover/icon:scale-150 transition-all duration-300",style:{backgroundColor:"#F8FAFC"}})]}),s.jsx("span",{className:"transition-all duration-200",children:t}),a&&s.jsx("span",{className:"ml-auto text-xs transition-all duration-200",style:{color:"#94A3B8"},children:"✓"})]},t)})})})]})}function $(){const[e,r]=t.useState([]),[n,a]=t.useState(!1),[l,d]=t.useState({platform:"YouTube",url:"",display_name:""}),[x,m]=t.useState(!0);t.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:e}}=await o.auth.getUser();if(!e)return;const{data:s,error:t}=await o.from("social_links").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(t)throw t;r(s||[])}catch(e){}finally{m(!1)}};return x?s.jsx("div",{className:"rounded-xl sm:rounded-2xl p-6 sm:p-8",style:{backgroundColor:"#1a1a1e"},children:s.jsx("div",{className:"text-center",style:{color:"#94A3B8"},children:"Loading..."})}):s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7",style:{backgroundColor:"#1a1a1e"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-5 sm:mb-6",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:"My Social Links"}),!n&&s.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110",style:{backgroundColor:"#111111",color:"#F8FAFC"},children:[s.jsx(w,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Link"})]})]}),n&&s.jsx("div",{className:"mb-5 p-4 sm:p-5 rounded-xl",style:{backgroundColor:"#111111"},children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#94A3B8"},children:"Platform"}),s.jsx(I,{value:l.platform,options:Y,onChange:e=>d({...l,platform:e}),platformIcons:X})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#94A3B8"},children:"URL"}),s.jsx("input",{type:"text",value:l.url,onChange:e=>d({...l,url:e.target.value}),className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:"#1a1a1e",color:"#F8FAFC"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",style:{color:"#94A3B8"},children:"Display Name (optional)"}),s.jsx("input",{type:"text",value:l.display_name,onChange:e=>d({...l,display_name:e.target.value}),placeholder:"My Channel",className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:"#1a1a1e",color:"#F8FAFC"}})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[s.jsx("button",{onClick:async()=>{if(l.url.trim())try{const{data:{user:e}}=await o.auth.getUser();if(!e)return;const s=(e=>{let s=e.trim();return s=s.replace(/\/+$/,""),s.match(/^https?:\/\//i)||(s="https://"+s),s})(l.url),{data:t,error:r}=await o.from("social_links").select("id").eq("url",s).limit(1);if(t&&t.length>0)return void alert("This link has already been registered by another user. Please use a different link.");const{error:n}=await o.from("social_links").insert({user_id:e.id,platform:l.platform,url:s,display_name:l.display_name.trim()||l.platform});if(n){if("23505"!==n.code)throw n;return void alert("This link has already been registered by another user. Please use a different link.")}await h(),d({platform:"YouTube",url:"",display_name:""}),a(!1)}catch(e){e&&"object"==typeof e&&"code"in e&&"23505"!==e.code&&alert("Error adding link. Please try again.")}},className:"flex-1 px-4 py-2 sm:py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110",style:{backgroundColor:"#F8FAFC",color:"#111111"},children:"Save"}),s.jsx("button",{onClick:()=>{a(!1),d({platform:"YouTube",url:"",display_name:""})},className:"px-4 py-2 sm:py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-90",style:{backgroundColor:"#111111",color:"#F8FAFC"},children:"Cancel"})]})]})}),s.jsx("div",{className:"space-y-3",children:0===e.length?s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(O,{}),s.jsx("p",{className:"text-sm sm:text-base font-medium mb-1",style:{color:"#F8FAFC"},children:"No links added yet"}),s.jsx("p",{className:"text-xs sm:text-sm",style:{color:"#64748B"},children:"Add your social media links to get started"})]}):e.map(e=>{const t=X[e.platform]||i;return s.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-lg transition-all duration-200 hover:brightness-105",style:{backgroundColor:"#111111"},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#1a1a1e"},children:s.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5",style:{color:"#F8FAFC"}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm sm:text-base font-medium truncate",style:{color:"#F8FAFC"},children:e.display_name||e.platform}),s.jsx("div",{className:"text-xs sm:text-sm truncate",style:{color:"#64748B"},children:e.url.replace(/^https?:\/\//i,"")})]})]}),s.jsx("button",{onClick:()=>(async e=>{try{const{error:s}=await o.from("social_links").delete().eq("id",e);if(s)throw s;await h()}catch(s){}})(e.id),className:"ml-2 p-2 rounded-lg transition-all duration-200 hover:brightness-110 flex-shrink-0",style:{backgroundColor:"#1a1a1e",color:"#64748B"},children:s.jsx(c,{className:"w-4 h-4"})})]},e.id)})})]})}function P(){var e;const[r,n]=t.useState(null),[i,c]=t.useState(""),[x,m]=t.useState(!1),[h,u]=t.useState(!0),[p,f]=t.useState(!1),[y,g]=t.useState(null),[j,b]=t.useState(!1);t.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:{user:s}}=await o.auth.getUser(),t=localStorage.getItem("verifiedUserId"),r=(null==s?void 0:s.id)||t;if(!r)return void u(!1);let i=null;try{const e=`${a}/functions/v1/get-profile?userId=${r}`,s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();e.success&&e.profile&&(i=e.profile.username)}}catch(e){}if(!i){const{data:e}=await o.from("users").select("username").eq("id",r).maybeSingle();if(i=null==e?void 0:e.username,!i){const{data:e}=await o.from("profiles").select("name").eq("id",r).maybeSingle();(null==e?void 0:e.name)&&(i=e.name.replace(/\s+/g,""))}}if(i){const{data:e}=await o.from("referral_codes").select("total_uses, total_earnings").eq("user_id",r).maybeSingle();n({code:i.toUpperCase(),total_uses:(null==e?void 0:e.total_uses)||0,total_earnings:(null==e?void 0:e.total_earnings)||0})}const{data:c}=await o.from("referral_applications").select("id").eq("user_id",r).maybeSingle();b(!!c)}catch(s){}finally{u(!1)}};return h?s.jsx("div",{className:"rounded-xl sm:rounded-2xl p-6 sm:p-8",style:{backgroundColor:"#1a1a1e"},children:s.jsx("div",{className:"text-center",style:{color:"#94A3B8"},children:"Loading..."})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7",style:{backgroundColor:"#1a1a1e"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[s.jsx(M,{className:"w-5 h-5",style:{color:"#64748B"}}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:"Your Code"})]}),s.jsx("div",{className:"rounded-lg p-4 mb-5",style:{backgroundColor:"#111111"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs font-medium mb-2",style:{color:"#64748B"},children:"YOUR REFERRAL CODE"}),s.jsx("div",{className:"h-[60px] flex items-center justify-center mb-3",children:s.jsx("div",{className:"text-2xl sm:text-3xl font-bold tracking-wider",style:{color:"#F8FAFC"},children:(null==r?void 0:r.code)||"N/A"})}),s.jsx("button",{onClick:async()=>{if(r)try{await navigator.clipboard.writeText(r.code),m(!0),setTimeout(()=>m(!1),2e3)}catch(e){}},disabled:!r,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#F8FAFC",color:"#111111"},children:x?s.jsxs(s.Fragment,{children:[s.jsx(A,{className:"w-4 h-4"}),s.jsx("span",{children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{children:"Copy Code"})]})})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-3",style:{color:"#F8FAFC"},children:"Your Stats"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"#111111"},children:[s.jsx("span",{className:"text-sm",style:{color:"#94A3B8"},children:"Total uses"}),s.jsx("span",{className:"text-sm font-bold",style:{color:"#F8FAFC"},children:(null==r?void 0:r.total_uses)||0})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"#111111"},children:[s.jsx("span",{className:"text-sm",style:{color:"#94A3B8"},children:"Total earned"}),s.jsxs("span",{className:"text-sm font-bold",style:{color:"#F8FAFC"},children:["$",(null==(e=null==r?void 0:r.total_earnings)?void 0:e.toFixed(2))||"0.00"]})]})]})]})]}),s.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-5 sm:p-7",style:{backgroundColor:"#1a1a1e"},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[s.jsx(M,{className:"w-5 h-5",style:{color:"#64748B"}}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",style:{color:"#F8FAFC"},children:"Enter a Code"})]}),j?s.jsxs("div",{className:"rounded-lg p-6 text-center",style:{backgroundColor:"#111111"},children:[s.jsx(A,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#10B981"}}),s.jsx("p",{className:"text-base font-medium mb-1",style:{color:"#F8FAFC"},children:"Code Applied!"}),s.jsx("p",{className:"text-sm",style:{color:"#64748B"},children:"You've already applied a referral code"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-lg p-4 mb-5",style:{backgroundColor:"#111111"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("label",{className:"block text-xs font-medium mb-2",style:{color:"#64748B"},children:"REFERRAL CODE"}),s.jsx("div",{className:"h-[60px] flex items-center justify-center mb-3",children:s.jsx("input",{type:"text",value:i,onChange:e=>c(e.target.value.toUpperCase()),placeholder:"Enter code...",maxLength:8,className:"w-full px-4 py-2.5 rounded-lg text-2xl sm:text-3xl font-bold tracking-wider text-center transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20",style:{backgroundColor:"#1a1a1e",color:"#F8FAFC"}})}),s.jsx("button",{onClick:async()=>{if(i.trim()&&!p){f(!0),g(null);try{const{data:e,error:s}=await o.rpc("apply_referral_code",{p_code:i.trim().toUpperCase()});if(s)throw s;e.success?(g({type:"success",text:e.message}),c(""),b(!0)):g({type:"error",text:e.error})}catch(e){g({type:"error",text:e.message||"Failed to apply code"})}finally{f(!1)}}},disabled:!i.trim()||p,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#F8FAFC",color:"#111111"},children:p?"Applying...":"Apply Code"})]})}),y&&s.jsx("div",{className:"rounded-lg p-3 text-sm text-center mb-5",style:{backgroundColor:"success"===y.type?"#10B98120":"#EF444420",color:"success"===y.type?"#10B981":"#EF4444"},children:y.text}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-3",style:{color:"#F8FAFC"},children:"Benefits"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"#111111"},children:[s.jsx("span",{className:"text-sm",style:{color:"#94A3B8"},children:"10% first campaign bonus"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:"#10B981"}})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 rounded-lg",style:{backgroundColor:"#111111"},children:[s.jsx("span",{className:"text-sm",style:{color:"#94A3B8"},children:"Support the community"}),s.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:"#10B981"}})]})]})]})]})]})]})}function T(){return s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex-shrink-0",style:{backgroundColor:"rgba(75, 85, 99, 0.2)"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"h-4 rounded mb-2",style:{backgroundColor:"rgba(75, 85, 99, 0.2)",width:"60%"}}),s.jsx("div",{className:"h-3 rounded",style:{backgroundColor:"rgba(75, 85, 99, 0.15)",width:"85%"}})]}),s.jsx("div",{className:"h-3 rounded flex-shrink-0",style:{backgroundColor:"rgba(75, 85, 99, 0.15)",width:"40px"}})]})}function z({count:e=3}){return s.jsx("div",{className:"space-y-1",children:Array.from({length:e}).map((e,t)=>s.jsx(T,{},t))})}function D(){return s.jsxs("div",{className:"flex flex-col h-full animate-pulse",style:{backgroundColor:"#111111"},children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b",style:{borderColor:"rgba(75, 85, 99, 0.2)"},children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex-shrink-0",style:{backgroundColor:"rgba(75, 85, 99, 0.2)"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 rounded mb-1.5",style:{backgroundColor:"rgba(75, 85, 99, 0.2)",width:"120px"}}),s.jsx("div",{className:"h-3 rounded",style:{backgroundColor:"rgba(75, 85, 99, 0.15)",width:"80px"}})]})]}),s.jsx("div",{className:"flex-1 py-2 lg:py-4 flex flex-col justify-end",children:s.jsxs("div",{className:"space-y-0.5 lg:space-y-1 px-2 lg:px-4",children:[s.jsx("div",{className:"flex justify-start px-2 lg:px-4 py-0.5",children:s.jsx("div",{className:"flex items-center gap-1.5 lg:gap-2 max-w-[85%] lg:max-w-[70%]",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"rounded-2xl px-4 py-3",style:{backgroundColor:"rgba(75, 85, 99, 0.15)",minHeight:"2.5rem",width:"180px"}}),s.jsx("div",{className:"h-3 rounded px-1",style:{backgroundColor:"rgba(75, 85, 99, 0.1)",width:"40px"}})]})})}),s.jsx("div",{className:"flex justify-end px-2 lg:px-4 py-0.5",children:s.jsx("div",{className:"flex items-center gap-1.5 lg:gap-2 max-w-[85%] lg:max-w-[70%] flex-row-reverse",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"rounded-2xl px-4 py-3",style:{backgroundColor:"rgba(248, 250, 252, 0.1)",minHeight:"2.5rem",width:"140px"}}),s.jsx("div",{className:"h-3 rounded px-1 ml-auto",style:{backgroundColor:"rgba(75, 85, 99, 0.1)",width:"40px"}})]})})}),s.jsx("div",{className:"flex justify-start px-2 lg:px-4 py-0.5",children:s.jsx("div",{className:"flex items-center gap-1.5 lg:gap-2 max-w-[85%] lg:max-w-[70%]",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"rounded-2xl px-4 py-3",style:{backgroundColor:"rgba(75, 85, 99, 0.15)",minHeight:"3.5rem",width:"220px"}}),s.jsx("div",{className:"h-3 rounded px-1",style:{backgroundColor:"rgba(75, 85, 99, 0.1)",width:"40px"}})]})})})]})}),s.jsx("div",{className:"p-4 border-t",style:{borderColor:"rgba(75, 85, 99, 0.2)"},children:s.jsx("div",{className:"h-12 rounded-xl",style:{backgroundColor:"rgba(75, 85, 99, 0.15)"}})})]})}function R({currentUserId:e}){const{conversations:r,loading:n,updateConversationUnreadCount:a,refetch:l}=x(e),[i,c]=t.useState(""),[d,b]=t.useState(""),[v,w]=t.useState(null),[k,N]=t.useState(!1),[F,L]=t.useState(!1),[A,W]=t.useState("all"),[M,B]=t.useState(!0),{profile:S}=m(e);h(e),t.useEffect(()=>{(async()=>{if(!n&&e)try{const s=await j(e);if(s){window.innerWidth<1024||w(s),await l()}}catch(s){}finally{B(!1)}})()},[e,n]);const _=t.useMemo(()=>u(e=>b(e),300),[]);t.useEffect(()=>{_(i)},[i,_]),t.useEffect(()=>{const e=window.innerWidth<1024;if(!M&&r.length>0&&!v&&!e){const e=r[0];w(e),e.unread_count_customer>0&&o.from("conversations").update({unread_count_customer:0}).eq("id",e.id).catch(e=>{})}else if(!M&&r.length>0&&v){const s=r.find(e=>e.id===v.id);s?w(s):e||w(r[0])}else!M&&r.length},[r,M,v]);const H=t.useMemo(()=>{let e=[...r];v&&!e.find(e=>e.id===v.id)&&(e=[v,...e]);return e.filter(e=>{var s;if(!e.admin)return!1;if(d.trim()){if(!((null==(s=e.admin.name)?void 0:s.toLowerCase())||"").includes(d.toLowerCase()))return!1}return"unread"===A?e.unread_count_customer>0:"pinned"!==A||!0===e.is_pinned})},[r,v,d,A]),V=t.useCallback(s=>{var t;return s===e?(null==S?void 0:S.name)||"You":(null==(t=null==v?void 0:v.admin)?void 0:t.name)||"Support"},[S,v,e]),E=async e=>{w(e);if(window.innerWidth<1024?(L(!0),N(!1)):N(!1),e.unread_count_customer>0){a(e.id,0);try{await o.from("conversations").update({unread_count_customer:0}).eq("id",e.id)}catch(s){}}},O=()=>{L(!1)},X=async(e,s)=>{try{const{error:t}=await o.from("conversations").update({is_pinned:s}).eq("id",e);if(t)throw t}catch(t){}},Y="undefined"!=typeof window&&window.innerWidth<1024,I=n&&0===r.length,$=M&&!v;return Y&&F&&v?s.jsxs("div",{className:"flex flex-col rounded-2xl w-full shadow-2xl",style:{backgroundColor:"#111111",height:"100%",maxHeight:"100%",border:"1px solid rgba(75, 85, 99, 0.1)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:"lg:hidden flex items-center gap-3 p-3 border-b",style:{borderColor:"rgba(75, 85, 99, 0.2)",backgroundColor:"#111111"},children:[s.jsx("button",{onClick:O,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",style:{color:"#F8FAFC"},"aria-label":"Back to conversations",children:s.jsx(C,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-base font-semibold",style:{color:"#F8FAFC"},children:"Messages"})]}),s.jsx("div",{className:"flex-1 min-h-0",children:v.admin&&s.jsx(p,{conversation:v,otherUser:v.admin,currentUserId:e,getSenderName:V},v.id)})]}):s.jsxs("div",{className:"flex flex-col lg:flex-row rounded-2xl w-full shadow-2xl",style:{backgroundColor:"#111111",height:"100%",maxHeight:"100%",border:"1px solid rgba(75, 85, 99, 0.1)",overflow:"hidden",display:"flex"},children:[Y&&s.jsxs("div",{className:"lg:hidden flex items-center justify-between p-3 border-b",style:{borderColor:"rgba(75, 85, 99, 0.2)",backgroundColor:"#111111"},children:[s.jsx("div",{className:"w-9"})," ",s.jsx("h2",{className:"text-base font-semibold",style:{color:"#F8FAFC"},children:"Messages"}),s.jsx("div",{className:"w-9"})," "]}),Y&&s.jsxs("div",{className:"lg:hidden flex flex-col flex-1 min-h-0 overflow-hidden",style:{overflow:"hidden"},children:[s.jsxs("div",{className:"p-3 pb-3",style:{borderBottom:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"#111111"},children:[s.jsxs("div",{className:"relative mb-3 lg:mb-4",children:[s.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 lg:w-4 lg:h-4",style:{color:"#64748B"}}),s.jsx("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Search conversations...","aria-label":"Search conversations",className:"w-full pl-9 lg:pl-10 pr-3 lg:pr-4 py-2 lg:py-3 rounded-lg lg:rounded-xl text-xs lg:text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:"#0f0f13",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#F8FAFC",focusRingColor:"rgba(148, 163, 184, 0.3)"}})]}),s.jsxs("div",{className:"flex gap-1.5 lg:gap-2",children:[s.jsx("button",{onClick:()=>W("all"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 "+("all"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"all"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"All"}),s.jsx("button",{onClick:()=>W("unread"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 "+("unread"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"unread"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"Unread"}),s.jsx("button",{onClick:()=>W("pinned"),className:"flex-1 px-3 lg:px-4 py-1.5 lg:py-2.5 rounded-lg text-xs lg:text-sm font-medium transition-all duration-200 "+("pinned"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"pinned"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"Pinned"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent"},children:I?s.jsx(z,{count:4}):0===H.length?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#0f0f13"},children:s.jsx(y,{className:"w-8 h-8",style:{color:"#64748B"}})}),s.jsx("p",{className:"text-sm font-medium",style:{color:"#94A3B8"},children:"No conversations found"}),s.jsx("p",{className:"text-xs mt-1",style:{color:"#64748B"},children:"Start a conversation to get help"})]}):H.map(t=>t.admin&&s.jsx(g,{user:t.admin,conversation:t,isActive:(null==v?void 0:v.id)===t.id,onClick:()=>E(t),onPin:X,unreadCount:t.unread_count_customer,currentUserId:e},t.id))})]}),s.jsxs("div",{className:"hidden lg:flex flex-col w-80 xl:w-96 min-h-0 flex-shrink-0 overflow-hidden border-r",style:{borderRight:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"#111111",height:"100%"},children:[s.jsxs("div",{className:"p-5 pb-4",style:{borderBottom:"1px solid rgba(75, 85, 99, 0.2)",backgroundColor:"#111111"},children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(f,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"#64748B"}}),s.jsx("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Search conversations...","aria-label":"Search conversations",className:"w-full pl-10 pr-4 py-3 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all",style:{backgroundColor:"#0f0f13",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#F8FAFC",focusRingColor:"rgba(148, 163, 184, 0.3)"}})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>W("all"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+("all"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"all"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"All"}),s.jsx("button",{onClick:()=>W("unread"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+("unread"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"unread"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"Unread"}),s.jsx("button",{onClick:()=>W("pinned"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+("pinned"===A?"":"hover:brightness-110 active:scale-[0.98]"),style:"pinned"===A?{backgroundColor:"#0f0f13",border:"1.5px solid rgba(148, 163, 184, 0.3)",color:"#F8FAFC",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}:{backgroundColor:"#0f0f13",color:"#64748B",border:"1px solid transparent"},children:"Pinned"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(75, 85, 99, 0.3) transparent"},children:I?s.jsx(z,{count:5}):0===H.length?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:"#0f0f13"},children:s.jsx(y,{className:"w-8 h-8",style:{color:"#64748B"}})}),s.jsx("p",{className:"text-sm font-medium",style:{color:"#94A3B8"},children:"No conversations found"}),s.jsx("p",{className:"text-xs mt-1",style:{color:"#64748B"},children:"Start a conversation to get help"})]}):H.map(t=>t.admin&&s.jsx(g,{user:t.admin,conversation:t,isActive:(null==v?void 0:v.id)===t.id,onClick:()=>E(t),onPin:X,unreadCount:t.unread_count_customer,currentUserId:e},t.id))})]}),s.jsx("div",{className:"hidden lg:flex flex-col flex-1 min-h-0 min-w-0 overflow-hidden",style:{backgroundColor:"#111111",height:"100%",overflow:"hidden"},children:v&&v.admin?s.jsx(p,{conversation:v,otherUser:v.admin,currentUserId:e,getSenderName:V,onMarkAsRead:e=>a(e,0)},v.id):$?s.jsx(D,{}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#1a1a1e",border:"1px solid rgba(75, 85, 99, 0.1)"},children:s.jsx(y,{className:"w-10 h-10",style:{color:"#64748B"}})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"#F8FAFC"},children:"Select a conversation"}),s.jsx("p",{className:"text-sm",style:{color:"#94A3B8"},children:"Choose a support agent from the list to start chatting"})]})})})]})}function U(){return s.jsx("div",{className:"group cursor-pointer flex items-center justify-center",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-[-12deg]",children:[s.jsx("path",{d:"M28 8L38 18L18 38H8V28L28 8Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-300"}),s.jsx("path",{d:"M24 12L34 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",className:"transition-all duration-300"}),s.jsx("path",{d:"M8 38L18 38",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",className:"transition-all duration-300 group-hover:stroke-dasharray-[10] group-hover:stroke-dashoffset-[10]",style:{strokeDasharray:20,strokeDashoffset:0}})]})})}function Z({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",children:[s.jsx("circle",{cx:"24",cy:"20",r:"14",fill:"white",style:{opacity:e?.15:0,transform:e?"scale(1.3)":"scale(1)",transformOrigin:"24px 20px",filter:"blur(8px)",transition:"all 0.4s ease"}}),s.jsx("path",{d:"M24 6C17.4 6 12 11.4 12 18C12 22.4 14.4 26.2 18 28.4V34H30V28.4C33.6 26.2 36 22.4 36 18C36 11.4 30.6 6 24 6Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none",style:{filter:e?"drop-shadow(0 0 6px rgba(255,255,255,0.6))":"none",transition:"filter 0.3s ease"}}),s.jsx("line",{x1:"18",y1:"38",x2:"30",y2:"38",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"20",y1:"42",x2:"28",y2:"42",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M24 12L25.5 17H30.5L26.5 20L28 25L24 22L20 25L21.5 20L17.5 17H22.5L24 12Z",stroke:"white",strokeWidth:"2",strokeLinejoin:"round",fill:"none",style:{opacity:e?1:.5,transform:e?"scale(1.1)":"scale(1)",transformOrigin:"24px 18px",transition:"all 0.3s ease"}})]})})}function q({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"rotate(5deg)":"rotate(0deg)",transition:"transform 0.15s ease-in-out"},children:[s.jsx("ellipse",{cx:"24",cy:"28",rx:"10",ry:"12",stroke:"white",strokeWidth:"2.5",fill:"none",style:{transform:e?"scale(1.05)":"scale(1)",transformOrigin:"24px 28px",transition:"transform 0.3s ease"}}),s.jsx("circle",{cx:"24",cy:"14",r:"5",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M20 10L16 4",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-15deg)":"rotate(0deg)",transformOrigin:"20px 10px",transition:"transform 0.2s ease"}}),s.jsx("path",{d:"M28 10L32 4",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(15deg)":"rotate(0deg)",transformOrigin:"28px 10px",transition:"transform 0.2s ease"}}),s.jsx("line",{x1:"14",y1:"24",x2:"34",y2:"24",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"14",y1:"32",x2:"34",y2:"32",stroke:"white",strokeWidth:"2.5"}),s.jsx("path",{d:"M14 24L8 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-10deg)":"rotate(0deg)",transformOrigin:"14px 24px",transition:"transform 0.2s ease 0.05s"}}),s.jsx("path",{d:"M14 28L6 28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"translateX(-2px)":"translateX(0)",transition:"transform 0.2s ease 0.1s"}}),s.jsx("path",{d:"M14 32L8 36",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(10deg)":"rotate(0deg)",transformOrigin:"14px 32px",transition:"transform 0.2s ease 0.15s"}}),s.jsx("path",{d:"M34 24L40 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(10deg)":"rotate(0deg)",transformOrigin:"34px 24px",transition:"transform 0.2s ease 0.05s"}}),s.jsx("path",{d:"M34 28L42 28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"translateX(2px)":"translateX(0)",transition:"transform 0.2s ease 0.1s"}}),s.jsx("path",{d:"M34 32L40 36",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-10deg)":"rotate(0deg)",transformOrigin:"34px 32px",transition:"transform 0.2s ease 0.15s"}})]})})}function G({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"translateY(-2px)":"translateY(0)",transition:"transform 0.3s ease"},children:[s.jsx("path",{d:"M8 40L28 20",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{transform:e?"rotate(-5deg)":"rotate(0deg)",transformOrigin:"8px 40px",transition:"transform 0.3s ease"}}),s.jsx("path",{d:"M28 20L32 16L36 20L32 24L28 20Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none",style:{transform:e?"rotate(-5deg)":"rotate(0deg)",transformOrigin:"8px 40px",transition:"transform 0.3s ease"}}),s.jsx("circle",{cx:"38",cy:"10",r:"2",fill:"white",style:{opacity:e?1:.5,transform:e?"scale(1.3)":"scale(1)",transformOrigin:"38px 10px",transition:"all 0.3s ease"}}),s.jsx("circle",{cx:"42",cy:"18",r:"1.5",fill:"white",style:{opacity:e?1:.3,transform:e?"scale(1.5)":"scale(1)",transformOrigin:"42px 18px",transition:"all 0.3s ease 0.1s"}}),s.jsx("circle",{cx:"34",cy:"6",r:"1.5",fill:"white",style:{opacity:e?1:.3,transform:e?"scale(1.5)":"scale(1)",transformOrigin:"34px 6px",transition:"all 0.3s ease 0.15s"}}),s.jsx("path",{d:"M18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11L18 8Z",fill:"white",style:{opacity:e?1:0,transform:e?"scale(1.2) rotate(15deg)":"scale(0.8) rotate(0deg)",transformOrigin:"18px 12px",transition:"all 0.3s ease 0.05s"}})]})})}function J({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center overflow-visible",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 overflow-visible",style:{transform:e?"rotate(-8deg) translateY(-2px)":"rotate(0deg) translateY(0)",transition:"transform 0.3s ease"},children:[s.jsx("path",{d:"M12 36L8 40L12 44L36 20L32 16L12 36Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none"}),s.jsx("path",{d:"M36 20L40 16L44 12L40 8L36 12L32 16L36 20Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none"}),s.jsx("line",{x1:"14",y1:"34",x2:"18",y2:"38",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"6",y1:"28",x2:"14",y2:"28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease"}}),s.jsx("line",{x1:"6",y1:"22",x2:"18",y2:"22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease 0.1s"}}),s.jsx("line",{x1:"6",y1:"16",x2:"12",y2:"16",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",style:{opacity:e?1:0,transform:e?"translateX(0)":"translateX(-4px)",transition:"all 0.3s ease 0.15s"}})]})})}function K({isActive:e,onClick:n,icon:o,label:a}){const[l,i]=t.useState(!1);return s.jsxs("button",{type:"button",onClick:n,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:"w-full text-left px-3 sm:px-5 py-3 sm:py-3.5 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center gap-2 sm:gap-3 "+(e?"shadow-md":"hover:brightness-105"),style:{backgroundColor:e?"#0f0f13":"transparent",color:"#F8FAFC",border:e?"1px solid rgba(148, 163, 184, 0.3)":"1px solid rgba(75, 85, 99, 0.25)"},children:[r.cloneElement(o,{isHovered:l}),s.jsx("span",{children:a})]})}function Q({isOpen:e,onClose:r,userId:n}){const[a,l]=t.useState(""),[i,d]=t.useState("suggestion"),[x,m]=t.useState(!1),[h,u]=t.useState("idle");t.useEffect(()=>{const s=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[e,r]),t.useEffect(()=>{e||(l(""),d("suggestion"),u("idle"))},[e]);return e?s.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center backdrop-blur-sm animate-fade-in overflow-y-auto p-0 sm:p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.85)"},onClick:r,children:s.jsxs("div",{className:"relative w-full h-full sm:h-auto sm:max-w-2xl sm:mx-4 sm:my-8 sm:rounded-2xl shadow-2xl animate-fade-in flex flex-col",style:{backgroundColor:"#111111",border:"none"},onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b flex-shrink-0",style:{borderColor:"rgba(75, 85, 99, 0.25)",backgroundColor:"#111111"},children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold tracking-tight",style:{color:"#F8FAFC"},children:"Give Feedback"}),s.jsx("button",{onClick:r,className:"p-2 sm:p-1.5 rounded-lg transition-colors hover:brightness-110",style:{backgroundColor:"transparent",color:"#64748B"},children:s.jsx(c,{className:"w-6 h-6 sm:w-5 sm:h-5"})})]}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim()&&n){m(!0),u("idle");try{const{error:e}=await o.from("feedback").insert({user_id:n,category:i,content:a.trim(),status:"pending"});if(e)throw e;u("success"),setTimeout(()=>{r()},1500)}catch(s){u("error")}finally{m(!1)}}},className:"p-4 sm:p-6 space-y-4 sm:space-y-5 flex-1 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2 sm:mb-3",style:{color:"#F8FAFC"},children:"Category"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[s.jsx(K,{isActive:"suggestion"===i,onClick:()=>d("suggestion"),icon:s.jsx(Z,{}),label:"Suggestion"}),s.jsx(K,{isActive:"bug"===i,onClick:()=>d("bug"),icon:s.jsx(q,{}),label:"Bug Report"}),s.jsx(K,{isActive:"feature"===i,onClick:()=>d("feature"),icon:s.jsx(G,{}),label:"Feature Request"}),s.jsx(K,{isActive:"other"===i,onClick:()=>d("other"),icon:s.jsx(J,{}),label:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#F8FAFC"},children:"Your Feedback"}),s.jsx("textarea",{value:a,onChange:e=>l(e.target.value),placeholder:"Share your thoughts, suggestions, or report any issues...",rows:5,required:!0,className:"w-full px-3 sm:px-4 py-3 rounded-xl text-sm resize-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/10 placeholder:text-slate-400 hover:border-slate-500/40",style:{backgroundColor:"#0f0f13",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#F8FAFC"}})]}),"success"===h&&s.jsx("div",{className:"p-3 rounded-xl text-sm font-medium",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ADE80",border:"1px solid rgba(34, 197, 94, 0.2)"},children:"✓ Feedback submitted successfully! Thank you."}),"error"===h&&s.jsx("div",{className:"p-3 rounded-xl text-sm font-medium",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#F87171",border:"1px solid rgba(239, 68, 68, 0.2)"},children:"✗ Failed to submit feedback. Please try again."}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 hover:brightness-110",style:{backgroundColor:"transparent",border:"1px solid rgba(75, 85, 99, 0.25)",color:"#94A3B8"},children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!a.trim()||x||"success"===h,className:"flex-1 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-105",style:{backgroundColor:"success"===h?"#22C55E":"#F8FAFC",color:"success"===h?"#FFFFFF":"#111111"},children:x?"Submitting...":"success"===h?"Submitted!":"Submit Feedback"})]})]})]})}):null}const ee=e=>{try{const s=`dismissed_announcements_${e}`,t=localStorage.getItem(s);return t?new Set(JSON.parse(t)):new Set}catch{return new Set}};function se({userId:e,userType:r="creator"}){const[n,a]=t.useState([]),[l,i]=t.useState(!0);t.useEffect(()=>{if(!e)return void i(!1);const s=async()=>{try{const s=ee(e),{data:t,error:n}=await o.from("announcements").select("id, title, content, created_at, is_read, announcement_type, target_audience").or(`user_id.eq.${e},user_id.is.null`).eq("is_read",!1).order("created_at",{ascending:!1}).limit(10);if(n)throw n;const l=(t||[]).filter(e=>{if(s.has(e.id))return!1;const t=e.target_audience||"all";return"all"===t||("creators"===t&&"creator"===r||"artists"===t&&"artist"===r)}).slice(0,5);a(l)}catch(s){a([])}finally{i(!1)}};s();const t=o.channel(`announcements-${e}-${r}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"announcements"},t=>{const n=t.new,o=n.target_audience||"all",a="all"===o||"creators"===o&&"creator"===r||"artists"===o&&"artist"===r;null!==n.user_id&&n.user_id!==e||!a||s()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"announcements"},t=>{const r=t.new;null!==r.user_id&&r.user_id!==e||s()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"announcements"},()=>{s()}).subscribe(e=>{});return()=>{o.removeChannel(t)}},[e,r]);const d=async s=>{a(e=>e.filter(e=>e.id!==s)),e&&((e,s)=>{try{const t=`dismissed_announcements_${e}`,r=ee(e);r.add(s),localStorage.setItem(t,JSON.stringify([...r]))}catch(t){}})(e,s);try{await o.from("announcements").update({is_read:!0}).eq("id",s)}catch(t){}};if(l||0===n.length)return null;const x=n.find(e=>!e.is_read)||n[0];if(!x)return null;const m="serious"===x.announcement_type;return s.jsx("div",{className:"mb-4 animate-fade-in",children:s.jsx("div",{className:"rounded-xl px-4 py-3 border relative",style:{backgroundColor:m?"rgba(239, 68, 68, 0.1)":"#1a1a1e",borderColor:m?"rgba(239, 68, 68, 0.4)":"rgba(148, 163, 184, 0.2)"},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-1 flex items-center gap-1.5",style:{color:m?"#ef4444":"#F8FAFC"},children:[m&&s.jsx(b,{className:"w-3.5 h-3.5 flex-shrink-0",style:{color:"#ef4444"}}),x.title]}),s.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap",style:{color:m?"#F8FAFC":"#94A3B8"},children:x.content})]}),s.jsx("button",{onClick:()=>d(x.id),className:"flex-shrink-0 w-6 h-6 rounded-md flex items-center justify-center transition-all duration-200 hover:brightness-110",style:{backgroundColor:m?"rgba(239, 68, 68, 0.2)":"#0f0f13",color:m?"#ef4444":"#94A3B8"},"aria-label":"Dismiss announcement",children:s.jsx(c,{className:"w-3 h-3"})})]})})})}const te="w-7 h-7";function re({className:e="w-8 h-8"}){return s.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[s.jsx("rect",{x:"2",y:"12",width:"4",height:"8",rx:"2",fill:"white"}),s.jsx("rect",{x:"8",y:"8",width:"4",height:"16",rx:"2",fill:"white"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"24",rx:"2",fill:"white"}),s.jsx("rect",{x:"20",y:"8",width:"4",height:"16",rx:"2",fill:"white"}),s.jsx("rect",{x:"26",y:"12",width:"4",height:"8",rx:"2",fill:"white"})]})}const ne=[{id:"home",label:"Home",Icon:function({isHovered:e}){return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te,children:[s.jsx("rect",{x:"12",y:"20",width:"24",height:"26",rx:"2",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M4 22L24 4L44 22",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M18 46V30C18 29.4477 18.4477 29 19 29H29C29.5523 29 30 29.4477 30 30V46",fill:"white",style:{opacity:e?1:.3,transition:"opacity 0.3s ease"}}),s.jsx("ellipse",{cx:"24",cy:"38",rx:"7",ry:"9",fill:"white",style:{opacity:e?.4:0,transition:"opacity 0.3s ease"}})]})}},{id:"explore",label:"Explore",Icon:function({isHovered:e}){return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te,children:[s.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("circle",{cx:"24",cy:"24",r:"16",stroke:"white",strokeWidth:"1",strokeOpacity:"0.4",fill:"none"}),s.jsx("line",{x1:"24",y1:"4",x2:"24",y2:"8",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"24",y1:"40",x2:"24",y2:"44",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"4",y1:"24",x2:"8",y2:"24",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"40",y1:"24",x2:"44",y2:"24",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("line",{x1:"38.1",y1:"9.9",x2:"36",y2:"12",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"38.1",y1:"38.1",x2:"36",y2:"36",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"9.9",y1:"38.1",x2:"12",y2:"36",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"9.9",y1:"9.9",x2:"12",y2:"12",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsxs("g",{style:{transform:e?"rotate(180deg)":"rotate(0deg)",transformOrigin:"24px 24px",transition:"transform 0.5s ease-in-out"},children:[s.jsx("path",{d:"M24 10L28 24H20L24 10Z",stroke:"white",strokeWidth:"2",strokeLinejoin:"round",fill:"white"}),s.jsx("path",{d:"M24 38L28 24H20L24 38Z",stroke:"white",strokeWidth:"2",strokeLinejoin:"round",fill:"none"})]}),s.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:"white"})]})}},{id:"talent",label:"Talent",Icon:function({isHovered:e}){return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${te} overflow-visible`,children:[[0,1,2,3,4].map(t=>{const r=8+8*t;return s.jsx("polygon",{points:`${r},2 ${r+1.2},5 ${r+4},5.5 ${r+2},7.5 ${r+2.5},11 ${r},9 ${r-2.5},11 ${r-2},7.5 ${r-4},5.5 ${r-1.2},5`,fill:"white",style:{opacity:e?1:0,transform:e?"scale(1) translateY(0)":"scale(0.5) translateY(4px)",transformOrigin:`${r}px 6px`,transition:`all 0.3s ease ${.06*t}s`}},t)}),s.jsx("circle",{cx:"12",cy:"22",r:"5",stroke:"white",strokeWidth:"2.5",fill:"none",style:{opacity:.5,transform:e?"translateX(-3px)":"translateX(0)",transition:"all 0.3s ease"}}),s.jsx("path",{d:"M4 44C4 37 7 32 12 32",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",fill:"none",style:{opacity:.5,transform:e?"translateX(-3px)":"translateX(0)",transition:"all 0.3s ease"}}),s.jsx("circle",{cx:"36",cy:"22",r:"5",stroke:"white",strokeWidth:"2.5",fill:"none",style:{opacity:.5,transform:e?"translateX(3px)":"translateX(0)",transition:"all 0.3s ease"}}),s.jsx("path",{d:"M44 44C44 37 41 32 36 32",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",fill:"none",style:{opacity:.5,transform:e?"translateX(3px)":"translateX(0)",transition:"all 0.3s ease"}}),s.jsx("circle",{cx:"24",cy:"20",r:"6",stroke:"white",strokeWidth:"2.5",fill:"none",style:{transform:e?"scale(1.05)":"scale(1)",transformOrigin:"24px 20px",transition:"transform 0.3s ease"}}),s.jsx("path",{d:"M12 44C12 35 17 30 24 30C31 30 36 35 36 44",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})]})}},{id:"deals",label:"Deals",Icon:function({isHovered:e}){return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${te} overflow-visible`,children:[s.jsxs("g",{style:{transform:e?"translateX(2px) rotate(0deg)":"translateX(-3px) rotate(-2deg)",transformOrigin:"16px 24px",transition:"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx("path",{d:"M6 12C6 10.9 6.9 10 8 10H18V14C18 15.66 16.66 17 15 17C13.34 17 12 15.66 12 14V10H8C6.9 10 6 10.9 6 12V20H10C11.66 20 13 21.34 13 23C13 24.66 11.66 26 10 26H6V34C6 35.1 6.9 36 8 36H18V32C18 30.34 16.66 29 15 29C13.34 29 12 30.34 12 32V36H18V10",stroke:"white",strokeWidth:"2.2",strokeLinejoin:"round",fill:"none"}),s.jsx("path",{d:"M18 18V16C19.66 16 21 17.34 21 19V21H23C24.66 21 26 22.34 26 24C26 25.66 24.66 27 23 27H21V29C21 30.66 19.66 32 18 32V30",stroke:"white",strokeWidth:"2.2",strokeLinejoin:"round",fill:"none"})]}),s.jsxs("g",{style:{transform:e?"translateX(-2px) rotate(0deg)":"translateX(3px) rotate(2deg)",transformOrigin:"32px 24px",transition:"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx("path",{d:"M42 12C42 10.9 41.1 10 40 10H30V14C30 15.66 31.34 17 33 17C34.66 17 36 15.66 36 14V10H40C41.1 10 42 10.9 42 12V20H38C36.34 20 35 21.34 35 23C35 24.66 36.34 26 38 26H42V34C42 35.1 41.1 36 40 36H30V32C30 30.34 31.34 29 33 29C34.66 29 36 30.34 36 32V36H30V10",stroke:"white",strokeWidth:"2.2",strokeLinejoin:"round",fill:"none"}),s.jsx("path",{d:"M30 18V16C28.34 16 27 17.34 27 19V21H25C23.34 21 22 22.34 22 24C22 25.66 23.34 27 25 27H27V29C27 30.66 28.34 32 30 32V30",stroke:"white",strokeWidth:"2.2",strokeLinejoin:"round",fill:"none"})]}),s.jsx("ellipse",{cx:"24",cy:"24",rx:"4",ry:"6",fill:"white",style:{opacity:e?.6:0,transform:e?"scale(1)":"scale(0.5)",transformOrigin:"24px 24px",transition:"all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s",filter:"blur(3px)"}})]})}},{id:"messages",label:"Messages",Icon:function({isHovered:e,unreadCount:t=0}){return s.jsxs("div",{className:`relative ${te}`,children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te,children:[s.jsx("path",{d:"M36 6H14C9.58172 6 6 9.58172 6 14V26C6 30.4183 9.58172 34 14 34H17L24 42L31 34H36C40.4183 34 44 30.4183 44 26V14C44 9.58172 40.4183 6 36 6Z",stroke:"white",strokeWidth:"2.5",fill:"none",style:{transform:e?"scale(1.05) translate(-2px, -2px)":"scale(1)",transformOrigin:"center",transition:"transform 0.3s ease"}}),s.jsx("path",{d:"M34 16H12C8.68629 16 6 18.6863 6 22V32C6 35.3137 8.68629 38 12 38H15L21 46L27 38H34C37.3137 38 40 35.3137 40 32V22C40 18.6863 37.3137 16 34 16Z",stroke:"white",strokeWidth:"2.5",fill:"rgba(0,0,0,0.8)",style:{transform:e?"scale(1.08) translate(2px, 2px)":"scale(1)",transformOrigin:"center",transition:"transform 0.3s ease"}}),s.jsxs("g",{style:{opacity:e?1:.7,transition:"opacity 0.3s ease"},children:[s.jsx("circle",{cx:"15",cy:"28",r:"2",fill:"white"}),s.jsx("circle",{cx:"23",cy:"28",r:"2",fill:"white"}),s.jsx("circle",{cx:"31",cy:"28",r:"2",fill:"white"})]})]}),t>0&&s.jsxs("div",{className:"absolute -top-1 -right-1 flex items-center justify-center",style:{zIndex:9999},children:[s.jsx("div",{className:"absolute w-4 h-4 rounded-full bg-red-500 animate-ping opacity-75"}),s.jsx("div",{className:"relative w-4 h-4 rounded-full bg-red-500 flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-[9px] font-bold text-white leading-none",children:t>99?"99+":t})})]})]})}},{id:"earnings",label:"Earnings",Icon:function({isHovered:e}){return s.jsxs("div",{className:`relative ${te} overflow-visible`,children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te,style:{animation:e?"piggyWiggle 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97)":"none"},children:[s.jsx("ellipse",{cx:"24",cy:"26",rx:"18",ry:"14",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("ellipse",{cx:"40",cy:"26",rx:"5",ry:"4",stroke:"white",strokeWidth:"2.5",fill:"none"}),s.jsx("circle",{cx:"39",cy:"24",r:"1",fill:"white"}),s.jsx("circle",{cx:"42",cy:"24",r:"1",fill:"white"}),s.jsx("path",{d:"M14 16C14 16 11 10 16 8C21 6 24 12 24 14",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M14 38V46",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M22 38V46",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M28 38V46",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("path",{d:"M36 38V46",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"}),s.jsx("rect",{x:"19",y:"12",width:"10",height:"3",rx:"1.5",fill:"white"}),s.jsx("circle",{cx:"16",cy:"22",r:"2",fill:"white"})]}),s.jsx("div",{className:"absolute left-1/2",style:{top:"-4px",opacity:0,animation:e?"coinDrop1 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards":"none"},children:s.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",style:{filter:"drop-shadow(0 1px 2px rgba(255,255,255,0.3))"},children:[s.jsx("circle",{cx:"5",cy:"5",r:"4",stroke:"white",strokeWidth:"1.2",fill:"rgba(255,255,255,0.1)"}),s.jsx("text",{x:"5",y:"7",textAnchor:"middle",fill:"white",fontSize:"5",fontWeight:"bold",children:"$"})]})}),s.jsx("div",{className:"absolute left-1/2",style:{top:"-4px",opacity:0,animation:e?"coinDrop2 0.65s cubic-bezier(0.34, 1.56, 0.64, 1) 0.12s forwards":"none"},children:s.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",style:{filter:"drop-shadow(0 1px 2px rgba(255,255,255,0.3))"},children:[s.jsx("circle",{cx:"5",cy:"5",r:"4",stroke:"white",strokeWidth:"1.2",fill:"rgba(255,255,255,0.1)"}),s.jsx("text",{x:"5",y:"7",textAnchor:"middle",fill:"white",fontSize:"5",fontWeight:"bold",children:"$"})]})}),s.jsx("div",{className:"absolute left-1/2",style:{top:"-4px",opacity:0,animation:e?"coinDrop3 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.22s forwards":"none"},children:s.jsxs("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",style:{filter:"drop-shadow(0 1px 2px rgba(255,255,255,0.2))"},children:[s.jsx("circle",{cx:"4",cy:"4",r:"3",stroke:"white",strokeWidth:"1",fill:"rgba(255,255,255,0.1)"}),s.jsx("text",{x:"4",y:"5.5",textAnchor:"middle",fill:"white",fontSize:"4",fontWeight:"bold",children:"$"})]})}),s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2",style:{top:"12px",opacity:0,animation:e?"sparkle 0.4s ease-out 0.35s forwards":"none"},children:s.jsxs("svg",{width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",children:[s.jsx("circle",{cx:"8",cy:"4",r:"1",fill:"white",opacity:"0.8"}),s.jsx("circle",{cx:"4",cy:"4",r:"0.5",fill:"white",opacity:"0.6"}),s.jsx("circle",{cx:"12",cy:"4",r:"0.5",fill:"white",opacity:"0.6"})]})}),s.jsx("style",{children:"\n        @keyframes piggyWiggle {\n          0% { transform: rotate(0deg) scale(1); }\n          15% { transform: rotate(-4deg) scale(1.02); }\n          30% { transform: rotate(4deg) scale(1.02); }\n          45% { transform: rotate(-3deg) scale(1.01); }\n          60% { transform: rotate(3deg) scale(1.01); }\n          75% { transform: rotate(-1deg) scale(1); }\n          100% { transform: rotate(0deg) scale(1); }\n        }\n        @keyframes coinDrop1 {\n          0% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(0) rotate(0deg) scale(0.5); \n          }\n          20% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(-2px) rotate(45deg) scale(1); \n          }\n          70% { \n            opacity: 1; \n            transform: translateX(-45%) translateY(10px) rotate(180deg) scale(1); \n          }\n          85% { \n            opacity: 0.8; \n            transform: translateX(-45%) translateY(8px) rotate(200deg) scale(0.9); \n          }\n          100% { \n            opacity: 0; \n            transform: translateX(-45%) translateY(12px) rotate(220deg) scale(0.7); \n          }\n        }\n        @keyframes coinDrop2 {\n          0% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(0) rotate(0deg) scale(0.5); \n          }\n          20% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(-3px) rotate(-30deg) scale(1); \n          }\n          70% { \n            opacity: 1; \n            transform: translateX(-55%) translateY(11px) rotate(-150deg) scale(1); \n          }\n          85% { \n            opacity: 0.8; \n            transform: translateX(-55%) translateY(9px) rotate(-170deg) scale(0.9); \n          }\n          100% { \n            opacity: 0; \n            transform: translateX(-55%) translateY(13px) rotate(-190deg) scale(0.7); \n          }\n        }\n        @keyframes coinDrop3 {\n          0% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(0) rotate(0deg) scale(0.4); \n          }\n          25% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(-1px) rotate(60deg) scale(1); \n          }\n          75% { \n            opacity: 1; \n            transform: translateX(-50%) translateY(9px) rotate(240deg) scale(1); \n          }\n          100% { \n            opacity: 0; \n            transform: translateX(-50%) translateY(11px) rotate(300deg) scale(0.6); \n          }\n        }\n        @keyframes sparkle {\n          0% { \n            opacity: 0; \n            transform: translateX(-50%) scale(0.3); \n          }\n          50% { \n            opacity: 1; \n            transform: translateX(-50%) scale(1.2); \n          }\n          100% { \n            opacity: 0; \n            transform: translateX(-50%) scale(0.8); \n          }\n        }\n      "})]})}},{id:"settings",label:"Settings",Icon:function({isHovered:e}){return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${te} overflow-visible`,children:[s.jsx("g",{style:{transform:e?"rotate(45deg)":"rotate(0deg)",transformOrigin:"24px 24px",transition:"transform 0.5s ease-in-out"},children:s.jsx("path",{d:"M21 4H27V10L30 11.5L35 6L42 13L37 18L38.5 21H44V27H38.5L37 30L42 35L35 42L30 37L27 38.5V44H21V38.5L18 37L13 42L6 35L11 30L9.5 27H4V21H9.5L11 18L6 13L13 6L18 11L21 10V4Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",fill:"none"})}),s.jsx("circle",{cx:"24",cy:"24",r:"7",stroke:"white",strokeWidth:"2.5",fill:"none"})]})}},{id:"more",label:"More",Icon:function({isHovered:e}){return s.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:te,style:{transform:e?"rotate(90deg)":"rotate(0deg)",transformOrigin:"50% 50%",transition:"transform 0.4s ease-in-out"},children:[{cx:8,cy:8},{cx:24,cy:8},{cx:40,cy:8},{cx:8,cy:24},{cx:24,cy:24},{cx:40,cy:24},{cx:8,cy:40},{cx:24,cy:40},{cx:40,cy:40}].map((t,r)=>s.jsx("circle",{cx:t.cx,cy:t.cy,r:"4",fill:"white",style:{transform:e?"scale(1.15)":"scale(1)",transformOrigin:`${t.cx}px ${t.cy}px`,transition:`transform 0.3s ease ${.03*r}s`}},r))})}}];function oe({activeSection:e,setActiveSection:r,userProfile:o,unreadCount:a=0,cachedProfilePic:l,isCollapsed:i,onCollapsedChange:c}){const d=n(),[x,m]=t.useState(!1),[h,u]=t.useState(null),p=void 0!==i?i:x,f=e=>{c?c(e):m(e)};t.useEffect(()=>{const e=()=>{window.innerWidth<1280&&f(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const y=null==o?void 0:o.profile_picture_url,g=l||(y&&!y.startsWith("blob:")?y:null),j=(null==o?void 0:o.first_name)&&(null==o?void 0:o.last_name)?`${o.first_name} ${o.last_name}`:"Your Name",b=(null==o?void 0:o.username)||"username";return s.jsxs("aside",{className:"hidden lg:flex flex-col h-screen fixed left-0 top-0 border-r border-[#1a1a1a]/50 bg-[#111111] z-40",style:{width:p?80:240,transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[s.jsxs("div",{className:"relative",style:{height:"96px"},children:[s.jsx("div",{className:"absolute top-1/2 flex items-center justify-center",style:{left:"28px",width:"28px",transform:"translateY(-50%)",opacity:p?1:0,transition:"opacity 0.2s ease",pointerEvents:p?"auto":"none"},children:s.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>d("/"),children:s.jsx(re,{className:"w-7 h-7"})})}),s.jsx("div",{className:"absolute top-0 left-0 h-full flex items-center px-4",style:{opacity:p?0:1,transition:"opacity 0.2s ease",pointerEvents:p?"none":"auto"},children:s.jsx("img",{src:"/elevate_transparent_white_.png",alt:"ELEVATE",className:"h-32 -my-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>d("/")})})]}),s.jsx("nav",{className:"flex-1 px-3",children:ne.map(t=>{const n=h===t.id,o=e===t.id,l=t.Icon,i="messages"===t.id&&a>0&&"messages"!==e;return s.jsxs("div",{className:"cursor-pointer flex items-center gap-5 px-4 py-3 rounded-full transition-all duration-200 my-0.5",onMouseEnter:()=>u(t.id),onMouseLeave:()=>u(null),onClick:()=>{return e=t.id,r(e),void f("messages"===e);var e},style:{backgroundColor:n?"rgba(255,255,255,0.08)":"transparent"},children:[s.jsx("div",{className:"w-7 h-7 flex items-center justify-center overflow-visible flex-shrink-0",children:"messages"===t.id?s.jsx(l,{isHovered:n,unreadCount:i?a:0}):s.jsx(l,{isHovered:n})}),s.jsx("span",{className:"text-lg whitespace-nowrap overflow-hidden",style:{color:n||o?"#ffffff":"#F8FAFC",fontWeight:o?700:400,opacity:p?0:1,width:p?0:"auto",transition:"opacity 0.2s ease, width 0.3s ease, color 0.2s ease"},children:t.label})]},t.id)})}),s.jsx("div",{className:"p-3 mb-4 mx-3 rounded-full cursor-pointer transition-all duration-200 hover:bg-white/10",onClick:()=>{r("profile"),f(!1)},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:g||v,alt:"Profile",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",style:{opacity:p?0:1,width:p?0:"auto",transition:"opacity 0.2s ease, width 0.3s ease"},children:[s.jsx("div",{className:"font-semibold text-[#F8FAFC] text-sm truncate",children:j}),s.jsxs("div",{className:"text-[#94A3B8] text-sm truncate",children:["@",b]})]})]})})]})}function ae({activeSection:e,setActiveSection:r,unreadCount:n=0}){const[o,a]=t.useState(null),l=(t,r,o)=>{const a=r||o?"white":"#9ca3af";switch(t){case"home":return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("rect",{x:"14",y:"18",width:"20",height:"24",rx:"2",stroke:a,strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M8 20L24 8L40 20",stroke:a,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M19 42V28C19 27.4477 19.4477 27 20 27H28C28.5523 27 29 27.4477 29 28V42",fill:a,style:{opacity:r?1:.3}})]});case"explore":return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:a,strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M24 10L28 24H20L24 10Z",stroke:a,strokeWidth:"2",strokeLinejoin:"round",fill:a}),s.jsx("path",{d:"M24 38L28 24H20L24 38Z",stroke:a,strokeWidth:"2",strokeLinejoin:"round",fill:"none"}),s.jsx("circle",{cx:"24",cy:"24",r:"2.5",fill:a})]});case"messages":return s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("path",{d:"M32 12H18C14.6863 12 12 14.6863 12 18V26C12 29.3137 14.6863 32 18 32H20L24 36L28 32H32C35.3137 32 38 29.3137 38 26V18C38 14.6863 35.3137 12 32 12Z",stroke:a,strokeWidth:"2.5",fill:"none"}),s.jsx("path",{d:"M30 20H16C13.2386 20 11 22.2386 11 25V31C11 33.7614 13.2386 36 16 36H18L21 40L24 36H30C32.7614 36 35 33.7614 35 31V25C35 22.2386 32.7614 20 30 20Z",stroke:a,strokeWidth:"2.5",fill:"rgba(0,0,0,0.8)"}),s.jsxs("g",{style:{opacity:.7},children:[s.jsx("circle",{cx:"17",cy:"28",r:"1.5",fill:a}),s.jsx("circle",{cx:"23",cy:"28",r:"1.5",fill:a}),s.jsx("circle",{cx:"29",cy:"28",r:"1.5",fill:a})]})]}),"messages"!==e&&n>0&&s.jsxs("div",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:[s.jsx("div",{className:"absolute w-3 h-3 rounded-full bg-red-500 animate-ping opacity-75"}),s.jsx("div",{className:"relative w-3 h-3 rounded-full bg-red-500 flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-[8px] font-bold text-white leading-none",children:n>9?"9+":n})})]})]});case"settings":return s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[s.jsx("path",{d:"M22 4H26V8.5L28.5 9.5L32 6.5L35 9.5L32 13L33 15.5H38V19.5H33L32 22L35 25.5L32 28.5L28.5 25.5L26 26.5V31H22V26.5L19.5 25.5L16 28.5L13 25.5L16 22L15 19.5H10V15.5H15L16 13L13 9.5L16 6.5L19.5 9.5L22 8.5V4Z",stroke:a,strokeWidth:"2.5",strokeLinejoin:"round",fill:"none",transform:"translate(0, 6.5)"}),s.jsx("circle",{cx:"24",cy:"24",r:"5",stroke:a,strokeWidth:"2.5",fill:"none"})]});default:return null}};return s.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#111111] border-t border-[#2f2f2f] px-2 py-2 safe-area-inset-bottom",children:s.jsx("div",{className:"flex items-center justify-around",children:[{id:"home",label:"Home"},{id:"explore",label:"Explore"},{id:"messages",label:"Messages"},{id:"settings",label:"Settings"}].map(t=>{const n=e===t.id,i=o===t.id;return s.jsxs("button",{onClick:()=>r(t.id),onMouseEnter:()=>a(t.id),onMouseLeave:()=>a(null),className:"flex flex-col items-center gap-1 py-2 px-4 rounded-lg transition-all duration-200",style:{backgroundColor:i?"rgba(255,255,255,0.1)":"transparent"},children:[l(t.id,n,i),s.jsx("span",{className:"text-xs font-medium",style:{color:n||i?"white":"#9ca3af"},children:t.label})]},t.id)})})})}function le({userProfile:e,cachedProfilePic:r,onBack:n,onUpdateProfile:o,isEditing:a=!1,setIsEditing:l}){const[i,c]=t.useState(!1),[d,x]=t.useState(!1),[m,h]=t.useState("posts");t.useState((null==e?void 0:e.bio)||"");const u=t.useRef(null),p=t.useRef(null),f=null==e?void 0:e.profile_picture_url,y=r||(f&&!f.startsWith("blob:")?f:null);return s.jsxs("div",{className:"min-h-screen bg-[#111111]",children:[s.jsx("div",{className:"sticky top-0 z-10 bg-[#111111]/80 backdrop-blur-md border-b border-[#1a1a1a]",children:s.jsxs("div",{className:"flex items-center gap-6 px-4 py-3",children:[n&&s.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:s.jsx(C,{className:"w-5 h-5",style:{color:"#F8FAFC"}})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-xl",style:{color:"#F8FAFC"},children:(null==e?void 0:e.first_name)&&(null==e?void 0:e.last_name)?`${e.first_name} ${e.last_name}`:"Your Profile"}),s.jsx("p",{className:"text-sm",style:{color:"#94A3B8"},children:"0 posts"})]})]})}),s.jsxs("div",{className:"relative h-48 cursor-pointer group",style:{backgroundColor:"#1a1a1e"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>{var e;null==(e=u.current)||e.click()},children:[(null==e?void 0:e.banner_url)&&s.jsx("img",{src:e.banner_url,alt:"Banner",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center transition-opacity "+(i?"opacity-100":"opacity-0"),children:s.jsx(N,{className:"w-8 h-8",style:{color:"#F8FAFC"}})}),s.jsx("input",{type:"file",ref:u,className:"hidden",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&o&&o({banner:t})}})]}),s.jsxs("div",{className:"px-6 pb-6 relative",children:[s.jsxs("div",{className:"absolute -top-16 left-6 w-32 h-32 rounded-full border-4 border-[#111111] overflow-hidden cursor-pointer group",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onClick:()=>{var e;null==(e=p.current)||e.click()},children:[y?s.jsx("img",{src:y,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("img",{src:v,alt:"Profile",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center transition-opacity "+(d?"opacity-100":"opacity-0"),children:s.jsx(N,{className:"w-6 h-6",style:{color:"#F8FAFC"}})}),s.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&o&&o({profile_picture:t})}})]}),s.jsx("div",{className:"flex justify-end pt-3",children:s.jsx("button",{onClick:()=>null==l?void 0:l(!a),className:"px-5 py-2 rounded-xl font-semibold text-sm hover:brightness-110 transition-all",style:{backgroundColor:"#1a1a1e",color:"#F8FAFC"},children:"Edit profile"})}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"font-bold text-xl",style:{color:"#F8FAFC"},children:(null==e?void 0:e.first_name)&&(null==e?void 0:e.last_name)?`${e.first_name} ${e.last_name}`:"Your Name"}),s.jsxs("p",{style:{color:"#64748B"},children:["@",(null==e?void 0:e.username)||"username"]})]}),s.jsx("p",{className:"mt-3",style:{color:"#F8FAFC"},children:(null==e?void 0:e.bio)||"No bio yet."}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",style:{color:"#94A3B8"},children:[(null==e?void 0:e.location)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(F,{className:"w-4 h-4"}),s.jsx("span",{children:e.location})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(L,{className:"w-4 h-4"}),s.jsx("span",{children:(e=>{if(!e)return"Joined recently";return`Joined ${new Date(e).toLocaleDateString("en-US",{month:"long",year:"numeric"})}`})(null==e?void 0:e.created_at)})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-bold",style:{color:"#F8FAFC"},children:"0"}),s.jsx("span",{style:{color:"#94A3B8"},children:"Following"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-bold",style:{color:"#F8FAFC"},children:"0"}),s.jsx("span",{style:{color:"#94A3B8"},children:"Followers"})]})]})]}),s.jsx("div",{className:"border-b",style:{borderColor:"#1a1a1a"},children:s.jsx("div",{className:"flex",children:[{id:"posts",label:"Posts"},{id:"replies",label:"Replies"},{id:"highlights",label:"Highlights"},{id:"articles",label:"Articles"},{id:"media",label:"Media"},{id:"likes",label:"Likes"}].map(e=>s.jsxs("button",{onClick:()=>h(e.id),className:"flex-1 py-4 text-center hover:bg-white/5 transition-colors relative",children:[s.jsx("span",{style:{color:m===e.id?"#F8FAFC":"#94A3B8",fontWeight:m===e.id?600:400},children:e.label}),m===e.id&&s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-14 h-1 rounded-full",style:{backgroundColor:"#3B82F6"}})]},e.id))})}),s.jsx("div",{className:"p-8 text-center",style:{color:"#94A3B8"},children:s.jsx("p",{children:"No content yet."})})]})}const ie=[{id:"personal",label:"Personal info",IconComponent:function({isHovered:e=!1}){return s.jsxs("div",{className:"flex items-center justify-center pointer-events-none",children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",children:[s.jsx("circle",{cx:"24",cy:"16",r:"6",stroke:"white",strokeWidth:"2.5",fill:"none",style:{animation:e?"userHeadPulse 0.6s ease-in-out":"none"}}),s.jsx("path",{d:"M12 40C12 32 17 28 24 28C31 28 36 32 36 40",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",fill:"none",style:{animation:e?"userBodyPulse 0.6s ease-in-out":"none"}}),s.jsx("line",{x1:"8",y1:"8",x2:"40",y2:"8",stroke:"white",strokeWidth:"2",strokeLinecap:"round",style:{opacity:0,animation:e?"scanDown 0.8s ease-out":"none"}}),s.jsx("line",{x1:"8",y1:"8",x2:"40",y2:"8",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",style:{opacity:0,animation:e?"scanDown 0.8s ease-out 0.15s":"none"}}),s.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"white",strokeWidth:"1.5",fill:"none",style:{opacity:0,animation:e?"userGlow 0.6s ease-in-out":"none"}}),s.jsx("circle",{cx:"18",cy:"16",r:"2",fill:"white",style:{opacity:0,animation:e?"pointPulse 0.6s ease-in-out 0.2s":"none"}}),s.jsx("circle",{cx:"30",cy:"16",r:"2",fill:"white",style:{opacity:0,animation:e?"pointPulse 0.6s ease-in-out 0.3s":"none"}})]}),s.jsx("style",{children:"\n        @keyframes userHeadPulse {\n          0% { \n            transform: scale(1); \n            opacity: 1;\n          }\n          50% { \n            transform: scale(1.15); \n            opacity: 1;\n          }\n          100% { \n            transform: scale(1); \n            opacity: 1;\n          }\n        }\n        \n        @keyframes userBodyPulse {\n          0% { \n            transform: scale(1); \n            opacity: 1;\n          }\n          50% { \n            transform: scale(1.08); \n            opacity: 1;\n          }\n          100% { \n            transform: scale(1); \n            opacity: 1;\n          }\n        }\n        \n        @keyframes scanDown {\n          0% { \n            opacity: 0; \n            transform: translateY(0); \n          }\n          20% { \n            opacity: 0.8; \n          }\n          80% {\n            opacity: 0.6;\n          }\n          100% { \n            opacity: 0; \n            transform: translateY(32px); \n          }\n        }\n        \n        @keyframes userGlow {\n          0% { \n            opacity: 0; \n            transform: scale(0.8); \n          }\n          50% { \n            opacity: 0.6; \n            transform: scale(1.05); \n          }\n          100% { \n            opacity: 0; \n            transform: scale(1.1); \n          }\n        }\n        \n        @keyframes pointPulse {\n          0% { \n            opacity: 0; \n            transform: scale(0); \n          }\n          30% { \n            opacity: 0.9; \n            transform: scale(1.5); \n          }\n          60% {\n            opacity: 0.6;\n            transform: scale(1.2);\n          }\n          100% { \n            opacity: 0; \n            transform: scale(0.8); \n          }\n        }\n      "})]})}},{id:"accounts",label:"Connected accounts",IconComponent:function({isHovered:e=!1}){return s.jsx("div",{className:"flex items-center justify-center pointer-events-none",children:s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",children:[s.jsx("path",{d:"M10 10H20V16C20 16 18 16 18 18C18 20 20 20 20 20V24H10V10Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",style:{transform:e?"translate(-4px, -4px)":"translate(0, 0)",transition:"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)"}}),s.jsx("path",{d:"M24 10H38V24H34C34 24 34 22 32 22C30 22 30 24 30 24H24V20C24 20 26 20 26 18C26 16 24 16 24 16V10Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",style:{transform:e?"translate(4px, -4px)":"translate(0, 0)",transition:"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.05s"}}),s.jsx("path",{d:"M10 28H20V34C20 34 18 34 18 36C18 38 20 38 20 38V42H10V28Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",style:{transform:e?"translate(-4px, 4px)":"translate(0, 0)",transition:"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s"}}),s.jsx("path",{d:"M24 28H30C30 28 30 26 32 26C34 26 34 28 34 28H38V42H24V38C24 38 26 38 26 36C26 34 24 34 24 34V28Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round",style:{transform:e?"translate(4px, 4px)":"translate(0, 0)",transition:"transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s"}})]})})}},{id:"payout",label:"Payment method",IconComponent:function({isHovered:e=!1}){return s.jsxs("div",{className:"flex items-center justify-center pointer-events-none",children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",style:{animation:e?"cardSpin 0.6s ease-in-out":"none"},children:[s.jsx("rect",{x:"6",y:"12",width:"36",height:"24",rx:"3",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"6",y1:"20",x2:"42",y2:"20",stroke:"white",strokeWidth:"2.5"}),s.jsx("rect",{x:"12",y:"26",width:"8",height:"6",rx:"1",stroke:"white",strokeWidth:"2.5"}),s.jsx("line",{x1:"26",y1:"29",x2:"36",y2:"29",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeDasharray:"2 4"}),s.jsx("rect",{x:"-2",y:"12",width:"10",height:"24",fill:"url(#shimmer-credit)",style:{opacity:0,animation:e?"shimmerSweep 0.6s ease-out":"none"}}),s.jsx("rect",{x:"6",y:"12",width:"36",height:"24",rx:"3",stroke:"white",strokeWidth:"3",fill:"none",style:{opacity:0,animation:e?"cardGlow 0.6s ease-in-out":"none"}}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"shimmer-credit",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"white",stopOpacity:"0"}),s.jsx("stop",{offset:"50%",stopColor:"white",stopOpacity:"0.8"}),s.jsx("stop",{offset:"100%",stopColor:"white",stopOpacity:"0"})]})})]}),s.jsx("style",{children:"\n        @keyframes cardSpin {\n          0% { \n            transform: rotateY(0deg); \n          }\n          50% { \n            transform: rotateY(180deg) scale(1.1); \n          }\n          100% { \n            transform: rotateY(360deg); \n          }\n        }\n        \n        @keyframes shimmerSweep {\n          0% { \n            opacity: 0; \n            transform: translateX(0); \n          }\n          30% { \n            opacity: 0.7; \n          }\n          100% { \n            opacity: 0; \n            transform: translateX(50px); \n          }\n        }\n        \n        @keyframes cardGlow {\n          0% { \n            opacity: 0; \n            transform: scale(1); \n          }\n          50% { \n            opacity: 0.5; \n            transform: scale(1.15); \n          }\n          100% { \n            opacity: 0; \n            transform: scale(1); \n          }\n        }\n      "})]})}},{id:"notifications",label:"Notifications",IconComponent:function({isHovered:e=!1}){return s.jsxs("div",{className:"flex items-center justify-center pointer-events-none",children:[s.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",children:[s.jsxs("g",{style:{transform:"rotate(0deg)",transformOrigin:"24px 8px",animation:e?"bellRing 0.6s ease-in-out":"none"},children:[s.jsx("path",{d:"M24 6C24 6 24 8 24 10C18 10 14 15 14 22V30L10 34H38L34 30V22C34 15 30 10 24 10C24 8 24 6 24 6Z",stroke:"white",strokeWidth:"2.5",strokeLinejoin:"round"}),s.jsx("path",{d:"M20 34C20 37 22 40 24 40C26 40 28 37 28 34",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round"})]}),s.jsx("circle",{cx:"24",cy:"24",r:"18",stroke:"white",strokeWidth:"2",style:{opacity:0,transform:e?"scale(1.3)":"scale(1)",transformOrigin:"center",animation:e?"ripple1 0.8s ease-out":"none"}}),s.jsx("circle",{cx:"24",cy:"24",r:"18",stroke:"white",strokeWidth:"2",style:{opacity:0,transform:e?"scale(1.4)":"scale(1)",transformOrigin:"center",animation:e?"ripple2 0.8s ease-out 0.15s":"none"}}),s.jsx("circle",{cx:"24",cy:"24",r:"18",stroke:"white",strokeWidth:"1.5",style:{opacity:0,transform:e?"scale(1.5)":"scale(1)",transformOrigin:"center",animation:e?"ripple3 0.8s ease-out 0.3s":"none"}})]}),s.jsx("style",{children:"\n        @keyframes bellRing {\n          0% { transform: rotate(0deg); }\n          10% { transform: rotate(-15deg); }\n          30% { transform: rotate(12deg); }\n          50% { transform: rotate(-10deg); }\n          70% { transform: rotate(6deg); }\n          85% { transform: rotate(-3deg); }\n          100% { transform: rotate(0deg); }\n        }\n        \n        @keyframes ripple1 {\n          0% { \n            opacity: 0; \n            transform: scale(1); \n          }\n          20% { \n            opacity: 0.5; \n          }\n          100% { \n            opacity: 0; \n            transform: scale(1.3); \n          }\n        }\n        \n        @keyframes ripple2 {\n          0% { \n            opacity: 0; \n            transform: scale(1); \n          }\n          20% { \n            opacity: 0.4; \n          }\n          100% { \n            opacity: 0; \n            transform: scale(1.4); \n          }\n        }\n        \n        @keyframes ripple3 {\n          0% { \n            opacity: 0; \n            transform: scale(1); \n          }\n          20% { \n            opacity: 0.3; \n          }\n          100% { \n            opacity: 0; \n            transform: scale(1.5); \n          }\n        }\n      "})]})}}];function ce({label:e,IconComponent:r,onClick:n,isActive:o,showBorder:a=!0}){const[l,i]=t.useState(!1);return s.jsxs("div",{onClick:n,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`flex items-center gap-4 px-4 py-4 cursor-pointer transition-colors ${o?"bg-white/5":"hover:bg-white/5"} ${a?"border-b border-[#2f2f2f]":""}`,children:[s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx(r,{isHovered:l})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"text-[15px]",style:{color:"#F8FAFC"},children:e})}),s.jsx(W,{className:"w-5 h-5 flex-shrink-0",style:{color:"#94A3B8"}})]})}function de({renderPersonalInfo:e,renderConnectedAccounts:r,renderPayoutMethods:n,renderNotifications:o,isMobile:a=!1,onBack:l}){const[i,c]=t.useState("personal"),[d,x]=t.useState(""),[m,h]=t.useState(null),u=()=>{switch(i){case"personal":return"Personal info";case"accounts":return"Connected accounts";case"payout":return"Payment method";case"notifications":return"Notifications";default:return""}},p=()=>{switch(i){case"personal":return e();case"accounts":return r();case"payout":return n();case"notifications":return o();default:return null}};return a?m?s.jsxs("div",{className:"animate-fade-in pb-20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("button",{onClick:()=>h(null),className:"p-2 -ml-2 rounded-full hover:bg-white/10 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",style:{color:"#F8FAFC"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-xl font-bold",style:{color:"#F8FAFC"},children:u()})]}),p()]}):s.jsxs("div",{className:"animate-fade-in pb-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",style:{color:"#F8FAFC"},children:"Settings"}),l&&s.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-white/10 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",style:{color:"#94A3B8"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5",style:{color:"#94A3B8"}}),s.jsx("input",{type:"text",placeholder:"Search Settings",value:d,onChange:e=>x(e.target.value),className:"w-full border rounded-full py-3 pl-12 pr-4 text-white focus:outline-none focus:border-[#3B82F6]",style:{backgroundColor:"#1a1a1e",borderColor:"#2f2f2f",color:"#F8FAFC"}})]}),s.jsx("div",{className:"rounded-2xl overflow-hidden",style:{backgroundColor:"#1a1a1e"},children:ie.map((e,t)=>s.jsx(ce,{label:e.label,IconComponent:e.IconComponent,onClick:()=>{c(e.id),h(e.id)},showBorder:t<ie.length-1},e.id))})]}):s.jsxs("div",{className:"flex h-[calc(100vh-2rem)] animate-fade-in",children:[s.jsxs("div",{className:"w-[380px] flex-shrink-0 border-r flex flex-col",style:{borderColor:"#1a1a1a"},children:[s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",style:{color:"#F8FAFC"},children:"Settings"}),s.jsxs("div",{className:"relative",children:[s.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"#94A3B8"}}),s.jsx("input",{type:"text",placeholder:"Search Settings",value:d,onChange:e=>x(e.target.value),className:"w-full bg-transparent border rounded-full py-2.5 pl-10 pr-4 text-[15px] focus:outline-none focus:border-[#3B82F6]",style:{borderColor:"#2f2f2f",color:"#F8FAFC"}})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:ie.map((e,t)=>s.jsx(ce,{label:e.label,IconComponent:e.IconComponent,onClick:()=>c(e.id),isActive:i===e.id,showBorder:t<ie.length-1},e.id))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-6 border-b",style:{borderColor:"#1a1a1a"},children:[s.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"#F8FAFC"},children:u()}),s.jsx("p",{className:"text-[15px] leading-relaxed",style:{color:"#94A3B8"},children:(()=>{switch(i){case"personal":return"See information about your account, download an archive of your data, or learn about your account deactivation options.";case"accounts":return"Manage your connected social media accounts and third-party integrations.";case"payout":return"Manage your payment methods and payout settings.";case"notifications":return"Select the kinds of notifications you get about your activities and recommendations.";default:return""}})()})]}),s.jsx("div",{className:"p-6",children:p()})]})})]})}export{se as A,oe as C,U as E,Q as F,B as I,ae as M,le as P,P as R,de as S,E as V,R as a,$ as b};
